/*! For license information please see main.fe87bec5.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},91:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"BookmarkBorder");t.Z=o},903:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8)},8:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(r(7));return e.charAt(0).toUpperCase()+e.slice(1)}n.r(t),n.d(t,{capitalize:function(){return a},createChainedFunction:function(){return o},createSvgIcon:function(){return Pr},debounce:function(){return Rr},deprecatedPropType:function(){return Dr},isMuiElement:function(){return Lr},ownerDocument:function(){return Fr},ownerWindow:function(){return Ur},requirePropFactory:function(){return jr},setRef:function(){return zr},unstable_ClassNameGenerator:function(){return xr},unstable_useEnhancedEffect:function(){return Wr},unstable_useId:function(){return Hr},unsupportedProp:function(){return Gr},useControlled:function(){return Zr},useEventCallback:function(){return Qr},useForkRef:function(){return Yr},useIsFocusVisible:function(){return ai}});var a=i;var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},u=n(462),s=n(791);function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function l(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function f(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r}function h(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,u.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function d(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,u.Z)({},e):e;return d(e)&&d(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(d(t[i])&&i in e&&d(e[i])?r[i]=p(e[i],t[i],n):r[i]=t[i])})),r}var v=["values","unit","step"];function y(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=c(e,v),l=Object.keys(n);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,u.Z)({keys:l,values:n,up:f,down:h,between:d,only:function(e){return l.indexOf(e)+1<l.length?d(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?h(l[t]):d(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var m={borderRadius:4},g=n(439),k={xs:0,sm:600,md:900,lg:1200,xl:1536},b={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(k[e],"px)")}};function w(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||b;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||b;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||k).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function x(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function _(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}var E=n(942);function I(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function S(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:I(e,n)||i,t&&(r=t(r)),r}var T=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,o=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=I(e.theme,a)||{};return w(e,n,(function(e){var n=S(u,o,e);return e===n&&"string"===typeof e&&(n=S(u,o,"".concat(t).concat("default"===e?"":i(e)),e)),!1===r?n:(0,E.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var A=function(e,t){return t?p(e,t,{clone:!1}):e};var C={m:"margin",p:"padding"},N={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},P=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!O[e])return[e];e=O[e]}var t=e.split(""),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=C[r],o=N[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),R=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],D=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],L=[].concat(R,D);function M(e,t,n,r){var i=I(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function F(e){return M(e,"spacing",8)}function U(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function j(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=U(t,n),e}),{})}}(P(n),r);return w(e,e[n],i)}function V(e,t){var n=F(e.theme);return Object.keys(e).map((function(r){return j(e,t,r,n)})).reduce(A,{})}function z(e){return V(e,R)}function q(e){return V(e,D)}function B(e){return V(e,L)}z.propTypes={},z.filterProps=R,q.propTypes={},q.filterProps=D,B.propTypes={},B.filterProps=L;var W=B;function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=F({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var H=["breakpoints","palette","spacing","shape"];var G=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,l=c(e,H),f=y(n),h=K(a),d=p({breakpoints:f,direction:"ltr",components:{},palette:(0,u.Z)({mode:"light"},i),spacing:h,shape:(0,u.Z)({},m,s)},l),v=arguments.length,g=new Array(v>1?v-1:0),k=1;k<v;k++)g[k-1]=arguments[k];return d=g.reduce((function(e,t){return p(e,t)}),d)};var Z=s.createContext(null);function Q(){return s.useContext(Z)}function $(e){return 0===Object.keys(e).length}var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Q();return!t||$(t)?e:t},J=G();var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return Y(e)};function ee(e,t,n){var r;return(0,u.Z)({toolbar:(r={minHeight:56},(0,E.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,E.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ne(e){if(e.type)return e;if("#"===e.charAt(0))return ne(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(r(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(r(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function re(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ie(e){var t="hsl"===(e=ne(e)).type?ne(function(e){var t=(e=ne(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),re({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ae(e,t){if(e=ne(e),t=te(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return re(e)}function oe(e,t){if(e=ne(e),t=te(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return re(e)}var ue={black:"#000",white:"#fff"},se={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ce={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},le={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},fe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},he={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},de={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},pe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ve=["mode","contrastThreshold","tonalOffset"],ye={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ue.white,default:ue.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},me={text:{primary:ue.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ue.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ge(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=oe(e.main,i):"dark"===t&&(e.dark=ae(e.main,a)))}function ke(e){var t=e.mode,n=void 0===t?"light":t,i=e.contrastThreshold,a=void 0===i?3:i,o=e.tonalOffset,s=void 0===o?.2:o,l=c(e,ve),f=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[700],light:he[400],dark:he[800]}}(n),h=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ce[200],light:ce[50],dark:ce[400]}:{main:ce[500],light:ce[300],dark:ce[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:le[500],light:le[300],dark:le[700]}:{main:le[700],light:le[400],dark:le[800]}}(n),v=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[400],light:de[300],dark:de[700]}:{main:de[700],light:de[500],dark:de[900]}}(n),y=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:pe[800],light:pe[500],dark:pe[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fe[400],light:fe[300],dark:fe[700]}:{main:"#ed6c02",light:fe[500],dark:fe[900]}}(n);function g(e){var t=function(e,t){var n=ie(e),r=ie(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,me.text.primary)>=a?me.text.primary:ye.text.primary;return t}var k=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,c=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,u.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(r(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(r(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ge(t,"light",c,s),ge(t,"dark",f,s),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:me,light:ye};return p((0,u.Z)({common:ue,mode:n,primary:k({color:f,name:"primary"}),secondary:k({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:m,name:"warning"}),info:k({color:v,name:"info"}),success:k({color:y,name:"success"}),grey:se,contrastThreshold:a,getContrastText:g,augmentColor:k,tonalOffset:s},b[n]),l)}var be=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var we={textTransform:"uppercase"},xe='"Roboto", "Helvetica", "Arial", sans-serif';function _e(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?xe:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,l=void 0===s?300:s,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,v=void 0===d?500:d,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=c(n,be);var _=o/14,E=w||function(e){return"".concat(e/k*_,"rem")},I=function(e,t,n,r,a){return(0,u.Z)({fontFamily:i,fontWeight:e,fontSize:E(t),lineHeight:n},i===xe?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},S={h1:I(l,96,1.167,-1.5),h2:I(l,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(v,14,1.75,.4,we),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,we)};return p((0,u.Z)({htmlFontSize:k,pxToRem:E,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:m},S),x,{clone:!1})}function Ee(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ie=["none",Ee(0,2,1,-1,0,1,1,0,0,1,3,0),Ee(0,3,1,-2,0,2,2,0,0,1,5,0),Ee(0,3,3,-2,0,3,4,0,0,1,8,0),Ee(0,2,4,-1,0,4,5,0,0,1,10,0),Ee(0,3,5,-1,0,5,8,0,0,1,14,0),Ee(0,3,5,-1,0,6,10,0,0,1,18,0),Ee(0,4,5,-2,0,7,10,1,0,2,16,1),Ee(0,5,5,-3,0,8,10,1,0,3,14,2),Ee(0,5,6,-3,0,9,12,1,0,3,16,2),Ee(0,6,6,-3,0,10,14,1,0,4,18,3),Ee(0,6,7,-4,0,11,15,1,0,4,20,3),Ee(0,7,8,-4,0,12,17,2,0,5,22,4),Ee(0,7,8,-4,0,13,19,2,0,5,24,4),Ee(0,7,9,-4,0,14,21,2,0,5,26,4),Ee(0,8,9,-5,0,15,22,2,0,6,28,5),Ee(0,8,10,-5,0,16,24,2,0,6,30,5),Ee(0,8,11,-5,0,17,26,2,0,6,32,5),Ee(0,9,11,-5,0,18,28,2,0,7,34,6),Ee(0,9,12,-6,0,19,29,2,0,7,36,6),Ee(0,10,13,-6,0,20,31,3,0,8,38,7),Ee(0,10,13,-6,0,21,33,3,0,8,40,7),Ee(0,10,14,-6,0,22,35,3,0,8,42,7),Ee(0,11,14,-7,0,23,36,3,0,9,44,8),Ee(0,11,15,-7,0,24,38,3,0,9,46,8)],Se=["duration","easing","delay"],Te={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ae={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ce(e){return"".concat(Math.round(e),"ms")}function Ne(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Oe(e){var t=(0,u.Z)({},Te,e.easing),n=(0,u.Z)({},Ae,e.duration);return(0,u.Z)({getAutoHeightDuration:Ne,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,l=void 0===s?0:s;c(r,Se);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Ce(a)," ").concat(u," ").concat("string"===typeof l?l:Ce(l))})).join(",")}},e,{easing:t,duration:n})}var Pe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Re=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,l=void 0===s?{}:s,f=c(e,Re),h=ke(i),d=G(e),v=p(d,{mixins:ee(d.breakpoints,d.spacing,n),palette:h,shadows:Ie.slice(),typography:_e(h,l),transitions:Oe(o),zIndex:(0,u.Z)({},Pe)});v=p(v,f);for(var y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];return v=m.reduce((function(e,t){return p(e,t)}),v)}var Le=De();function Me(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return h({theme:X(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Le})}var Fe=n(433);var Ue=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},je=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ve=Ue((function(e){return je.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qe=Math.abs,Be=String.fromCharCode,We=Object.assign;function Ke(e){return e.trim()}function He(e,t,n){return e.replace(t,n)}function Ge(e,t){return e.indexOf(t)}function Ze(e,t){return 0|e.charCodeAt(t)}function Qe(e,t,n){return e.slice(t,n)}function $e(e){return e.length}function Ye(e){return e.length}function Je(e,t){return t.push(e),e}var Xe=1,et=1,tt=0,nt=0,rt=0,it="";function at(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Xe,column:et,length:o,return:""}}function ot(e,t){return We(at("",null,null,"",null,null,0),e,{length:-e.length},t)}function ut(){return rt=nt>0?Ze(it,--nt):0,et--,10===rt&&(et=1,Xe--),rt}function st(){return rt=nt<tt?Ze(it,nt++):0,et++,10===rt&&(et=1,Xe++),rt}function ct(){return Ze(it,nt)}function lt(){return nt}function ft(e,t){return Qe(it,e,t)}function ht(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dt(e){return Xe=et=1,tt=$e(it=e),nt=0,[]}function pt(e){return it="",e}function vt(e){return Ke(ft(nt-1,gt(91===e?e+2:40===e?e+1:e)))}function yt(e){for(;(rt=ct())&&rt<33;)st();return ht(e)>2||ht(rt)>3?"":" "}function mt(e,t){for(;--t&&st()&&!(rt<48||rt>102||rt>57&&rt<65||rt>70&&rt<97););return ft(e,lt()+(t<6&&32==ct()&&32==st()))}function gt(e){for(;st();)switch(rt){case e:return nt;case 34:case 39:34!==e&&39!==e&&gt(rt);break;case 40:41===e&&gt(e);break;case 92:st()}return nt}function kt(e,t){for(;st()&&e+rt!==57&&(e+rt!==84||47!==ct()););return"/*"+ft(t,nt-1)+"*"+Be(47===e?e:st())}function bt(e){for(;!ht(ct());)st();return ft(e,nt)}var wt="-ms-",xt="-moz-",_t="-webkit-",Et="comm",It="rule",St="decl",Tt="@keyframes";function At(e,t){for(var n="",r=Ye(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Ct(e,t,n,r){switch(e.type){case"@import":case St:return e.return=e.return||e.value;case Et:return"";case Tt:return e.return=e.value+"{"+At(e.children,r)+"}";case It:e.value=e.props.join(",")}return $e(n=At(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nt(e,t){switch(function(e,t){return(((t<<2^Ze(e,0))<<2^Ze(e,1))<<2^Ze(e,2))<<2^Ze(e,3)}(e,t)){case 5103:return _t+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+e+xt+e+wt+e+e;case 6828:case 4268:return _t+e+wt+e+e;case 6165:return _t+e+wt+"flex-"+e+e;case 5187:return _t+e+He(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return _t+e+wt+"flex-item-"+He(e,/flex-|-self/,"")+e;case 4675:return _t+e+wt+"flex-line-pack"+He(e,/align-content|flex-|-self/,"")+e;case 5548:return _t+e+wt+He(e,"shrink","negative")+e;case 5292:return _t+e+wt+He(e,"basis","preferred-size")+e;case 6060:return _t+"box-"+He(e,"-grow","")+_t+e+wt+He(e,"grow","positive")+e;case 4554:return _t+He(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return He(He(He(e,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),e,"")+e;case 5495:case 3959:return He(e,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return He(He(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+e+e;case 4095:case 3583:case 4068:case 2532:return He(e,/(.+)-inline(.+)/,_t+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($e(e)-1-t>6)switch(Ze(e,t+1)){case 109:if(45!==Ze(e,t+4))break;case 102:return He(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+xt+(108==Ze(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ge(e,"stretch")?Nt(He(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ze(e,t+1))break;case 6444:switch(Ze(e,$e(e)-3-(~Ge(e,"!important")&&10))){case 107:return He(e,":",":"+_t)+e;case 101:return He(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(45===Ze(e,14)?"inline-":"")+"box$3$1"+_t+"$2$3$1"+wt+"$2box$3")+e}break;case 5936:switch(Ze(e,t+11)){case 114:return _t+e+wt+He(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _t+e+wt+He(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _t+e+wt+He(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _t+e+wt+e+e}return e}function Ot(e){return pt(Pt("",null,null,null,[""],e=dt(e),0,[0],e))}function Pt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,x=r,_=k;y;)switch(p=g,g=st()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=Ge(_+=He(vt(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:_+=vt(g);break;case 9:case 10:case 13:case 32:_+=yt(p);break;case 92:_+=mt(lt()-1,7);continue;case 47:switch(ct()){case 42:case 47:Je(Dt(kt(st(),lt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=$e(_)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:d>0&&$e(_)-f&&Je(d>32?Lt(_+";",r,n,f-1):Lt(He(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(Je(x=Rt(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Pt(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Pt(e,x,x,r&&Je(Rt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Pt(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=m=1,k=_="",f=o;break;case 58:f=1+$e(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==ut())continue;switch(_+=Be(g),g*v){case 38:m=l>0?1:(_+="\f",-1);break;case 44:u[c++]=($e(_)-1)*m,m=1;break;case 64:45===ct()&&(_+=vt(st())),h=ct(),l=f=$e(k=_+=bt(lt())),g++;break;case 45:45===p&&2==$e(_)&&(v=0)}}return a}function Rt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Ye(h),p=0,v=0,y=0;p<r;++p)for(var m=0,g=Qe(e,f+1,f=qe(v=o[p])),k=e;m<d;++m)(k=Ke(v>0?h[m]+" "+g:He(g,/&\f/g,h[m])))&&(s[y++]=k);return at(e,t,n,0===i?It:u,s,c,l)}function Dt(e,t,n){return at(e,t,n,Et,Be(rt),Qe(e,2,-2),0)}function Lt(e,t,n,r){return at(e,t,n,St,Qe(e,0,r),Qe(e,r+1,-1),r)}var Mt=function(e,t,n){for(var r=0,i=0;r=i,i=ct(),38===r&&12===i&&(t[n]=1),!ht(i);)st();return ft(e,nt)},Ft=function(e,t){return pt(function(e,t){var n=-1,r=44;do{switch(ht(r)){case 0:38===r&&12===ct()&&(t[n]=1),e[n]+=Mt(nt-1,t,n);break;case 2:e[n]+=vt(r);break;case 4:if(44===r){e[++n]=58===ct()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Be(r)}}while(r=st());return e}(dt(e),t))},Ut=new WeakMap,jt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ut.get(n))&&!r){Ut.set(e,!0);for(var i=[],a=Ft(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Vt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},zt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case St:e.return=Nt(e.value,e.length);break;case Tt:return At([ot(e,{value:He(e.value,"@","@"+_t)})],r);case It:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return At([ot(e,{props:[He(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return At([ot(e,{props:[He(t,/:(plac\w+)/,":-webkit-input-$1")]}),ot(e,{props:[He(t,/:(plac\w+)/,":-moz-$1")]}),ot(e,{props:[He(t,/:(plac\w+)/,wt+"input-$1")]})],r)}return""}))}}],qt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||zt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Ct,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Ye(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([jt,Vt].concat(r,l));a=function(e,t,n,r){s=n,At(Ot(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Bt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Wt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kt=/[A-Z]|^ms/g,Ht=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gt=function(e){return 45===e.charCodeAt(1)},Zt=function(e){return null!=e&&"boolean"!==typeof e},Qt=Ue((function(e){return Gt(e)?e:e.replace(Kt,"-$&").toLowerCase()})),$t=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ht,(function(e,t,n){return Jt={name:t,styles:n,next:Jt},t}))}return 1===Wt[e]||Gt(e)||"number"!==typeof t||0===t?t:t+"px"};function Yt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Jt={name:n.name,styles:n.styles,next:Jt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Jt={name:r.name,styles:r.styles,next:Jt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Zt(o)&&(r+=Qt(a)+":"+$t(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Yt(e,t,o);switch(a){case"animation":case"animationName":r+=Qt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Zt(o[s])&&(r+=Qt(a)+":"+$t(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Jt,a=n(e);return Jt=i,Yt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Jt,Xt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var en=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Jt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Yt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Yt(n,t,e[o]),r&&(i+=a[o]);Xt.lastIndex=0;for(var u,s="";null!==(u=Xt.exec(i));)s+="-"+u[1];return{name:Bt(i)+s,styles:i,next:Jt}},tn=(0,s.createContext)("undefined"!==typeof HTMLElement?qt({key:"css"}):null);tn.Provider;var nn=function(e){return(0,s.forwardRef)((function(t,n){var r=(0,s.useContext)(tn);return e(t,r,n)}))},rn=(0,s.createContext)({});function an(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var on=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},un=Ve,sn=function(e){return"theme"!==e},cn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?un:sn},ln=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},fn=function(){return null},hn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=ln(t,n,a),l=c||cn(o),f=!l("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var y=nn((function(e,t,n){var r=f&&e.as||o,a="",u=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,s.useContext)(rn)}"string"===typeof e.className?a=an(t.registered,u,e.className):null!=e.className&&(a=e.className+" ");var v=en(d.concat(u),t.registered,h);on(t,v,"string"===typeof r);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var y=f&&void 0===c?cn(r):l,m={};for(var g in e)f&&"as"===g||y(g)&&(m[g]=e[g]);m.className=a,m.ref=n;var k=(0,s.createElement)(r,m),b=(0,s.createElement)(fn,null);return(0,s.createElement)(s.Fragment,null,b,k)}));return y.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=o,y.__emotion_styles=d,y.__emotion_forwardProp=c,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(t,r){return e(t,(0,u.Z)({},n,r,{shouldForwardProp:ln(y,r,!0)})).apply(void 0,d)},y}},dn=hn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){dn[e]=dn(e)}));var pn=dn;function vn(e,t){return pn(e,t)}var yn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?A(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function mn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var gn=T({prop:"border",themeKey:"borders",transform:mn}),kn=T({prop:"borderTop",themeKey:"borders",transform:mn}),bn=T({prop:"borderRight",themeKey:"borders",transform:mn}),wn=T({prop:"borderBottom",themeKey:"borders",transform:mn}),xn=T({prop:"borderLeft",themeKey:"borders",transform:mn}),_n=T({prop:"borderColor",themeKey:"palette"}),En=T({prop:"borderTopColor",themeKey:"palette"}),In=T({prop:"borderRightColor",themeKey:"palette"}),Sn=T({prop:"borderBottomColor",themeKey:"palette"}),Tn=T({prop:"borderLeftColor",themeKey:"palette"}),An=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=M(e.theme,"shape.borderRadius",4);return w(e,e.borderRadius,(function(e){return{borderRadius:U(t,e)}}))}return null};An.propTypes={},An.filterProps=["borderRadius"];var Cn=yn(gn,kn,bn,wn,xn,_n,En,In,Sn,Tn,An),Nn=yn(T({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),T({prop:"display"}),T({prop:"overflow"}),T({prop:"textOverflow"}),T({prop:"visibility"}),T({prop:"whiteSpace"})),On=yn(T({prop:"flexBasis"}),T({prop:"flexDirection"}),T({prop:"flexWrap"}),T({prop:"justifyContent"}),T({prop:"alignItems"}),T({prop:"alignContent"}),T({prop:"order"}),T({prop:"flex"}),T({prop:"flexGrow"}),T({prop:"flexShrink"}),T({prop:"alignSelf"}),T({prop:"justifyItems"}),T({prop:"justifySelf"})),Pn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=M(e.theme,"spacing",8);return w(e,e.gap,(function(e){return{gap:U(t,e)}}))}return null};Pn.propTypes={},Pn.filterProps=["gap"];var Rn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=M(e.theme,"spacing",8);return w(e,e.columnGap,(function(e){return{columnGap:U(t,e)}}))}return null};Rn.propTypes={},Rn.filterProps=["columnGap"];var Dn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=M(e.theme,"spacing",8);return w(e,e.rowGap,(function(e){return{rowGap:U(t,e)}}))}return null};Dn.propTypes={},Dn.filterProps=["rowGap"];var Ln=yn(Pn,Rn,Dn,T({prop:"gridColumn"}),T({prop:"gridRow"}),T({prop:"gridAutoFlow"}),T({prop:"gridAutoColumns"}),T({prop:"gridAutoRows"}),T({prop:"gridTemplateColumns"}),T({prop:"gridTemplateRows"}),T({prop:"gridTemplateAreas"}),T({prop:"gridArea"})),Mn=yn(T({prop:"position"}),T({prop:"zIndex",themeKey:"zIndex"}),T({prop:"top"}),T({prop:"right"}),T({prop:"bottom"}),T({prop:"left"})),Fn=yn(T({prop:"color",themeKey:"palette"}),T({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),T({prop:"backgroundColor",themeKey:"palette"})),Un=T({prop:"boxShadow",themeKey:"shadows"});function jn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Vn=T({prop:"width",transform:jn}),zn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return w(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||k[t]||jn(t)}}))}return null};zn.filterProps=["maxWidth"];var qn=T({prop:"minWidth",transform:jn}),Bn=T({prop:"height",transform:jn}),Wn=T({prop:"maxHeight",transform:jn}),Kn=T({prop:"minHeight",transform:jn}),Hn=(T({prop:"size",cssProperty:"width",transform:jn}),T({prop:"size",cssProperty:"height",transform:jn}),yn(Vn,zn,qn,Bn,Wn,Kn,T({prop:"boxSizing"}))),Gn=T({prop:"fontFamily",themeKey:"typography"}),Zn=T({prop:"fontSize",themeKey:"typography"}),Qn=T({prop:"fontStyle",themeKey:"typography"}),$n=T({prop:"fontWeight",themeKey:"typography"}),Yn=T({prop:"letterSpacing"}),Jn=T({prop:"lineHeight"}),Xn=T({prop:"textAlign"}),er=yn(T({prop:"typography",cssProperty:!1,themeKey:"typography"}),Gn,Zn,Qn,$n,Yn,Jn,Xn),tr={borders:Cn.filterProps,display:Nn.filterProps,flexbox:On.filterProps,grid:Ln.filterProps,positions:Mn.filterProps,palette:Fn.filterProps,shadows:Un.filterProps,sizing:Hn.filterProps,spacing:W.filterProps,typography:er.filterProps},nr={borders:Cn,display:Nn,flexbox:On,grid:Ln,positions:Mn,palette:Fn,shadows:Un,sizing:Hn,spacing:W,typography:er},rr=Object.keys(tr).reduce((function(e,t){return tr[t].forEach((function(n){e[n]=nr[t]})),e}),{});var ir=function(e,t,n){var r,i=(r={},(0,E.Z)(r,e,t),(0,E.Z)(r,"theme",n),r),a=rr[e];return a?a(i):(0,E.Z)({},e,t)};function ar(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function a(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=x(i.breakpoints),r=Object.keys(n),a=n;return Object.keys(t).forEach((function(e){var n,r,o=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==o&&void 0!==o)if("object"===typeof o)if(rr[e])a=A(a,ir(e,o,i));else{var u=w({theme:i},o,(function(t){return(0,E.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(u,o)?a=A(a,u):a[e]=ar({sx:o,theme:i})}else a=A(a,ir(e,o,i))})),_(r,a)}return Array.isArray(n)?n.map(a):a(n)}ar.filterProps=["sx"];var or=ar,ur=["variant"];function sr(e){return 0===e.length}function cr(e){var t=e.variant,n=c(e,ur),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?sr(r)?e[t]:i(e[t]):"".concat(sr(r)?t:i(t)).concat(i(e[t].toString()))})),r}var lr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],fr=["theme"],hr=["theme"];function dr(e){return 0===Object.keys(e).length}var pr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},vr=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=cr(e.props);r[t]=e.style})),r},yr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[cr(n.props)])})),s};function mr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var gr=G();var kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?gr:t,r=e.rootShouldForwardProp,i=void 0===r?mr:r,a=e.slotShouldForwardProp,o=void 0===a?mr:a;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,s=r.slot,l=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,d=c(r,lr),p=void 0!==l?l:s&&"Root"!==s||!1,v=f||!1;var y=mr;"Root"===s?y=i:s&&(y=o);var m=vn(e,(0,u.Z)({shouldForwardProp:y,label:t},d)),g=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=c(t,fr);return e((0,u.Z)({theme:dr(r)?n:r},i))}:e})):[],s=e;a&&h&&o.push((function(e){var t=dr(e.theme)?n:e.theme,r=pr(a,t);return r?h(e,r):null})),a&&!p&&o.push((function(e){var t=dr(e.theme)?n:e.theme;return yr(e,vr(a,t),t,a)})),v||o.push((function(e){var t=dr(e.theme)?n:e.theme;return or((0,u.Z)({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(s=[].concat((0,Fe.Z)(e),(0,Fe.Z)(f))).raw=[].concat((0,Fe.Z)(e.raw),(0,Fe.Z)(f))}else"function"===typeof e&&(s=function(t){var r=t.theme,i=c(t,hr);return e((0,u.Z)({theme:dr(r)?n:r},i))});var d=m.apply(void 0,[s].concat((0,Fe.Z)(o)));return d};return g}}({defaultTheme:Le,rootShouldForwardProp:function(e){return mr(e)&&"classes"!==e}}),br=kr,wr=function(e){return e},xr=function(){var e=wr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=wr}}}(),_r={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Er(e,t){return _r[t]||"".concat(xr.generate(e),"-").concat(t)}function Ir(e){return Er("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Er(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Sr=n(184),Tr=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],Ar=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(a(t)),"fontSize".concat(a(n))]},Ir,r)},Cr=br("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(a(n.color))],t["fontSize".concat(a(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),Nr=s.forwardRef((function(e,t){var n=Me({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,l=void 0===s?"svg":s,h=n.fontSize,d=void 0===h?"medium":h,p=n.htmlColor,v=n.titleAccess,y=n.viewBox,m=void 0===y?"0 0 24 24":y,g=c(n,Tr),k=(0,u.Z)({},n,{color:o,component:l,fontSize:d,viewBox:m}),b=Ar(k);return(0,Sr.jsxs)(Cr,(0,u.Z)({as:l,className:f(b.root,i),ownerState:k,focusable:"false",viewBox:m,color:p,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},g,{children:[r,v?(0,Sr.jsx)("title",{children:v}):null]}))}));Nr.muiName="SvgIcon";var Or=Nr;function Pr(e,t){var n=function(n,r){return(0,Sr.jsx)(Or,(0,u.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Or.muiName,s.memo(s.forwardRef(n))}var Rr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Dr=function(e,t){return function(){return null}};var Lr=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Mr(e){return e&&e.ownerDocument||document}var Fr=Mr;var Ur=function(e){return Mr(e).defaultView||window};var jr=function(e,t){return function(){return null}};function Vr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var zr=Vr,qr="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,Br=qr,Wr=qr,Kr=0;var Hr=function(e){var t=s.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return s.useEffect((function(){null==r&&i("mui-".concat(Kr+=1))}),[r]),a};var Gr=function(e,t,n,r,i){return null};var Zr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),i=s.useState(n),a=(0,g.Z)(i,2),o=a[0],u=a[1];return[r?t:o,s.useCallback((function(e){r||u(e)}),[])]};var Qr=function(e){var t=s.useRef(e);return Br((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var $r,Yr=function(e,t){return s.useMemo((function(){return null==e&&null==t?null:function(n){Vr(e,n),Vr(t,n)}}),[e,t])},Jr=!0,Xr=!1,ei={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ti(e){e.metaKey||e.altKey||e.ctrlKey||(Jr=!0)}function ni(){Jr=!1}function ri(){"hidden"===this.visibilityState&&Xr&&(Jr=!0)}function ii(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Jr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ei[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var ai=function(){var e=s.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ti,!0),t.addEventListener("mousedown",ni,!0),t.addEventListener("pointerdown",ni,!0),t.addEventListener("touchstart",ni,!0),t.addEventListener("visibilitychange",ri,!0))}),[]),t=s.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ii(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Xr=!0,window.clearTimeout($r),$r=window.setTimeout((function(){Xr=!1}),100),t.current=!1,!0)},ref:e}}},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,S=60114,T=60109,A=60110,C=60112,N=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),I=j("react.strict_mode"),S=j("react.profiler"),T=j("react.provider"),A=j("react.context"),C=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ce(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ae=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ae&&null===Ce||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){ze=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,Ze={onError:function(e){We=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,Be.apply(Ze,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var At=Tt("animationend"),Ct=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",At,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Zt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Yt(e,t,n,r){Zt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return Tn}var Cn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Zn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Cr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),$n=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Zn(t,$n,e,Se(e)),e=Yn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Rt.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case At:case Ct:case Nt:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Xn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Zn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(m=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ai=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ci?Ci:function(){},ji=null,Vi=null,zi=!1,qi=Ni(),Bi=1e4>qi?Ni:function(){return Ni()-qi};function Wi(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Ii(e,t)}function Gi(e,t,n){return e=Ki(e),Si(e,t,n)}function Zi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Pi,Zi),n}finally{zi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Zs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ys(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Zs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Zs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ys(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return y(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Aa={},Ca=ci(Aa),Na=ci(Aa),Oa=ci(Aa);function Pa(e){if(e===Aa)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Na,e),fi(Ca,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function Da(){li(Ca),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Ca.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Ca,n))}function Ma(e){Na.current===e&&(li(Ca),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function qa(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Zr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);qa(ja,n)}ja=e,Va=Zr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Zr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Zr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,za=!1}var Za=[];function Qa(){for(var e=0;e<Za.length;e++)Za[e]._workInProgressVersionPrimary=null;Za.length=0}var $a=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Xa.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Za.push(t))),e)return n(t._source);throw Za.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Xa,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Xa.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Xa.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return yo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Ao,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Ao,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Zo,Qo,$o,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Zs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Zs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ca.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Xr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Zo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Ca.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&zu)&&0===(134217727&qu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ca.current);var o,u=null;switch(n){case"input":a=X(e,a),r=X(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Yu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=Bi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,zu=0,qu=0,Bu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=Bi()+500}var Zu,Qu=null,$u=!1,Yu=null,Ju=null,Xu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?Bi():-1!==us?us:us=Bi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Bt(e,t,n),e===Ru&&(qu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Zi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Si(Pi,Qi)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ru===e&&Lu===r||(Gu(),Es(e,r));;)try{Cs();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Uu),0!==(Vu&qu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ys(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-Bi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Kr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,Bi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~Bu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&qu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ys(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,Bi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Zi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Zi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,Bu=qu=zu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),$a.current=Po,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Xa=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ru===e&&Lu===t||Es(e,t);;)try{As();break}catch(i){Is(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Uu}function As(){for(;null!==Du;)Ns(Du)}function Cs(){for(;null!==Du&&!Ai();)Ns(Du)}function Ns(e){var t=Zu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Wi();return Hi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,zr=Qt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Su(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Su(Qu.alternate,Qu);break;case 4:Su(Qu.alternate,Qu);break;case 8:Iu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);if(w=qr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!zr,qr=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&mu(k,Qu.alternate,Qu),128&_){b=void 0;var E=Qu.ref;if(null!==E){var I=Qu.stateNode;Qu.tag,b=I,"function"===typeof E?E(b):E.current=b}}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Ui(),Pu=i}else e.current=n;if(Xu)Xu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ys(e,Bi()),$u)throw $u=!1,e=Yu,Yu=null,e;return 0!==(8&Pu)||Zi(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Au(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&yu(e,Qu),0===(512&t)||Xu||(Xu=!0,Gi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Xu||(Xu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Xu||(Xu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Zi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(Bt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))Bt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>Bi()-Ku?Es(e,0):Bu|=n),ys(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(Bt(e,t,n),ys(e,n))}function Bs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new Bs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Zs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ws(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ws(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Qs(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case A:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Zs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function $s(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Xs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xs(e,t,null,n)}Zu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Zr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Za.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Zi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,Bi())}))}Zi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Zi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Zi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],A=1,C=null,N=3,O=!1,P=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(R=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=N;try{for(D(n),C=_(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===_(S)&&E(S),D(n)}else E(S);C=_(S)}if(null!==C)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{C=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return L},SDK_VERSION:function(){return Re},_DEFAULT_ENTRY_NAME:function(){return ge},_addComponent:function(){return xe},_addOrOverwriteComponent:function(){return _e},_apps:function(){return be},_clearComponents:function(){return Te},_components:function(){return we},_getProvider:function(){return Ie},_registerComponent:function(){return Ee},_removeServiceInstance:function(){return Se},deleteApp:function(){return Fe},getApp:function(){return Le},getApps:function(){return Me},initializeApp:function(){return De},onLog:function(){return Ve},registerVersion:function(){return je},setLogLevel:function(){return ze}});var t=n(791),r=n(164),i=n(439),a=n(942);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=n(181);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,c.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function g(e){var t=v();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function k(e,t,n){return k=v()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},k.apply(null,arguments)}function b(e){var t="function"===typeof Map?new Map:void 0;return b=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return k(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},b(e)}var w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_=function(e){return function(e){var t=w(e);return x.encodeByteArray(t,!0)}(e).replace(/\./g,"")},E=function(e){try{return x.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function I(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=I(e[n],t[n]));return e}var S=function(){function e(){var t=this;o(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return s(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(a)),""].join(".")}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function N(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function O(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function P(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){var e=A();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return"object"===typeof indexedDB}var L=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(f(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(a),M.prototype.create),a}return s(n)}(b(Error)),M=function(){function e(t,n,r){o(this,e),this.service=t,this.serviceName=n,this.errors=r}return s(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?F(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new L(n,a,t);return o}}]),e}();function F(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var U=/\{\$([^}]+)}/g;function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(z(u)&&z(s)){if(!V(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function z(e){return null!==e&&"object"===typeof e}function q(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function B(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function W(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function K(e,t){var n=new H(e,t);return n.subscribe.bind(n)}var H=function(){function e(t,n){var r=this;o(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return s(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=l(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=G),void 0===r.error&&(r.error=G),void 0===r.complete&&(r.complete=G);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function G(){}function Z(e){return e&&e._delegate?e._delegate:e}var Q=n(433);function $(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$(a,r,i,o,u,"next",e)}function u(e){$(a,r,i,o,u,"throw",e)}o(void 0)}))}}var J=n(757),X=n.n(J),ee=function(){function e(t,n,r){o(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return s(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),te="[DEFAULT]",ne=function(){function e(t,n){o(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return s(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new S;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:te})}catch(c){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Y(J.mark((function e(){var t;return J.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Q.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Q.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=l(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,i.Z)(a.value,2),c=s[0],f=s[1],h=this.normalizeInstanceIdentifier(c);r===h&&f.resolve(o)}}catch(d){u.e(d)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Cb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===te?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Cb){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.component?this.component.multipleInstances?e:te:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var re,ie,ae=function(){function e(t){o(this,e),this.name=t,this.providers=new Map}return s(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ne(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),oe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ie||(ie={}));var ue,se,ce={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},le=ie.INFO,fe=(re={},(0,a.Z)(re,ie.DEBUG,"log"),(0,a.Z)(re,ie.VERBOSE,"log"),(0,a.Z)(re,ie.INFO,"info"),(0,a.Z)(re,ie.WARN,"warn"),(0,a.Z)(re,ie.ERROR,"error"),re),he=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},de=function(){function e(t){o(this,e),this.name=t,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,oe.push(this)}return s(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ie))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.DEBUG].concat(t)),this._logHandler.apply(this,[this,ie.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ie.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.INFO].concat(t)),this._logHandler.apply(this,[this,ie.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.WARN].concat(t)),this._logHandler.apply(this,[this,ie.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.ERROR].concat(t)),this._logHandler.apply(this,[this,ie.ERROR].concat(t))}}]),e}();var pe=function(){function e(t){o(this,e),this.container=t}return s(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ve="@firebase/app",ye="0.7.11",me=new de("@firebase/app"),ge="[DEFAULT]",ke=(ue={},(0,a.Z)(ue,ve,"fire-core"),(0,a.Z)(ue,"@firebase/app-compat","fire-core-compat"),(0,a.Z)(ue,"@firebase/analytics","fire-analytics"),(0,a.Z)(ue,"@firebase/analytics-compat","fire-analytics-compat"),(0,a.Z)(ue,"@firebase/app-check","fire-app-check"),(0,a.Z)(ue,"@firebase/app-check-compat","fire-app-check-compat"),(0,a.Z)(ue,"@firebase/auth","fire-auth"),(0,a.Z)(ue,"@firebase/auth-compat","fire-auth-compat"),(0,a.Z)(ue,"@firebase/database","fire-rtdb"),(0,a.Z)(ue,"@firebase/database-compat","fire-rtdb-compat"),(0,a.Z)(ue,"@firebase/functions","fire-fn"),(0,a.Z)(ue,"@firebase/functions-compat","fire-fn-compat"),(0,a.Z)(ue,"@firebase/installations","fire-iid"),(0,a.Z)(ue,"@firebase/installations-compat","fire-iid-compat"),(0,a.Z)(ue,"@firebase/messaging","fire-fcm"),(0,a.Z)(ue,"@firebase/messaging-compat","fire-fcm-compat"),(0,a.Z)(ue,"@firebase/performance","fire-perf"),(0,a.Z)(ue,"@firebase/performance-compat","fire-perf-compat"),(0,a.Z)(ue,"@firebase/remote-config","fire-rc"),(0,a.Z)(ue,"@firebase/remote-config-compat","fire-rc-compat"),(0,a.Z)(ue,"@firebase/storage","fire-gcs"),(0,a.Z)(ue,"@firebase/storage-compat","fire-gcs-compat"),(0,a.Z)(ue,"@firebase/firestore","fire-fst"),(0,a.Z)(ue,"@firebase/firestore-compat","fire-fst-compat"),(0,a.Z)(ue,"fire-js","fire-js"),(0,a.Z)(ue,"firebase","fire-js-all"),ue),be=new Map,we=new Map;function xe(e,t){try{e.container.addComponent(t)}catch(n){me.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _e(e,t){e.container.addOrOverwriteComponent(t)}function Ee(e){var t=e.name;if(we.has(t))return me.debug("There were multiple attempts to register component ".concat(t,".")),!1;we.set(t,e);var n,r=l(be.values());try{for(r.s();!(n=r.n()).done;){xe(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ie(e,t){return e.container.getProvider(t)}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge;Ie(e,t).clearInstance(n)}function Te(){we.clear()}var Ae,Ce,Ne=(se={},(0,a.Z)(se,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,a.Z)(se,"bad-app-name","Illegal App name: '{$appName}"),(0,a.Z)(se,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,a.Z)(se,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,a.Z)(se,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,a.Z)(se,"invalid-log-argument","First argument to `onLog` must be null or a function."),se),Oe=new M("app","Firebase",Ne),Pe=function(){function e(t,n,r){var i=this;o(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ee("app",(function(){return i}),"PUBLIC"))}return s(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})}}]),e}(),Re="9.6.1";function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ge,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Oe.create("bad-app-name",{appName:String(i)});var a=be.get(i);if(a){if(V(e,a.options)&&V(r,a.config))return a;throw Oe.create("duplicate-app",{appName:i})}var o,u=new ae(i),s=l(we.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(h){s.e(h)}finally{s.f()}var f=new Pe(e,r,u);return be.set(i,f),f}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=be.get(e);if(!t)throw Oe.create("no-app",{appName:e});return t}function Me(){return Array.from(be.values())}function Fe(e){return Ue.apply(this,arguments)}function Ue(){return Ue=Y(J.mark((function e(t){var n;return J.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!be.has(n)){e.next=6;break}return be.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}function je(e,t,n){var r,i=null!==(r=ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void me.warn(u.join(" "))}Ee(new ee("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ve(e,t){if(null!==e&&"function"!==typeof e)throw Oe.create("invalid-log-argument");!function(e,t){var n,r=l(oe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ie[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ze(e){var t;t=e,oe.forEach((function(e){e.setLogLevel(t)}))}Ae="",Ee(new ee("platform-logger",(function(e){return new pe(e)}),"PRIVATE")),je(ve,ye,Ae),je(ve,ye,"esm2017"),je("fire-js","");var qe=function(){function e(t,n){var r=this;o(this,e),this._delegate=t,this.firebase=n,xe(t,new ee("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return s(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Fe(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){xe(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){_e(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Be=(Ce={},(0,a.Z)(Ce,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,a.Z)(Ce,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ce),We=new M("app-compat","Firebase",Be);var Ke=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=De(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(j(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:je,setLogLevel:ze,onLog:Ve,apps:null,SDK_VERSION:Re,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ee(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw We.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&I(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!j(n,e=e||ge))throw We.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(qe);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){I(n,e)},createSubscribe:K,ErrorFactory:M,deepExtend:I}),n}(),He=new de("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){He.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&He.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ze=Ke;!function(e){je("@firebase/app-compat","0.1.12",e)}();Ze.registerVersion("firebase","9.6.1","app-compat");var Qe=n(878),$e=n(199),Ye=n(267);function Je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function Xe(){return Xe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Je(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xe.apply(this,arguments)}function et(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var tt;Object.create;var nt="facebook.com",rt="github.com",it="google.com",at="password",ot="twitter.com",ut="EMAIL_SIGNIN",st="PASSWORD_RESET",ct="RECOVER_EMAIL",lt="REVERT_SECOND_FACTOR_ADDITION",ft="VERIFY_AND_CHANGE_EMAIL",ht="VERIFY_EMAIL";function dt(){return(0,a.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pt=function(){var e;return e={},(0,a.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,a.Z)(e,"argument-error",""),(0,a.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,a.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,a.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,a.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,a.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,a.Z)(e,"cors-unsupported","This browser is not supported."),(0,a.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,a.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,a.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,a.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,a.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,a.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,a.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,a.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,a.Z)(e,"expired-action-code","The action code has expired."),(0,a.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,a.Z)(e,"internal-error","An internal AuthError has occurred."),(0,a.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,a.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,a.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,a.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,a.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,a.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,a.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,a.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,a.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,a.Z)(e,"invalid-email","The email address is badly formatted."),(0,a.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,a.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,a.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,a.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,a.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,a.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,a.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,a.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,a.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,a.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,a.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,a.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,a.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,a.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,a.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,a.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,a.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,a.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,a.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,a.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,a.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,a.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,a.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,a.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,a.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,a.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,a.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,a.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,a.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,a.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,a.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,a.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,a.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,a.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,a.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,a.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,a.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,a.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,a.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,a.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,a.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,a.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,a.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,a.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,a.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,a.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,a.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,a.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,a.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,a.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,a.Z)(e,"timeout","The operation has timed out."),(0,a.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,a.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,a.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,a.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,a.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,a.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,a.Z)(e,"unverified-email","The operation requires a verified email."),(0,a.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,a.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,a.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,a.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,a.Z)(e,"user-signed-out",""),(0,a.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,a.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,a.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vt=dt,yt=new M("auth","Firebase",dt()),mt=new de("@firebase/auth");function gt(e){if(mt.logLevel<=ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mt.error.apply(mt,["Auth (".concat(Re,"): ").concat(e)].concat(n))}}function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _t.apply(void 0,[e].concat(n))}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _t.apply(void 0,[e].concat(n))}function wt(e,t,n){var r=Object.assign(Object.assign({},vt()),(0,a.Z)({},t,n));return new M("auth","Firebase",r).create(t,{appName:e.name})}function xt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kt(e,"argument-error"),wt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Q.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Q.Z)(o)))}return yt.create.apply(yt,[e].concat(n))}function Et(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _t.apply(void 0,[t].concat(r))}}function It(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gt(t),new Error(t)}function St(e,t){e||It(t)}var Tt=new Map;function At(e){St(e instanceof Function,"Expected a class definition");var t=Tt.get(e);return t?(St(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tt.set(e,t),t)}function Ct(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Pt=function(){function e(t,n){o(this,e),this.shortDelay=t,this.longDelay=n,St(n>t,"Short delay should be less than long delay!"),this.isMobile=C()||P()}return s(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nt()||O()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Rt(e,t){St(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Dt=function(){function e(){o(this,e)}return s(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Lt=(tt={},(0,a.Z)(tt,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,a.Z)(tt,"MISSING_CUSTOM_TOKEN","internal-error"),(0,a.Z)(tt,"INVALID_IDENTIFIER","invalid-email"),(0,a.Z)(tt,"MISSING_CONTINUE_URI","internal-error"),(0,a.Z)(tt,"INVALID_PASSWORD","wrong-password"),(0,a.Z)(tt,"MISSING_PASSWORD","internal-error"),(0,a.Z)(tt,"EMAIL_EXISTS","email-already-in-use"),(0,a.Z)(tt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,a.Z)(tt,"INVALID_IDP_RESPONSE","invalid-credential"),(0,a.Z)(tt,"INVALID_PENDING_TOKEN","invalid-credential"),(0,a.Z)(tt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,a.Z)(tt,"MISSING_REQ_TYPE","internal-error"),(0,a.Z)(tt,"EMAIL_NOT_FOUND","user-not-found"),(0,a.Z)(tt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,a.Z)(tt,"EXPIRED_OOB_CODE","expired-action-code"),(0,a.Z)(tt,"INVALID_OOB_CODE","invalid-action-code"),(0,a.Z)(tt,"MISSING_OOB_CODE","internal-error"),(0,a.Z)(tt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,a.Z)(tt,"INVALID_ID_TOKEN","invalid-user-token"),(0,a.Z)(tt,"TOKEN_EXPIRED","user-token-expired"),(0,a.Z)(tt,"USER_NOT_FOUND","user-token-expired"),(0,a.Z)(tt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,a.Z)(tt,"INVALID_CODE","invalid-verification-code"),(0,a.Z)(tt,"INVALID_SESSION_INFO","invalid-verification-id"),(0,a.Z)(tt,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,a.Z)(tt,"MISSING_SESSION_INFO","missing-verification-id"),(0,a.Z)(tt,"SESSION_EXPIRED","code-expired"),(0,a.Z)(tt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,a.Z)(tt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,a.Z)(tt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,a.Z)(tt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,a.Z)(tt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,a.Z)(tt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,a.Z)(tt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,a.Z)(tt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,a.Z)(tt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,a.Z)(tt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,a.Z)(tt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),tt),Mt=new Pt(3e4,6e4);function Ft(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ut(e,t,n,r){return jt.apply(this,arguments)}function jt(){return jt=Y(X().mark((function e(t,n,r,i){var a,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Vt(t,a,Y(X().mark((function e(){var a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=q(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Dt.fetch()(Wt(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),jt.apply(this,arguments)}function Vt(e,t,n){return zt.apply(this,arguments)}function zt(){return zt=Y(X().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,p;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Lt),n),e.prev=2,o=new Kt(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ht(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ht(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Ht(t,"email-already-in-use",s);case 25:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw wt(t,p,d);case 30:kt(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof L)){e.next=37;break}throw e.t0;case 37:kt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),zt.apply(this,arguments)}function qt(e,t,n,r){return Bt.apply(this,arguments)}function Bt(){return Bt=Y(X().mark((function e(t,n,r,i){var a,o,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ut(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function Wt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Kt=function(){function e(t){var n=this;o(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bt(n.auth,"timeout"))}),Mt.get())}))}return s(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ht(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bt(e,t,r);return i.customData._tokenResponse=n,i}function Gt(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}function Qt(e,t){return $t.apply(this,arguments)}function $t(){return $t=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$t.apply(this,arguments)}function Yt(e,t){return Jt.apply(this,arguments)}function Jt(){return Jt=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}function Xt(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function en(){return en=Y(X().mark((function e(t){var n,r,i,a,o,u,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Z(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Et((a=nn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Xt(tn(a.auth_time)),issuedAtTime:Xt(tn(a.iat)),expirationTime:Xt(tn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),en.apply(this,arguments)}function tn(e){return 1e3*Number(e)}function nn(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return gt("JWT malformed, contained fewer than 3 sections"),null;try{var u=E(a);return u?JSON.parse(u):(gt("Failed to decode base64 JWT payload"),null)}catch(s){return gt("Caught error parsing JWT payload as JSON",s),null}}function rn(e,t){return an.apply(this,arguments)}function an(){return an=Y(X().mark((function e(t,n){var r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof L&&on(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),an.apply(this,arguments)}function on(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var un=function(){function e(t){o(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return s(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),sn=function(){function e(t,n){o(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return s(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cn(e){return ln.apply(this,arguments)}function ln(){return ln=Y(X().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,rn(t,Yt(r,{idToken:i}));case 6:Et(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?dn(o.providerUserInfo):[],s=hn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new sn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function fn(){return(fn=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z(t),e.next=3,cn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Q.Z)(n),(0,Q.Z)(t))}function dn(e){return e.map((function(e){var t=e.providerId,n=et(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function pn(e,t){return vn.apply(this,arguments)}function vn(){return vn=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(t,{},Y(X().mark((function e(){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=q({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wt(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Dt.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}var yn=function(){function e(){o(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return s(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Et(e.idToken,"internal-error"),Et("undefined"!==typeof e.idToken,"internal-error"),Et("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nn(e);return Et(t,"internal-error"),Et("undefined"!==typeof t.exp,"internal-error"),Et("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Y(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Et(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return It("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Et("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Et("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Et("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mn(e,t){Et("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gn=function(){function e(t){o(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=et(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new sn(a.createdAt||void 0,a.lastLoginAt||void 0)}return s(e,[{key:"getIdToken",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Et(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return en.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Y(X().mark((function e(t){var n,r,i=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,cn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,rn(this,Gt(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Et(k&&_,t,"internal-error");var E=yn.fromJSON(this.name,_);Et("string"===typeof k,t,"internal-error"),mn(f,t.name),mn(h,t.name),Et("boolean"===typeof b,t,"internal-error"),Et("boolean"===typeof w,t,"internal-error"),mn(d,t.name),mn(p,t.name),mn(v,t.name),mn(y,t.name),mn(m,t.name),mn(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=Y(X().mark((function t(n,r){var i,a,o,u=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new yn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,cn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),kn=function(){function e(){o(this,e),this.type="NONE",this.storage={}}return s(e,[{key:"_isAvailable",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();kn.type="NONE";var bn=kn;function wn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xn=function(){function e(t,n,r){o(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,u=i.name;this.fullUserKey=wn(this.userKey,a.apiKey,u),this.fullPersistenceKey=wn("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return s(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Y(X().mark((function t(n,r){var i,a,o,u,s,c,f,h,d,p,v,y=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(At(bn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||At(bn),u=wn(i,n.config.apiKey,n.name),s=null,c=l(r),t.prev=10,c.s();case 12:if((f=c.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=gn._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _n(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(En(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cn(t))return"Blackberry";if(Nn(t))return"Webos";if(In(t))return"Safari";if((t.includes("chrome/")||Sn(t))&&!t.includes("edge/"))return"Chrome";if(An(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function En(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/firefox\//i.test(e)}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/crios\//i.test(e)}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/iemobile/i.test(e)}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/android/i.test(e)}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/blackberry/i.test(e)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/webos/i.test(e)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/iphone|ipad|ipod/i.test(e)}function Pn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return On(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Rn(){return R()&&10===document.documentMode}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return On(e)||An(e)||Nn(e)||Cn(e)||/windows phone/i.test(e)||Tn(e)}function Ln(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_n(A());break;case"Worker":t="".concat(_n(A()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Re,"/").concat(r)}var Mn=function(){function e(t,n){o(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Un(this),this.idTokenSubscription=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return s(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=At(t)),this._initializationPromise=this.queue(Y(X().mark((function r(){var i,a;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Y(X().mark((function e(t){var n,r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Et(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Z(t):null)&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Y(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(At(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new M("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Et(n=t&&At(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xn.create(this,[At(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Y(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Et(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,a.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fn(e){return Z(e)}var Un=function(){function e(t){var n=this;o(this,e),this.auth=t,this.observer=null,this.addObserver=K((function(e){return n.observer=e}))}return s(e,[{key:"next",get:function(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jn(e,t,n){var r=Fn(e);Et(r._canInitEmulator,r,"emulator-config-failed"),Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Vn(t),u=function(e){var t=Vn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:zn(r.substr(o.length+1))}}var u=r.split(":"),s=(0,i.Z)(u,2);return{host:s[0],port:zn(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vn(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zn(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var qn=function(){function e(t,n){o(this,e),this.providerId=t,this.signInMethod=n}return s(e,[{key:"toJSON",value:function(){return It("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return It("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return It("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return It("not implemented")}}]),e}();function Bn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:resetPassword",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}function Kn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Gn(e,t){return Zn.apply(this,arguments)}function Zn(){return Zn=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function Qn(e,t){return $n.apply(this,arguments)}function $n(){return $n=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithPassword",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return Jn=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:sendOobCode",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}function Xn(e,t){return er.apply(this,arguments)}function er(){return er=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,n));case 1:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return nr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,n));case 1:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,n));case 1:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}function ar(e,t){return or.apply(this,arguments)}function or(){return or=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yn(t,n));case 1:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function ur(e,t){return sr.apply(this,arguments)}function sr(){return sr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),lr.apply(this,arguments)}var fr=function(e){d(n,e);var t=g(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=u,a}return s(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qn(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ur(t,{email:this._email,oobCode:this._password}));case 5:kt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Kn(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",cr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(qn);function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithIdp",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}var pr=function(e){d(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return s(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return hr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=q(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=et(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(qn);function vr(e,t){return yr.apply(this,arguments)}function yr(){return yr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:sendVerificationCode",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function mr(){return mr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function gr(){return gr=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ht(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}var kr=(0,a.Z)({},"USER_NOT_FOUND","user-not-found");function br(){return br=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,r),kr));case 2:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}var wr=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone","phone")).params=e,r}return s(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return gr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return br.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(qn);var xr=function(){function e(t){var n,r,i,a,u,s;o(this,e);var c=B(W(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Et(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return s(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=B(W(e)).link,n=t?B(W(t)).deep_link_id:null,r=B(W(e)).deep_link_id;return(r?B(W(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Cb){return null}}}]),e}();var _r=function(){function e(){o(this,e),this.providerId=e.PROVIDER_ID}return s(e,null,[{key:"credential",value:function(e,t){return fr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=xr.parseLink(t);return Et(n,"argument-error"),fr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_r.PROVIDER_ID="password",_r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Er=function(){function e(t){o(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return s(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ir=function(e){d(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).scopes=[],e}return s(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Q.Z)(this.scopes)}}]),n}(Er),Sr=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Et(e.idToken||e.accessToken,"argument-error"),pr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Et("providerId"in t&&"signInMethod"in t,"argument-error"),pr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ir),Tr=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.call(this,"facebook.com")}return s(n,null,[{key:"credential",value:function(e){return pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Cb){return null}}}]),n}(Ir);Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Tr.PROVIDER_ID="facebook.com";var Ar=function(e){d(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return s(n,null,[{key:"credential",value:function(e,t){return pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Cb){return null}}}]),n}(Ir);Ar.GOOGLE_SIGN_IN_METHOD="google.com",Ar.PROVIDER_ID="google.com";var Cr=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.call(this,"github.com")}return s(n,null,[{key:"credential",value:function(e){return pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Cb){return null}}}]),n}(Ir);Cr.GITHUB_SIGN_IN_METHOD="github.com",Cr.PROVIDER_ID="github.com";var Nr=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return s(n,[{key:"_getIdTokenResponse",value:function(e){return hr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qn),Or=function(e){d(n,e);var t=g(n);function n(e){return o(this,n),Et(e.startsWith("saml."),"argument-error"),t.call(this,e)}return s(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Nr.fromJSON(e);return Et(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Nr._create(r,n)}catch(i){return null}}}]),n}(Er),Pr=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.call(this,"twitter.com")}return s(n,null,[{key:"credential",value:function(e,t){return pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Cb){return null}}}]),n}(Ir);function Rr(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signUp",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}Pr.TWITTER_SIGN_IN_METHOD="twitter.com",Pr.PROVIDER_ID="twitter.com";var Lr=function(){function e(t){o(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return s(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Y(X().mark((function t(n,r,i){var a,o,u,s,c=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Mr(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Y(X().mark((function t(n,r,i){var a;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Mr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Fr(){return Fr=Y(X().mark((function e(t){var n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fn(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Lr({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Rr(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Lr._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}var Ur=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var u,s;return o(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=a,Object.setPrototypeOf(f(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return s(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(L);function jr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ur._fromErrorAndOperation(e,n,t,r);throw n}))}function Vr(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function zr(e,t){return qr.apply(this,arguments)}function qr(){return qr=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t),e.next=3,Kr(!0,r,n);case 3:return e.t0=Qt,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Vr(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Br(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=Y(X().mark((function e(t,n){var r,i,a=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=rn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Lr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Kr(e,t,n){return Hr.apply(this,arguments)}function Hr(){return Hr=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(n);case 2:i=Vr(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Et(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Gr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=Y(X().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,rn(t,jr(i,a,n,t),r);case 6:return Et((o=e.sent).idToken,i,"internal-error"),Et(u=nn(o.idToken),i,"internal-error"),s=u.sub,Et(t.uid===s,i,"user-mismatch"),e.abrupt("return",Lr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Zr.apply(this,arguments)}function Qr(e,t){return $r.apply(this,arguments)}function $r(){return $r=Y(X().mark((function e(t,n){var r,i,a,o,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,jr(t,i,n);case 4:return a=e.sent,e.next=7,Lr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Yr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(Fn(t),n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Xr(e,t){return ei.apply(this,arguments)}function ei(){return(ei=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t),e.next=3,Kr(!1,r,n.providerId);case 3:return e.abrupt("return",Br(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ti(e,t){return ni.apply(this,arguments)}function ni(){return(ni=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(Z(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(e,t){return ii.apply(this,arguments)}function ii(){return ii=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:signInWithCustomToken",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}function ai(){return ai=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fn(t),e.next=3,ri(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Lr._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}var oi=function(){function e(t,n){o(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return s(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ui._fromServerResponse(e,t):kt(e,"internal-error")}}]),e}(),ui=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return s(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(oi);function si(e,t,n){var r;Et((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Et("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Et(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Et(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ci(){return ci=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),a={requestType:"PASSWORD_RESET",email:n},r&&si(i,a,r),e.next=5,tr(i,a);case 5:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(){return li=Y(X().mark((function e(t,n,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(Z(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(){return fi=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(Z(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return di=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t),e.next=3,Bn(r,{oobCode:n});case 3:i=e.sent,Et(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Et(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Et(i.mfaInfo,r,"internal-error");case 13:Et(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=oi._fromServerResponse(Fn(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(){return pi=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(Z(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t,n){return yi.apply(this,arguments)}function yi(){return yi=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),e.next=3,Rr(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Lr._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function mi(){return mi=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),a={requestType:"EMAIL_SIGNIN",email:n},Et(r.handleCodeInApp,i,"argument-error"),r&&si(i,a,r),e.next=6,rr(i,a);case 6:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function gi(){return gi=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),Et((a=_r.credentialWithLink(n,r||Ct()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yr(i,a));case 4:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:createAuthUri",Ft(t,n)));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function wi(){return wi=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt()?Ct():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ki(Z(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function xi(){return(xi=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&si(r.auth,a,n),e.next=8,Xn(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(){return(_i=Y(X().mark((function e(t,n,r){var i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&si(i.auth,o,r),e.next=8,ar(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ut(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Si(){return(Si=Y(X().mark((function e(t,n){var r,i,a,o,u,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Z(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,rn(a,Ei(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e,t,n){return Ai.apply(this,arguments)}function Ai(){return Ai=Y(X().mark((function e(t,n,r){var i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,rn(t,Kn(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}var Ci=s((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ni=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var u;return o(this,n),(u=t.call(this,e,r,i)).username=a,u}return s(n)}(Ci),Oi=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"facebook.com",r)}return s(n)}(Ci),Pi=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return s(n)}(Ni),Ri=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"google.com",r)}return s(n)}(Ci),Di=function(e){d(n,e);var t=g(n);function n(e,r,i){return o(this,n),t.call(this,e,"twitter.com",r,i)}return s(n)}(Ni);function Li(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ci(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Oi(a,i);case"github.com":return new Pi(a,i);case"google.com":return new Ri(a,i);case"twitter.com":return new Di(a,i,e.screenName||null);case"custom":case"anonymous":return new Ci(a,null);default:return new Ci(a,r,i)}}(n)}var Mi=function(){function e(t,n){o(this,e),this.type=t,this.credential=n}return s(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,a.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fi=function(){function e(t,n,r){o(this,e),this.session=t,this.hints=n,this.signInResolver=r}return s(e,[{key:"resolveSignIn",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Fn(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return oi._fromServerResponse(r,e)}));Et(i.mfaPendingCredential,r,"internal-error");var o=Mi._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Y(X().mark((function e(t){var a,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Lr._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Et(n.user,r,"internal-error"),e.abrupt("return",Lr._forOperation(n.user,n.operationType,u));case 17:kt(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ui(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:start",Ft(e,t))}function ji(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(e,t))}var Vi=function(){function e(t){var n=this;o(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return oi._fromServerResponse(t.auth,e)})))}))}return s(e,[{key:"getSession",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mi,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,rn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Y(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,rn(this.user,ji(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),zi=new WeakMap;var qi="__sak",Bi=function(){function e(t,n){o(this,e),this.storageRetriever=t,this.type=n}return s(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(Cb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Wi=function(e){d(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=A();return In(e)||On(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Dn(),e._shouldAllowMigration=!0,e}return s(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Rn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Y(X().mark((function e(t,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Y(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Bi);Wi.type="LOCAL";var Ki=Wi,Hi=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return s(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Bi);Hi.type="SESSION";var Gi=Hi;function Zi(e){return Promise.all(e.map(function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qi=function(){function e(t){o(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return s(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Y(X().mark((function e(t){var n,r,i,a,o,u,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Zi(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qi.receivers=[];var Yi=function(){function e(t){o(this,e),this.target=t,this.handlers=new Set}return s(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Y(X().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=$i("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ji(){return window}function Xi(){return"undefined"!==typeof Ji().WorkerGlobalScope&&"function"===typeof Ji().importScripts}function ea(){return ta.apply(this,arguments)}function ta(){return(ta=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function na(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ra="firebaseLocalStorageDb",ia="firebaseLocalStorage",aa="fbase_key",oa=function(){function e(t){o(this,e),this.request=t}return s(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ua(e,t){return e.transaction([ia],t?"readwrite":"readonly").objectStore(ia)}function sa(){var e=indexedDB.deleteDatabase(ra);return new oa(e).toPromise()}function ca(){var e=indexedDB.open(ra,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ia,{keyPath:aa})}catch(r){n(r)}})),e.addEventListener("success",Y(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ia)){n.next=12;break}return r.close(),n.next=5,sa();case 5:return n.t0=t,n.next=8,ca();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function la(e,t,n){return fa.apply(this,arguments)}function fa(){return fa=Y(X().mark((function e(t,n,r){var i,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ua(t,!0).put((i={},(0,a.Z)(i,aa,n),(0,a.Z)(i,"value",r),i)),e.abrupt("return",new oa(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ua(t,!1).get(n),e.next=3,new oa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){var n=ua(e,!0).delete(t);return new oa(n).toPromise()}var va=function(){function e(){o(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return s(e,[{key:"_openDb",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ca();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Y(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qi._getInstance(Xi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Y(X().mark((function e(n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Y(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&na()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ca();case 5:return t=e.sent,e.next=8,la(t,qi,"1");case 8:return e.next=10,pa(t,qi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Y(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return la(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ha(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Y(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return pa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Y(X().mark((function e(){var t,n,r,i,a,o,u,s,c,f,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ua(e,!1).getAll();return new oa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=l(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,f=Object.keys(this.localCache);c<f.length;c++)h=f[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();va.type="LOCAL";var ya=va;function ma(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:start",Ft(e,t))}function ga(e){return ka.apply(this,arguments)}function ka(){return ka=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var xa=1e12,_a=function(){function e(t){o(this,e),this.auth=t,this.counter=xa,this._widgets=new Map}return s(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ea(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||xa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||xa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||xa,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ea=function(){function e(t,n,r){var i=this;o(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Et(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return s(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ia=wa("rcb"),Sa=new Pt(3e4,6e4),Ta="https://www.google.com/recaptcha/api.js?",Aa=function(){function e(){o(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ji().grecaptcha}return s(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Et(Ca(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ji().grecaptcha):new Promise((function(r,i){var a=Ji().setTimeout((function(){i(bt(e,"network-request-failed"))}),Sa.get());Ji()[Ia]=function(){Ji().clearTimeout(a),delete Ji()[Ia];var o=Ji().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bt(e,"internal-error"))},ba("".concat(Ta,"?").concat(q({onload:Ia,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ji().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ca(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Na=function(){function e(){o(this,e)}return s(e,[{key:"load",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new _a(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Oa="recaptcha",Pa={theme:"light",type:"image"},Ra=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Pa),r=arguments.length>2?arguments[2]:void 0;o(this,e),this.parameters=n,this.type=Oa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(r),this.isInvisible="invisible"===this.parameters.size,Et("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Et(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Na:new Aa,this.validateStartingState()}return s(e,[{key:"verify",value:function(){var e=Y(X().mark((function e(){var t,n,r,i=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Et(!this.parameters.sitekey,this.auth,"argument-error"),Et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Et("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ji()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Et(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Y(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(Nt()&&!Xi(),this.auth,"internal-error"),e.next=3,Da();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ga(this.auth);case 8:Et(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Da(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var La=function(){function e(t,n){o(this,e),this.verificationId=t,this.onConfirmation=n}return s(e,[{key:"confirm",value:function(e){var t=wr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ma(){return Ma=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),e.next=3,Va(i,n,Z(r));case 3:return a=e.sent,e.abrupt("return",new La(a,(function(e){return Yr(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(e,t,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),e.next=3,Kr(!1,i,"phone");case 3:return e.next=5,Va(i.auth,n,Z(r));case 5:return a=e.sent,e.abrupt("return",new La(a,(function(e){return Xr(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(){return(ja=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(t),e.next=3,Va(i.auth,n,Z(r));case 3:return a=e.sent,e.abrupt("return",new La(a,(function(e){return ti(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t,n){return za.apply(this,arguments)}function za(){return za=Y(X().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Et("string"===typeof a,t,"argument-error"),Et(r.type===Oa,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Et("enroll"===u.type,t,"internal-error"),e.next=13,Ui(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Et("signin"===u.type,t,"internal-error"),Et(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ma(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,vr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),za.apply(this,arguments)}function qa(){return(qa=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(Z(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba=function(){function e(t){o(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fn(t)}return s(e,[{key:"verifyPhoneNumber",value:function(e,t){return Va(this.auth,e,Z(t))}}],[{key:"credential",value:function(e,t){return wr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?wr._fromTokenResponse(n,r):null}}]),e}();function Wa(e,t){return t?At(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ba.PROVIDER_ID="phone",Ba.PHONE_SIGN_IN_METHOD="phone";var Ka=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,"custom","custom")).params=e,r}return s(n,[{key:"_getIdTokenResponse",value:function(e){return hr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return hr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return hr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(qn);function Ha(e){return Qr(e.auth,new Ka(e),e.bypassAuthState)}function Ga(e){var t=e.auth,n=e.user;return Et(n,t,"internal-error"),Gr(n,new Ka(e),e.bypassAuthState)}function Za(e){return Qa.apply(this,arguments)}function Qa(){return Qa=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Et(r=t.user,n,"internal-error"),e.abrupt("return",Br(r,new Ka(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}var $a=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return s(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Y(X().mark((function t(n,r){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Y(X().mark((function e(t){var n,r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ha;case"linkViaPopup":case"linkViaRedirect":return Za;case"reauthViaPopup":case"reauthViaRedirect":return Ga;default:kt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ya=new Pt(2e3,1e4);function Ja(e,t,n){return Xa.apply(this,arguments)}function Xa(){return Xa=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),xt(t,n,Er),a=Wa(i,r),o=new ro(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function eo(){return eo=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=Z(t)).auth,n,Er),a=Wa(i.auth,r),o=new ro(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t,n){return no.apply(this,arguments)}function no(){return no=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=Z(t)).auth,n,Er),a=Wa(i.auth,r),o=new ro(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}var ro=function(e){d(n,e);var t=g(n);function n(e,r,i,a,u){var s;return o(this,n),(s=t.call(this,e,r,a,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=f(s),s}return s(n,[{key:"executeNotNull",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Et(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Y(X().mark((function e(){var t,n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(1===this.filter.length,"Popup operations only handle one event"),t=$i(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ya.get())}()}}]),n}($a);ro.currentPopupAction=null;var io=new Map,ao=function(e){d(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return s(n,[{key:"execute",value:function(){var e=Y(X().mark((function e(){var t,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=io.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,oo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Xe(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:io.set(this.auth._key(),t);case 21:return this.bypassAuthState||io.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Y(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Xe(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Xe(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($a);function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(n),i=lo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return co=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t)._set(fo(n),"true"));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e){return At(e._redirectPersistence)}function fo(e){return wn("pendingRedirect",e.config.apiKey,e.name)}function ho(e,t,n){return function(e,t,n){return po.apply(this,arguments)}(e,t,n)}function po(){return po=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fn(t),xt(t,n,Er),a=Wa(i,r),e.next=5,so(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t,n){return function(e,t,n){return yo.apply(this,arguments)}(e,t,n)}function yo(){return yo=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=Z(t)).auth,n,Er),a=Wa(i.auth,r),e.next=5,so(a,i.auth);case 5:return e.next=7,_o(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function mo(e,t,n){return function(e,t,n){return go.apply(this,arguments)}(e,t,n)}function go(){return go=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt((i=Z(t)).auth,n,Er),a=Wa(i.auth,r),e.next=5,Kr(!1,i,n.providerId);case 5:return e.next=7,so(a,i.auth);case 7:return e.next=9,_o(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return bo=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(t)._initializationPromise;case 2:return e.abrupt("return",wo(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e,t){return xo.apply(this,arguments)}function xo(){return xo=Y(X().mark((function e(t,n){var r,i,a,o,u,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Fn(t),a=Wa(i,n),o=new ao(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$i("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Io=function(){function e(t){o(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return s(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return To(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!To(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(So(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function So(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function To(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ao(e){return Co.apply(this,arguments)}function Co(){return Co=Y(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ut(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}var No=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oo=/^https?/;function Po(){return Po=Y(X().mark((function e(t){var n,r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ao(t);case 4:n=e.sent,r=n.authorizedDomains,i=l(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ro(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Po.apply(this,arguments)}function Ro(e){var t=Ct(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Oo.test(r))return!1;if(No.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Do=new Pt(3e4,6e4);function Lo(){var e=Ji().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Q.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mo=null;function Fo(e){return Mo=Mo||function(e){return new Promise((function(t,n){var r,i,a;function o(){Lo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Lo(),n(bt(e,"network-request-failed"))},timeout:Do.get()})}if(null===(i=null===(r=Ji().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ji().gapi)||void 0===a?void 0:a.load)){var u=wa("iframefcb");return Ji()[u]=function(){gapi.load?o():n(bt(e,"network-request-failed"))},ba("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mo=null,e}))}(e),Mo}var Uo=new Pt(5e3,15e3),jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zo(e){var t=e.config;Et(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Rt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Re},i=Vo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(q(r).slice(1))}function qo(e){return Bo.apply(this,arguments)}function Bo(){return Bo=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(t);case 2:return n=e.sent,Et(r=Ji().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:zo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jo,dontclear:!0},(function(e){return new Promise(function(){var n=Y(X().mark((function n(r,i){var a,o,u;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ji().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bt(t,"network-request-failed"),o=Ji().setTimeout((function(){i(a)}),Uo.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}var Wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ko="_blank",Ho="http://localhost",Go=function(){function e(t){o(this,e),this.window=t,this.associatedEvent=null}return s(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Zo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Wo),{width:r.toString(),height:a.toString(),top:o,left:u}),l=A().toLowerCase();n&&(s=Sn(l)?Ko:n),En(l)&&(t=t||Ho,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Pn(l)&&"_self"!==s)return Qo(t||"",s),new Go(null);var h=window.open(t||"",s,f);Et(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Go(h)}function Qo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var $o="__/auth/handler",Yo="emulator/auth/handler";function Jo(e,t,n,r,a,o){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Re,eventId:a};if(t instanceof Er){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,i.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ir){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat($o);return Rt(t,Yo)}(e),"?").concat(q(p).slice(1))}var Xo="webStorageSupport",eu=function(){function e(){o(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gi,this._completeRedirectFn=wo}return s(e,[{key:"_openPopup",value:function(){var e=Y(X().mark((function e(t,n,r,i){var a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Jo(t,n,r,Ct(),i),e.abrupt("return",Zo(t,o,$i()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Y(X().mark((function e(t,n,r,i){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Jo(t,n,r,Ct(),i),Ji().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(St(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(t);case 2:return n=e.sent,r=new Io(t),n.register("authEvent",(function(e){return Et(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Xo,{type:Xo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),kt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Po.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Dn()||In()||On()}}]),e}(),tu=eu,nu=function(){function e(t){o(this,e),this.factorId=t}return s(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return It("unexpected MultiFactorSessionType")}}}]),e}(),ru=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,"phone")).credential=e,r}return s(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:finalize",Ft(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(nu),iu=function(){function e(){o(this,e)}return s(e,null,[{key:"assertion",value:function(e){return ru._fromCredential(e)}}]),e}();iu.FACTOR_ID="phone";var au,ou="@firebase/auth",uu="0.19.4",su=function(){function e(t){o(this,e),this.auth=t,this.internalListeners=new Map}return s(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function cu(){return window}au="Browser",Ee(new ee("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Et(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Et(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:au,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(au)},r=new Mn(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(At);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ee(new ee("auth-internal",(function(e){return function(e){return new su(e)}(Fn(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),je(ou,uu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(au)),je(ou,uu,"esm2017");function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=Y(X().mark((function e(t,n,r){var i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cu(),o=a.BuildInfo,St(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mu(n.sessionId);case 4:return u=e.sent,s={},On()?s.ibi=o.packageName:An()?s.apn=o.packageName:kt(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Jo(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return hu=Y(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cu(),r=n.BuildInfo,i={},On()?i.iosBundleId=r.packageName:An()?i.androidPackageName=r.packageName:kt(t,"operation-not-supported-in-this-environment"),e.next=5,Ao(t,i);case 5:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e){var t=cu().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return vu=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cu(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(bt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),An()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),vu.apply(this,arguments)}function yu(e){var t,n,r,i,a,o,u,s,c,l,f=cu();Et("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Et("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Et("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Et("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Et("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mu(e){return gu.apply(this,arguments)}function gu(){return(gu=Y(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ku(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e){if(St(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var bu=function(e){d(n,e);var t=g(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return s(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Xe(p(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Io);function wu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Su(),postBody:null,tenantId:e.tenantId,error:bt(e,"no-auth-event")}}function xu(e,t){return Tu()._set(Au(e),t)}function _u(e){return Eu.apply(this,arguments)}function Eu(){return Eu=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tu()._get(Au(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Tu()._remove(Au(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Iu(e,t){var n,r,i=function(e){var t=Cu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Cu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Cu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Cu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?bt(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Su(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Tu(){return At(Ki)}function Au(e){return wn("authEvent",e.config.apiKey,e.name)}function Cu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Qe.Z)(t)||(0,$e.Z)(t)||(0,c.Z)(t)||(0,Ye.Z)());r[0];return B(r.slice(1).join("?"))}var Nu=function(){function e(){o(this,e),this._redirectPersistence=Gi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wo}return s(e,[{key:"_initialize",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new bu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){kt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Y(X().mark((function e(t,n,r,i){var a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),io.clear(),e.next=10,this._originValidation(t);case 10:return o=wu(t,r,i),e.next=13,xu(t,o);case 13:return e.next=15,lu(t,o,n);case 15:return u=e.sent,e.next=18,du(u);case 18:return s=e.sent,e.abrupt("return",pu(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=cu(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_u(e);case 2:t.onEvent(Pu());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Y(X().mark((function n(r){var i,a;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,_u(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Iu(i,r.url)),t.onEvent(a||Pu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");cu().handleOpenURL=function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ou=Nu;function Pu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bt("no-auth-event")}}function Ru(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return!("file:"!==Ru()&&"ionic:"!==Ru()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lu(){return R()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/Edge\/\d+/.test(e)}function Fu(){try{var e=self.localStorage,t=$i();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return Lu()||Mu(e)}()||D()}catch(n){return Uu()&&D()}return!1}function Uu(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ju(){return("http:"===Ru()||"https:"===Ru()||O()||Du())&&!(P()||N())&&Fu()&&!Uu()}function Vu(){return Du()&&"undefined"!==typeof document}function zu(){return qu.apply(this,arguments)}function qu(){return(qu=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bu={LOCAL:"local",NONE:"none",SESSION:"session"},Wu=Et,Ku="persistence";function Hu(e,t){Wu(Object.values(Bu).includes(t),e,"invalid-persistence-type"),P()?Wu(t!==Bu.SESSION,e,"unsupported-persistence-type"):N()?Wu(t===Bu.NONE,e,"unsupported-persistence-type"):Uu()?Wu(t===Bu.NONE||t===Bu.LOCAL&&D(),e,"unsupported-persistence-type"):Wu(t===Bu.NONE||Fu(),e,"unsupported-persistence-type")}function Gu(e){return Zu.apply(this,arguments)}function Zu(){return Zu=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Qu(),r=wn(Ku,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function Qu(){return"undefined"!==typeof window?window:null}var $u=Et,Yu=function(){function e(){o(this,e),this.browserResolver=At(tu),this.cordovaResolver=At(Ou),this.underlyingResolver=null,this._redirectPersistence=Gi,this._completeRedirectFn=wo}return s(e,[{key:"_initialize",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Y(X().mark((function e(t,n,r,i){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Y(X().mark((function e(t,n,r,i){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Vu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return $u(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ju(e){return e.unwrap()}function Xu(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new is(e,function(e,t){var n,r=Z(e),i=t;return Et(t.customData.operationType,r,"argument-error"),Et(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fi._fromError(r,i)}(e,t));else if(r){var i=es(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function es(e){var t=(e instanceof L?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof L)&&"temporaryProof"in t&&"phoneNumber"in t)return Ba.credentialFromResult(e);var n,r=t.providerId;if(!r||r===at)return null;switch(r){case it:n=Ar;break;case nt:n=Tr;break;case rt:n=Cr;break;case ot:n=Pr;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Nr._create(r,u):pr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Sr(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof L?n.credentialFromError(e):n.credentialFromResult(e)}function ts(e,t){return t.catch((function(t){throw t instanceof L&&Xu(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,es(t)),additionalUserInfo:Li(e),user:as.getOrCreate(r)}}))}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ts(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(){function e(t,n){o(this,e),this.resolver=n,this.auth=t.wrapped()}return s(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ts(Ju(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),as=function(){function e(t){o(this,e),this._delegate=t,this.multiFactor=function(e){var t=Z(e);return zi.has(t)||zi.set(t,Vi._fromUser(t)),zi.get(t)}(t)}return s(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,Xr(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ns(this.auth,Fa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,to(this._delegate,t,Yu)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(Fn(this.auth));case 2:return e.abrupt("return",mo(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this.auth,ti(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ns(this.auth,function(e,t,n){return ja.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ts(this.auth,function(e,t,n){return eo.apply(this,arguments)}(this._delegate,e,Yu))}},{key:"reauthenticateWithRedirect",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(Fn(this.auth));case 2:return e.abrupt("return",vo(this._delegate,t,Yu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return xi.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ti(Z(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ti(Z(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return qa.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Si.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _i.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();as.USER_MAP=new WeakMap;var os=Et,us=function(){function e(t,n){if(o(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;os(r,"invalid-api-key",{appName:t.name});var i=[bn];if("undefined"!==typeof window){i=function(e,t){var n=Qu();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=wn(Ku,e,t);switch(n.sessionStorage.getItem(r)){case Bu.NONE:return[bn];case Bu.LOCAL:return[ya,Gi];case Bu.SESSION:return[Gi];default:return[]}}(r,t.name);for(var a=0,u=[ya,Ki,Gi];a<u.length;a++){var s=u[a];i.includes(s)||i.push(s)}}os(r,"invalid-api-key",{appName:t.name});var c="undefined"!==typeof window?Yu:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:c}}),this._delegate._updateErrorMap(pt),this.linkUnderlyingAuth()}return s(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){jn(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return fi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return li.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ts(this._delegate,vi(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return wi.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=xr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os(ju(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ko(this._delegate,Yu);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ts(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Fn(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mi.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ci.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hu(this._delegate,t),e.t0=t,e.next=e.t0===Bu.SESSION?4:e.t0===Bu.LOCAL?6:e.t0===Bu.NONE?11:13;break;case 4:return n=Gi,e.abrupt("break",14);case 6:return e.next=8,At(ya)._isAvailable();case 8:return r=e.sent,n=r?ya:Ki,e.abrupt("break",14);case 11:return n=bn,e.abrupt("break",14);case 13:return e.abrupt("return",kt("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ts(this._delegate,function(e){return Fr.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ts(this._delegate,Yr(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ts(this._delegate,function(e,t){return ai.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ts(this._delegate,function(e,t,n){return Yr(Z(e),_r.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ts(this._delegate,function(e,t,n){return gi.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ns(this._delegate,function(e,t,n){return Ma.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os(ju(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ts(this._delegate,Ja(this._delegate,t,Yu)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os(ju(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gu(this._delegate);case 3:return e.abrupt("return",ho(this._delegate,t,Yu));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return pi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ss(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&as.getOrCreate(e))},error:t,complete:n}}us.Persistence=Bu;var cs=function(){function e(){o(this,e),this.providerId="phone",this._delegate=new Ba(Ju(Ze.auth()))}return s(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ba.credential(e,t)}}]),e}();cs.PHONE_SIGN_IN_METHOD=Ba.PHONE_SIGN_IN_METHOD,cs.PROVIDER_ID=Ba.PROVIDER_ID;var ls,fs=Et,hs=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ze.app();o(this,e),fs(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ra(t,n,i.auth()),this.type=this._delegate.type}return s(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ls=Ze).INTERNAL.registerComponent(new ee("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new us(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ut,PASSWORD_RESET:st,RECOVER_EMAIL:ct,REVERT_SECOND_FACTOR_ADDITION:lt,VERIFY_AND_CHANGE_EMAIL:ft,VERIFY_EMAIL:ht}},EmailAuthProvider:_r,FacebookAuthProvider:Tr,GithubAuthProvider:Cr,GoogleAuthProvider:Ar,OAuthProvider:Sr,SAMLAuthProvider:Or,PhoneAuthProvider:cs,PhoneMultiFactorGenerator:iu,RecaptchaVerifier:hs,TwitterAuthProvider:Pr,Auth:us,AuthCredential:qn,Error:L}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ls.registerVersion("@firebase/auth-compat","0.2.4");var ds,ps="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vs={},ys=ys||{},ms=ps||self;function gs(){}function ks(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ws="closure_uid_"+(1e9*Math.random()>>>0),xs=0;function _s(e,t,n){return e.call.apply(e.bind,arguments)}function Es(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Is(e,t,n){return(Is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_s:Es).apply(null,arguments)}function Ss(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ts(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function As(){this.s=this.s,this.o=this.o}var Cs={};As.prototype.s=!1,As.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ws)&&e[ws]||(e[ws]=++xs)}(this);delete Cs[e]}},As.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ns=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Os=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ps(e){return Array.prototype.concat.apply([],arguments)}function Rs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ds(e){return/^[\s\xa0]*$/.test(e)}var Ls,Ms=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fs(e,t){return-1!=e.indexOf(t)}function Us(e,t){return e<t?-1:e>t?1:0}e:{var js=ms.navigator;if(js){var Vs=js.userAgent;if(Vs){Ls=Vs;break e}}Ls=""}function zs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qs(e){var t={};for(var n in e)t[n]=e[n];return t}var Bs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ws(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bs.length;a++)n=Bs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ks(e){return Ks[" "](e),e}Ks[" "]=gs;var Hs,Gs=Fs(Ls,"Opera"),Zs=Fs(Ls,"Trident")||Fs(Ls,"MSIE"),Qs=Fs(Ls,"Edge"),$s=Qs||Zs,Ys=Fs(Ls,"Gecko")&&!(Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge"))&&!(Fs(Ls,"Trident")||Fs(Ls,"MSIE"))&&!Fs(Ls,"Edge"),Js=Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge");function Xs(){var e=ms.document;return e?e.documentMode:void 0}e:{var ec="",tc=function(){var e=Ls;return Ys?/rv:([^\);]+)(\)|;)/.exec(e):Qs?/Edge\/([\d\.]+)/.exec(e):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Js?/WebKit\/(\S+)/.exec(e):Gs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tc&&(ec=tc?tc[1]:""),Zs){var nc=Xs();if(null!=nc&&nc>parseFloat(ec)){Hs=String(nc);break e}}Hs=ec}var rc,ic={};function ac(){return function(e){var t=ic;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ms(String(Hs)).split("."),n=Ms("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Us(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Us(0==a[2].length,0==o[2].length)||Us(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ms.document&&Zs){var oc=Xs();rc=oc||(parseInt(Hs,10)||void 0)}else rc=void 0;var uc=rc,sc=function(){if(!ms.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ms.addEventListener("test",gs,t),ms.removeEventListener("test",gs,t)}catch(AE){}return e}();function cc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lc(e,t){if(cc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ys){e:{try{Ks(t.nodeName);var i=!0;break e}catch(TE){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lc.Z.h.call(this)}}cc.prototype.h=function(){this.defaultPrevented=!0},Ts(lc,cc);var fc={2:"touch",3:"pen",4:"mouse"};lc.prototype.h=function(){lc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),dc=0;function pc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dc,this.ca=this.fa=!1}function vc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yc(e){this.src=e,this.g={},this.h=0}function mc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ns(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}yc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new pc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var kc="closure_lm_"+(1e6*Math.random()|0),bc={};function wc(e,t,n,r,i){if(r&&r.once)return _c(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wc(e,t[a],n,r,i);return null}return n=Nc(n),e&&e[hc]?e.N(t,n,bs(r)?!!r.capture:!!r,i):xc(e,t,n,!1,r,i)}function xc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bs(i)?!!i.capture:!!i,u=Ac(e);if(u||(e[kc]=u=new yc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Tc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Sc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _c(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_c(e,t[a],n,r,i);return null}return n=Nc(n),e&&e[hc]?e.O(t,n,bs(r)?!!r.capture:!!r,i):xc(e,t,n,!0,r,i)}function Ec(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ec(e,t[a],n,r,i);else r=bs(r)?!!r.capture:!!r,n=Nc(n),e&&e[hc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gc(a=e.g[t],n,r,i))&&(vc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ac(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gc(t,n,r,i)),(n=-1<e?t[e]:null)&&Ic(n))}function Ic(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hc])mc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Sc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ac(t))?(mc(n,e),0==n.h&&(n.src=null,t[kc]=null)):vc(e)}}}function Sc(e){return e in bc?bc[e]:bc[e]="on"+e}function Tc(e,t){if(e.ca)e=!0;else{t=new lc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ic(e),e=n.call(r,t)}return e}function Ac(e){return(e=e[kc])instanceof yc?e:null}var Cc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nc(e){return"function"===typeof e?e:(e[Cc]||(e[Cc]=function(t){return e.handleEvent(t)}),e[Cc])}function Oc(){As.call(this),this.i=new yc(this),this.P=this,this.I=null}function Pc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cc(t,e);else if(t instanceof cc)t.target=t.target||e;else{var i=t;Ws(t=new cc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rc(o,r,!0,t)&&i}if(i=Rc(o=t.g=e,r,!0,t)&&i,i=Rc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rc(o=t.g=n[a],r,!1,t)&&i}function Rc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&mc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ts(Oc,As),Oc.prototype[hc]=!0,Oc.prototype.removeEventListener=function(e,t,n,r){Ec(this,e,t,n,r)},Oc.prototype.M=function(){if(Oc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vc(n[r]);delete t.g[e],t.h--}}this.I=null},Oc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Dc=ms.JSON.stringify;function Lc(){var e=Bc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mc,Fc=function(){function e(){o(this,e),this.h=this.g=null}return s(e,[{key:"add",value:function(e,t){var n=Uc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Uc=new(function(){function e(t,n){o(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return s(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new jc}),(function(e){return e.reset()})),jc=function(){function e(){o(this,e),this.next=this.g=this.h=null}return s(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vc(e){ms.setTimeout((function(){throw e}),0)}function zc(e,t){Mc||function(){var e=ms.Promise.resolve(void 0);Mc=function(){e.then(Wc)}}(),qc||(Mc(),qc=!0),Bc.add(e,t)}var qc=!1,Bc=new Fc;function Wc(){for(var e;e=Lc();){try{e.h.call(e.g)}catch(AE){Vc(AE)}var t=Uc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qc=!1}function Kc(e,t){Oc.call(this),this.h=e||1,this.g=t||ms,this.j=Is(this.kb,this),this.l=Date.now()}function Hc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Gc(e,t,n){if("function"===typeof e)n&&(e=Is(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Is(e.handleEvent,e)}return 2147483647<Number(t)?-1:ms.setTimeout(e,t||0)}function Zc(e){e.g=Gc((function(){e.g=null,e.i&&(e.i=!1,Zc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ts(Kc,Oc),(ds=Kc.prototype).da=!1,ds.S=null,ds.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pc(this,"tick"),this.da&&(Hc(this),this.start()))}},ds.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ds.M=function(){Kc.Z.M.call(this),Hc(this),delete this.g};var Qc=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return s(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zc(this)}},{key:"M",value:function(){Xe(p(n.prototype),"M",this).call(this),this.g&&(ms.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(As);function $c(e){As.call(this),this.h=e,this.g={}}Ts($c,As);var Yc=[];function Jc(e,t,n,r){Array.isArray(n)||(n&&(Yc[0]=n.toString()),n=Yc);for(var i=0;i<n.length;i++){var a=wc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xc(e){zs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ic(e)}),e),e.g={}}function el(){this.g=!0}function tl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Dc(n)}catch(bE){return t}}(e,n)+(r?" "+r:"")}))}$c.prototype.M=function(){$c.Z.M.call(this),Xc(this)},$c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},el.prototype.Aa=function(){this.g=!1},el.prototype.info=function(){};var nl={},rl=null;function il(){return rl=rl||new Oc}function al(e){cc.call(this,nl.Ma,e)}function ol(e){var t=il();Pc(t,new al(t,e))}function ul(e,t){cc.call(this,nl.STAT_EVENT,e),this.stat=t}function sl(e){var t=il();Pc(t,new ul(t,e))}function cl(e,t){cc.call(this,nl.Na,e),this.size=t}function ll(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ms.setTimeout((function(){e()}),t)}nl.Ma="serverreachability",Ts(al,cc),nl.STAT_EVENT="statevent",Ts(ul,cc),nl.Na="timingevent",Ts(cl,cc);var fl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dl(){}function pl(e){return e.h||(e.h=e.i())}function vl(){}dl.prototype.h=null;var yl,ml={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gl(){cc.call(this,"d")}function kl(){cc.call(this,"c")}function bl(){}function wl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $c(this),this.P=_l,e=$s?125:void 0,this.W=new Kc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xl}function xl(){this.i=null,this.g="",this.h=!1}Ts(gl,cc),Ts(kl,cc),Ts(bl,dl),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},yl=new bl;var _l=45e3,El={},Il={};function Sl(e,t,n){e.K=1,e.v=Ql(Bl(t)),e.s=n,e.U=!0,Tl(e,null)}function Tl(e,t){e.F=Date.now(),Ol(e),e.A=Bl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),cf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xl,e.g=lh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Qc(Is(e.Ia,e,e.g),e.O)),Jc(e.V,e.g,"readystatechange",e.gb),t=e.H?qs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ol(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Al(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nl(e,n))==Il){4==t&&(e.o=4,sl(14),i=!1),tl(e.j,e.m,null,"[Incomplete Response]");break}if(r==El){e.o=4,sl(15),tl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tl(e.j,e.m,r,null),Ml(e,r)}Al(e)&&r!=Il&&r!=El&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nh(t),t.L=!0,sl(11))):(tl(e.j,e.m,n,"[Invalid Chunked Response]"),Ll(e),Dl(e))}function Nl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Il:(n=Number(t.substring(n,r)),isNaN(n)?El:(r+=1)+n>t.length?Il:(t=t.substr(r,n),e.C=r+n,t))}function Ol(e){e.Y=Date.now()+e.P,Pl(e,e.P)}function Pl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ll(Is(e.eb,e),t)}function Rl(e){e.B&&(ms.clearTimeout(e.B),e.B=null)}function Dl(e){0==e.l.G||e.I||ah(e.l,e)}function Ll(e){Rl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hc(e.W),Xc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ml(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yf(n.i,e)))if(n.I=e.N,!e.J&&yf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ih(n),Gf(n)}th(n),sl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ll(Is(n.ab,n),6e3));if(1>=vf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else uh(n,11)}else if((e.J||n.g==e)&&ih(n),!Ds(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Fs(l,"spdy")||Fs(l,"quic")||Fs(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(mf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Zl(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ch(r,r.H?r.la:null,r.W),d.J){gf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rl(p),Ol(p)),r.g=d}else eh(r);0<n.l.length&&$f(n)}else"stop"!=a[0]&&"close"!=a[0]||uh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uh(n,7):Hf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ol(4)}catch(a){}}function Fl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ks(e)||"string"===typeof e)Os(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ks(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ks(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ul(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ul)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function jl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Vl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Vl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ds=wl.prototype).setTimeout=function(e){this.P=e},ds.gb=function(e){e=e.target;var t=this.L;t&&3==zf(e)?t.l():this.Ia(e)},ds.Ia=function(e){try{if(e==this.g)e:{var t=zf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||$s||this.g&&(this.h.h||this.g.ga()||qf(this.g)))){this.I||4!=t||7==n||ol(8==n||0>=r?3:2),Rl(this);var i=this.g.ba();this.N=i;t:if(Al(this)){var a=qf(this.g);e="";var o=a.length,u=4==zf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ll(this),Dl(this);var s="";break t}this.h.i=new ms.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sl(12),Ll(this),Dl(this);break e}tl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ml(this,i)}this.U?(Cl(this,t,s),$s&&this.i&&3==t&&(Jc(this.V,this.W,"tick",this.fb),this.W.start())):(tl(this.j,this.m,s,null),Ml(this,s)),4==t&&Ll(this),this.i&&!this.I&&(4==t?ah(this.l,this):(this.i=!1,Ol(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,sl(12)):(this.o=0,sl(13)),Ll(this),Dl(this)}}}catch(t){}},ds.fb=function(){if(this.g){var e=zf(this.g),t=this.g.ga();this.C<t.length&&(Rl(this),Cl(this,e,t),this.i&&4!=e&&Ol(this))}},ds.cancel=function(){this.I=!0,Ll(this)},ds.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ol(3),sl(17)),Ll(this),this.o=2,Dl(this)):Pl(this,this.Y-e)},(ds=Ul.prototype).R=function(){jl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ds.T=function(){return jl(this),this.g.concat()},ds.get=function(e,t){return Vl(this.h,e)?this.h[e]:t},ds.set=function(e,t){Vl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ds.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var zl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ql(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ql){this.g=void 0!==t?t:e.g,Wl(this,e.j),this.s=e.s,Kl(this,e.i),Hl(this,e.m),this.l=e.l,t=e.h;var n=new af;n.i=t.i,t.g&&(n.g=new Ul(t.g),n.h=t.h),Gl(this,n),this.o=e.o}else e&&(n=String(e).match(zl))?(this.g=!!t,Wl(this,n[1]||"",!0),this.s=$l(n[2]||""),Kl(this,n[3]||"",!0),Hl(this,n[4]),this.l=$l(n[5]||"",!0),Gl(this,n[6]||"",!0),this.o=$l(n[7]||"")):(this.g=!!t,this.h=new af(null,this.g))}function Bl(e){return new ql(e)}function Wl(e,t,n){e.j=n?$l(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kl(e,t,n){e.i=n?$l(t,!0):t}function Hl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gl(e,t,n){t instanceof af?(e.h=t,function(e,t){t&&!e.j&&(of(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uf(this,t),cf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Yl(t,nf)),e.h=new af(t,e.g))}function Zl(e,t,n){e.h.set(t,n)}function Ql(e){return Zl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $l(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ql.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yl(t,Xl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yl(t,Xl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yl(n,"/"==n.charAt(0)?tf:ef,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yl(n,rf)),e.join("")};var Xl=/[#\/\?@]/g,ef=/[#\?:]/g,tf=/[#\?]/g,nf=/[#\?@]/g,rf=/#/g;function af(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function of(e){e.g||(e.g=new Ul,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uf(e,t){of(e),t=lf(e,t),Vl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Vl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&jl(e)))}function sf(e,t){return of(e),t=lf(e,t),Vl(e.g.h,t)}function cf(e,t,n){uf(e,t),0<n.length&&(e.i=null,e.g.set(lf(e,t),Rs(n)),e.h+=n.length)}function lf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ds=af.prototype).add=function(e,t){of(this),this.i=null,e=lf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ds.forEach=function(e,t){of(this),this.g.forEach((function(n,r){Os(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ds.T=function(){of(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ds.R=function(e){of(this);var t=[];if("string"===typeof e)sf(this,e)&&(t=Ps(t,this.g.get(lf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ps(t,e[n])}return t},ds.set=function(e,t){return of(this),this.i=null,sf(this,e=lf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ds.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ds.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ff=s((function e(t,n){o(this,e),this.h=t,this.g=n}));function hf(e){this.l=e||df,ms.PerformanceNavigationTiming?e=0<(e=ms.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ms.g&&ms.g.Ea&&ms.g.Ea()&&ms.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var df=10;function pf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vf(e){return e.h?1:e.g?e.g.size:0}function yf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mf(e,t){e.g?e.g.add(t):e.h=t}function gf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=l(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rs(e.i)}function bf(){}function wf(){this.g=new bf}function xf(e,t,n){var r=n||"";try{Fl(e,(function(e,n){var i=e;bs(e)&&(i=Dc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _f(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(TE){}}function Ef(e){this.l=e.$b||null,this.j=e.ib||!1}function If(e,t){Oc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hf.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=l(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},bf.prototype.stringify=function(e){return ms.JSON.stringify(e,void 0)},bf.prototype.parse=function(e){return ms.JSON.parse(e,void 0)},Ts(Ef,dl),Ef.prototype.g=function(){return new If(this.l,this.j)},Ef.prototype.i=function(e){return function(){return e}}({}),Ts(If,Oc);var Sf=0;function Tf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Af(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cf(e)}function Cf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ds=If.prototype).open=function(e,t){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cf(this)},ds.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ms).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ds.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Af(this)),this.readyState=Sf},ds.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cf(this)),this.g&&(this.readyState=3,Cf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ms.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ds.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Af(this):Cf(this),3==this.readyState&&Tf(this)}},ds.Ua=function(e){this.g&&(this.response=this.responseText=e,Af(this))},ds.Ta=function(e){this.g&&(this.response=e,Af(this))},ds.ha=function(){this.g&&Af(this)},ds.setRequestHeader=function(e,t){this.v.append(e,t)},ds.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ds.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(If.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nf=ms.JSON.parse;function Of(e){Oc.call(this),this.headers=new Ul,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pf,this.K=this.L=!1}Ts(Of,Oc);var Pf="",Rf=/^https?$/i,Df=["POST","PUT"];function Lf(e){return"content-type"==e.toLowerCase()}function Mf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ff(e),jf(e)}function Ff(e){e.D||(e.D=!0,Pc(e,"complete"),Pc(e,"error"))}function Uf(e){if(e.h&&"undefined"!=typeof ys&&(!e.C[1]||4!=zf(e)||2!=e.ba()))if(e.v&&4==zf(e))Gc(e.Fa,0,e);else if(Pc(e,"readystatechange"),4==zf(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(zl)[1]||null;if(!a&&ms.self&&ms.self.location){var o=ms.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rf.test(a?a.toLowerCase():"")}t=i}if(t)Pc(e,"complete"),Pc(e,"success");else{e.m=6;try{var u=2<zf(e)?e.g.statusText:""}catch(IE){u=""}e.j=u+" ["+e.ba()+"]",Ff(e)}}finally{jf(e)}}}function jf(e,t){if(e.g){Vf(e);var n=e.g,r=e.C[0]?gs:null;e.g=null,e.C=null,t||Pc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ms.clearTimeout(e.A),e.A=null)}function zf(e){return e.g?e.g.readyState:0}function qf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ME){return null}}function Bf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return zs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Zl(e,t,n))}function Wf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kf(e){this.za=0,this.l=[],this.h=new el,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wf("baseRetryDelayMs",5e3,e),this.$a=Wf("retryDelaySeedMs",1e4,e),this.Ya=Wf("forwardChannelMaxRetries",2,e),this.ra=Wf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new hf(e&&e.concurrentRequestLimit),this.Ca=new wf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Hf(e){if(Zf(e),3==e.G){var t=e.V++,n=Bl(e.F);Zl(n,"SID",e.J),Zl(n,"RID",t),Zl(n,"TYPE","terminate"),Jf(e,n),(t=new wl(e,e.h,t,void 0)).K=2,t.v=Ql(Bl(n)),n=!1,ms.navigator&&ms.navigator.sendBeacon&&(n=ms.navigator.sendBeacon(t.v.toString(),"")),!n&&ms.Image&&((new Image).src=t.v,n=!0),n||(t.g=lh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ol(t)}sh(e)}function Gf(e){e.g&&(nh(e),e.g.cancel(),e.g=null)}function Zf(e){Gf(e),e.u&&(ms.clearTimeout(e.u),e.u=null),ih(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ms.clearTimeout(e.m),e.m=null)}function Qf(e,t){e.l.push(new ff(e.Za++,t)),3==e.G&&$f(e)}function $f(e){pf(e.i)||e.m||(e.m=!0,zc(e.Ha,e),e.C=0)}function Yf(e,t){var n;n=t?t.m:e.V++;var r=Bl(e.F);Zl(r,"SID",e.J),Zl(r,"RID",n),Zl(r,"AID",e.U),Jf(e,r),e.o&&e.s&&Bf(r,e.o,e.s),n=new wl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),mf(e.i,n),Sl(n,r,t)}function Jf(e,t){e.j&&Fl({},(function(e,n){Zl(t,n,e)}))}function Xf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Is(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xf(l,o,"req"+c+"_")}catch(qh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function eh(e){e.g||e.u||(e.Y=1,zc(e.Ga,e),e.A=0)}function th(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ll(Is(e.Ga,e),oh(e,e.A)),e.A++,!0)}function nh(e){null!=e.B&&(ms.clearTimeout(e.B),e.B=null)}function rh(e){e.g=new wl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Bl(e.oa);Zl(t,"RID","rpc"),Zl(t,"SID",e.J),Zl(t,"CI",e.N?"0":"1"),Zl(t,"AID",e.U),Jf(e,t),Zl(t,"TYPE","xmlhttp"),e.o&&e.s&&Bf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ql(Bl(t)),n.s=null,n.U=!0,Tl(n,e)}function ih(e){null!=e.v&&(ms.clearTimeout(e.v),e.v=null)}function ah(e,t){var n=null;if(e.g==t){ih(e),nh(e),e.g=null;var r=2}else{if(!yf(e.i,t))return;n=t.D,gf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pc(r=il(),new cl(r,n,t,i)),$f(e)}else eh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ll(Is(e.Ha,e,t),oh(e,e.C)),e.C++,!0))}(e,t)||2==r&&th(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uh(e,5);break;case 4:uh(e,10);break;case 3:uh(e,6);break;default:uh(e,2)}}function oh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function uh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Is(e.jb,e);n||(n=new ql("//www.google.com/images/cleardot.gif"),ms.location&&"http"==ms.location.protocol||Wl(n,"https"),Ql(n)),function(e,t){var n=new el;if(ms.Image){var r=new Image;r.onload=Ss(_f,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ss(_f,n,r,"TestLoadImage: error",!1,t),r.onabort=Ss(_f,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ss(_f,n,r,"TestLoadImage: timeout",!1,t),ms.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sl(2);e.G=0,e.j&&e.j.va(t),sh(e),Zf(e)}function sh(e){e.G=0,e.I=-1,e.j&&(0==kf(e.i).length&&0==e.l.length||(e.i.i.length=0,Rs(e.l),e.l.length=0),e.j.ua())}function ch(e,t,n){var r=function(e){return e instanceof ql?Bl(e):new ql(e,void 0)}(n);if(""!=r.i)t&&Kl(r,t+"."+r.i),Hl(r,r.m);else{var i=ms.location;r=function(e,t,n,r){var i=new ql(null,void 0);return e&&Wl(i,e),t&&Kl(i,t),n&&Hl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&zs(e.aa,(function(e,t){Zl(r,t,e)})),t=e.D,n=e.sa,t&&n&&Zl(r,t,n),Zl(r,"VER",e.ma),Jf(e,r),r}function lh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Of(new Ef({ib:!0})):new Of(e.qa)).L=e.H,t}function fh(){}function hh(){if(Zs&&!(10<=Number(uc)))throw Error("Environmental error: no available transport.")}function dh(e,t){Oc.call(this),this.g=new Kf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ds(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ds(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yh(this)}function ph(e){gl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vh(){kl.call(this),this.status=1}function yh(e){this.g=e}(ds=Of.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yl.g(),this.C=this.u?pl(this.u):pl(yl),this.g.onreadystatechange=Is(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(TE){return void Mf(this,TE)}e=n||"";var i=new Ul(this.headers);r&&Fl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Lf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ms.FormData&&e instanceof ms.FormData,!(0<=Ns(Df,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vf(this),0<this.B&&((this.K=function(e){return Zs&&ac()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Is(this.pa,this)):this.A=Gc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(TE){Mf(this,TE)}},ds.pa=function(){"undefined"!=typeof ys&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pc(this,"timeout"),this.abort(8))},ds.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pc(this,"complete"),Pc(this,"abort"),jf(this))},ds.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),Of.Z.M.call(this)},ds.Fa=function(){this.s||(this.F||this.v||this.l?Uf(this):this.cb())},ds.cb=function(){Uf(this)},ds.ba=function(){try{return 2<zf(this)?this.g.status:-1}catch(SE){return-1}},ds.ga=function(){try{return this.g?this.g.responseText:""}catch(SE){return""}},ds.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nf(t)}},ds.Da=function(){return this.m},ds.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ds=Kf.prototype).ma=8,ds.G=1,ds.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ME){}},ds.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ws(n=qs(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xf(this,t,r),Zl(i=Bl(this.F),"RID",e),Zl(i,"CVER",22),this.D&&Zl(i,"X-HTTP-Session-Id",this.D),Jf(this,i),this.o&&n&&Bf(i,this.o,n),mf(this.i,t),this.Ra&&Zl(i,"TYPE","init"),this.ja?(Zl(i,"$req",r),Zl(i,"SID","null"),t.$=!0,Sl(t,i,null)):Sl(t,i,r),this.G=2}}else 3==this.G&&(e?Yf(this,e):0==this.l.length||pf(this.i)||Yf(this))},ds.Ga=function(){if(this.u=null,rh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ll(Is(this.bb,this),e)}},ds.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sl(10),Gf(this),rh(this))},ds.ab=function(){null!=this.v&&(this.v=null,Gf(this),th(this),sl(19))},ds.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sl(2)):(this.h.info("Failed to ping google.com"),sl(1))},(ds=fh.prototype).xa=function(){},ds.wa=function(){},ds.va=function(){},ds.ua=function(){},ds.Oa=function(){},hh.prototype.g=function(e,t){return new dh(e,t)},Ts(dh,Oc),dh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),zc(Is(e.hb,e,t))),sl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ch(e,null,e.W),$f(e)},dh.prototype.close=function(){Hf(this.g)},dh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Qf(this.g,t)}else this.v?((t={}).__data__=Dc(e),Qf(this.g,t)):Qf(this.g,e)},dh.prototype.M=function(){this.g.j=null,delete this.j,Hf(this.g),delete this.g,dh.Z.M.call(this)},Ts(ph,gl),Ts(vh,kl),Ts(yh,fh),yh.prototype.xa=function(){Pc(this.g,"a")},yh.prototype.wa=function(e){Pc(this.g,new ph(e))},yh.prototype.va=function(e){Pc(this.g,new vh(e))},yh.prototype.ua=function(){Pc(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,dh.prototype.send=dh.prototype.u,dh.prototype.open=dh.prototype.m,dh.prototype.close=dh.prototype.close,fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,hl.COMPLETE="complete",vl.EventType=ml,ml.OPEN="a",ml.CLOSE="b",ml.ERROR="c",ml.MESSAGE="d",Oc.prototype.listen=Oc.prototype.N,Of.prototype.listenOnce=Of.prototype.O,Of.prototype.getLastError=Of.prototype.La,Of.prototype.getLastErrorCode=Of.prototype.Da,Of.prototype.getStatus=Of.prototype.ba,Of.prototype.getResponseJson=Of.prototype.Qa,Of.prototype.getResponseText=Of.prototype.ga,Of.prototype.send=Of.prototype.ea;var mh=vs.createWebChannelTransport=function(){return new hh},gh=vs.getStatEventTarget=function(){return il()},kh=vs.ErrorCode=fl,bh=vs.EventType=hl,wh=vs.Event=nl,xh=vs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_h=vs.FetchXmlHttpFactory=Ef,Eh=vs.WebChannel=vl,Ih=vs.XhrIo=Of,Sh="@firebase/firestore",Th=function(){function e(t){o(this,e),this.uid=t}return s(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Th.UNAUTHENTICATED=new Th(null),Th.GOOGLE_CREDENTIALS=new Th("google-credentials-uid"),Th.FIRST_PARTY=new Th("first-party-uid"),Th.MOCK_USER=new Th("mock-user");var Ah="9.6.1",Ch=new de("@firebase/firestore");function Nh(){return Ch.logLevel}function Oh(e){if(Ch.logLevel<=ie.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dh);Ch.debug.apply(Ch,["Firestore (".concat(Ah,"): ").concat(e)].concat((0,Q.Z)(i)))}}function Ph(e){if(Ch.logLevel<=ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dh);Ch.error.apply(Ch,["Firestore (".concat(Ah,"): ").concat(e)].concat((0,Q.Z)(i)))}}function Rh(e){if(Ch.logLevel<=ie.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dh);Ch.warn.apply(Ch,["Firestore (".concat(Ah,"): ").concat(e)].concat((0,Q.Z)(i)))}}function Dh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ah,") INTERNAL ASSERTION FAILED: ")+e;throw Ph(t),new Error(t)}function Mh(e,t){e||Lh()}function Fh(e,t){return e}var Uh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jh=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return s(n)}(b(Error)),Vh=s((function e(){var t=this;o(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zh=s((function e(t,n){o(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qh=function(){function e(){o(this,e)}return s(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Th.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bh=function(){function e(t){o(this,e),this.token=t,this.changeListener=null}return s(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wh=function(){function e(t){o(this,e),this.t=t,this.currentUser=Th.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return s(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Vh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Vh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Oh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Oh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Oh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mh("string"==typeof n.accessToken),new zh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mh(null===e||"string"==typeof e),new Th(e)}}]),e}(),Kh=s((function e(t,n,r){o(this,e),this.type="FirstParty",this.user=Th.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Hh=function(){function e(t,n,r){o(this,e),this.h=t,this.l=n,this.m=r}return s(e,[{key:"getToken",value:function(){return Promise.resolve(new Kh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Th.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gh=s((function e(t){o(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Zh=function(){function e(t){o(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return s(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Oh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Oh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Oh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Mh("string"==typeof e.token),new Gh(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Qh=function(){function e(t,n){var r=this;o(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return s(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function $h(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Qh.I=-1;var Yh=function(){function e(){o(this,e)}return s(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$h(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Jh(e,t){return e<t?-1:e>t?1:0}function Xh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ed(e){return e+"\0"}var td=function(){function e(t,n){if(o(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new jh(Uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jh(Uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new jh(Uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jh(Uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return s(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Jh(this.nanoseconds,e.nanoseconds):Jh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nd=function(){function e(t){o(this,e),this.timestamp=t}return s(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new td(0,0))}}]),e}();function rd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function id(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ad(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var od=function(){function e(t,n,r){o(this,e),void 0===n?n=0:n>t.length&&Lh(),void 0===r?r=t.length-n:r>t.length-n&&Lh(),this.segments=t,this.offset=n,this.len=r}return s(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ud=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new jh(Uh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,Q.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(od),sd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cd=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new jh(Uh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new jh(Uh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new jh(Uh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new jh(Uh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(od),ld=function(){function e(t){o(this,e),this.fields=t,t.sort(cd.comparator)}return s(e,[{key:"covers",value:function(e){var t,n=l(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Xh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fd=function(){function e(t){o(this,e),this.binaryString=t}return s(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Jh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();fd.EMPTY_BYTE_STRING=new fd("");var hd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dd(e){if(Mh(!!e),"string"==typeof e){var t=0,n=hd.exec(e);if(Mh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pd(e.seconds),nanos:pd(e.nanos)}}function pd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vd(e){return"string"==typeof e?fd.fromBase64String(e):fd.fromUint8Array(e)}function yd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function md(e){var t=e.mapValue.fields.__previous_value__;return yd(t)?md(t):t}function gd(e){var t=dd(e.mapValue.fields.__local_write_time__.timestampValue);return new td(t.seconds,t.nanos)}function kd(e){return null==e}function bd(e){return 0===e&&1/e==-1/0}function wd(e){return"number"==typeof e&&Number.isInteger(e)&&!bd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var xd=function(){function e(t){o(this,e),this.path=t}return s(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ud.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ud.fromString(t))}},{key:"fromName",value:function(t){return new e(ud.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ud.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ud(t.slice()))}}]),e}();function _d(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yd(e)?4:10:Lh()}function Ed(e,t){var n=_d(e);if(n!==_d(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gd(e).isEqual(gd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=dd(e.timestampValue),r=dd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vd(e.bytesValue).isEqual(vd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pd(e.geoPointValue.latitude)===pd(t.geoPointValue.latitude)&&pd(e.geoPointValue.longitude)===pd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pd(e.integerValue)===pd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pd(e.doubleValue),r=pd(t.doubleValue);return n===r?bd(n)===bd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xh(e.arrayValue.values||[],t.arrayValue.values||[],Ed);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rd(n)!==rd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ed(n[i],r[i])))return!1;return!0}(e,t);default:return Lh()}}function Id(e,t){return void 0!==(e.values||[]).find((function(e){return Ed(e,t)}))}function Sd(e,t){var n=_d(e),r=_d(t);if(n!==r)return Jh(n,r);switch(n){case 0:return 0;case 1:return Jh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pd(e.integerValue||e.doubleValue),r=pd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Td(e.timestampValue,t.timestampValue);case 4:return Td(gd(e),gd(t));case 5:return Jh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vd(e),r=vd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Jh(n[i],r[i]);if(0!==a)return a}return Jh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jh(pd(e.latitude),pd(t.latitude));return 0!==n?n:Jh(pd(e.longitude),pd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sd(n[i],r[i]);if(a)return a}return Jh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Jh(r[o],a[o]);if(0!==u)return u;var s=Sd(n[r[o]],i[a[o]]);if(0!==s)return s}return Jh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lh()}}function Td(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jh(e,t);var n=dd(e),r=dd(t),i=Jh(n.seconds,r.seconds);return 0!==i?i:Jh(n.nanos,r.nanos)}function Ad(e){return Cd(e)}function Cd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=dd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=l(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Cd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=l(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Cd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lh();var t,n}function Nd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Od(e){return!!e&&"integerValue"in e}function Pd(e){return!!e&&"arrayValue"in e}function Rd(e){return!!e&&"nullValue"in e}function Dd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ld(e){return!!e&&"mapValue"in e}function Md(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return id(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Md(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Md(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fd=function(){function e(t){o(this,e),this.value=t}return s(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ld(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(t)}},{key:"setAll",value:function(e){var t=this,n=cd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Md(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ed(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ld(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){id(t,(function(t,n){return e[t]=n}));var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Md(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ud(e){var t=[];return id(e.fields,(function(e,n){var r=new cd([e]);if(Ld(n)){var i=Ud(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=l(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ld(t)}var jd=function(){function e(t,n,r,i,a){o(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return s(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nd.min(),Fd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fd.empty(),2)}}]),e}(),Vd=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;o(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=s,this.R=null}));function zd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vd(e,t,n,r,i,a,o)}function qd(e){var t=Fh(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ad(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),kd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=tp(t.startAt)),t.endAt&&(n+="|ub:",n+=tp(t.endAt)),t.R=n}return t.R}function Bd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ed(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ap(e.startAt,t.startAt)&&ap(e.endAt,t.endAt)}function Wd(e){return xd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Kd=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sd(t,this.value)):null!==t&&_d(this.value)===_d(t)&&this.v(Sd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lh()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Hd(e,t,r):"array-contains"===t?new $d(e,r):"in"===t?new Yd(e,r):"not-in"===t?new Jd(e,r):"array-contains-any"===t?new Xd(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Gd(e,n):new Zd(e,n)}}]),n}(function(){return s((function e(){o(this,e)}))}());var Hd=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,i)).key=xd.fromName(i.referenceValue),a}return s(n,[{key:"matches",value:function(e){var t=xd.comparator(e.key,this.key);return this.v(t)}}]),n}(Kd),Gd=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,"in",r)).keys=Qd("in",r),i}return s(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kd),Zd=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,"not-in",r)).keys=Qd("not-in",r),i}return s(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kd);function Qd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return xd.fromName(e.referenceValue)}))}var $d=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"array-contains",r)}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pd(t)&&Id(t.arrayValue,this.value)}}]),n}(Kd),Yd=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"in",r)}return s(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Id(this.value.arrayValue,t)}}]),n}(Kd),Jd=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"not-in",r)}return s(n,[{key:"matches",value:function(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Id(this.value.arrayValue,t)}}]),n}(Kd),Xd=function(e){d(n,e);var t=g(n);function n(e,r){return o(this,n),t.call(this,e,"array-contains-any",r)}return s(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Id(t.value.arrayValue,e)}))}}]),n}(Kd),ep=s((function e(t,n){o(this,e),this.position=t,this.before=n}));function tp(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Ad(e)})).join(","))}var np=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";o(this,e),this.field=t,this.dir=n}));function rp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ip(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xd.comparator(xd.fromName(o.referenceValue),n.key):Sd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ap(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ed(e.position[n],t.position[n]))return!1;return!0}var op=s((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;o(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=s,this.endAt=c,this.S=null,this.D=null,this.startAt,this.endAt}));function up(e,t,n,r,i,a,o,u){return new op(e,t,n,r,i,a,o,u)}function sp(e){return new op(e)}function cp(e){return!kd(e.limit)&&"F"===e.limitType}function lp(e){return!kd(e.limit)&&"L"===e.limitType}function fp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hp(e){var t,n=l(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function dp(e){return null!==e.collectionGroup}function pp(e){var t=Fh(e);if(null===t.S){t.S=[];var n=hp(t),r=fp(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new np(n)),t.S.push(new np(cd.keyField(),"asc"));else{var i,a=!1,o=l(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new np(cd.keyField(),s))}}}return t.S}function vp(e){var t=Fh(e);if(!t.D)if("F"===t.limitType)t.D=zd(t.path,t.collectionGroup,pp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=l(pp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new np(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ep(t.endAt.position,!t.endAt.before):null,s=t.startAt?new ep(t.startAt.position,!t.startAt.before):null;t.D=zd(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function yp(e,t,n){return new op(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mp(e,t){return Bd(vp(e),vp(t))&&e.limitType===t.limitType}function gp(e){return"".concat(qd(vp(e)),"|lt:").concat(e.limitType)}function kp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ad(t.value));var t})).join(", "),"]")),kd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+tp(e.startAt)),e.endAt&&(t+=", endAt: "+tp(e.endAt)),"Target(".concat(t,")")}(vp(e)),"; limitType=").concat(e.limitType,")")}function bp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=l(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=l(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ip(e.startAt,pp(e),t))&&(!e.endAt||!ip(e.endAt,pp(e),t))}(e,t)}function wp(e){return function(t,n){var r,i=!1,a=l(pp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=xp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function xp(e,t,n){var r=e.field.isKeyField()?xd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sd(r,i):Lh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lh()}}function _p(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(t)?"-0":t}}function Ep(e){return{integerValue:""+e}}function Ip(e,t){return wd(t)?Ep(t):_p(e,t)}var Sp=s((function e(){o(this,e),this._=void 0}));function Tp(e,t,n){return e instanceof Np?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Op?Pp(e,t):e instanceof Rp?Dp(e,t):function(e,t){var n=Cp(e,t),r=Mp(n)+Mp(e.N);return Od(n)&&Od(e.N)?Ep(r):_p(e.k,r)}(e,t)}function Ap(e,t,n){return e instanceof Op?Pp(e,t):e instanceof Rp?Dp(e,t):n}function Cp(e,t){return e instanceof Lp?Od(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Np=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n)}(Sp),Op=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).elements=e,r}return s(n)}(Sp);function Pp(e,t){var n,r=Fp(t),i=l(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ed(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rp=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).elements=e,r}return s(n)}(Sp);function Dp(e,t){var n,r=Fp(t),i=l(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ed(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lp=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).k=e,i.N=r,i}return s(n)}(Sp);function Mp(e){return pd(e.integerValue||e.doubleValue)}function Fp(e){return Pd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Up=s((function e(t,n){o(this,e),this.field=t,this.transform=n}));var jp=s((function e(t,n){o(this,e),this.version=t,this.transformResults=n})),Vp=function(){function e(t,n){o(this,e),this.updateTime=t,this.exists=n}return s(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qp=s((function e(){o(this,e)}));function Bp(e,t,n){e instanceof Zp?function(e,t,n){var r=e.value.clone(),i=Yp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qp?function(e,t,n){if(zp(e.precondition,t)){var r=Yp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($p(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wp(e,t,n){e instanceof Zp?function(e,t,n){if(zp(e.precondition,t)){var r=e.value.clone(),i=Jp(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gp(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Qp?function(e,t,n){if(zp(e.precondition,t)){var r=Jp(e.fieldTransforms,n,t),i=t.data;i.setAll($p(e)),i.setAll(r),t.convertToFoundDocument(Gp(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){zp(e.precondition,t)&&t.convertToNoDocument(nd.min())}(e,t)}function Kp(e,t){var n,r=null,i=l(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cp(a.transform,o||null);null!=u&&(null==r&&(r=Fd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Hp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Op&&t instanceof Op||e instanceof Rp&&t instanceof Rp?Xh(e.elements,t.elements,Ed):e instanceof Lp&&t instanceof Lp?Ed(e.N,t.N):e instanceof Np&&t instanceof Np}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gp(e){return e.isFoundDocument()?e.version:nd.min()}var Zp=function(e){d(n,e);var t=g(n);function n(e,r,i){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return o(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=u,a.type=0,a}return s(n)}(qp),Qp=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return o(this,n),(u=t.call(this)).key=e,u.data=r,u.fieldMask=i,u.precondition=a,u.fieldTransforms=s,u.type=1,u}return s(n)}(qp);function $p(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yp(e,t,n){var r=new Map;Mh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ap(o,u,n[i]))}return r}function Jp(e,t,n){var r,i=new Map,a=l(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Tp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xp,ev,tv=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return s(n)}(qp),nv=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return s(n)}(qp),rv=s((function e(t){o(this,e),this.count=t}));function iv(e){switch(e){default:return Lh();case Uh.CANCELLED:case Uh.UNKNOWN:case Uh.DEADLINE_EXCEEDED:case Uh.RESOURCE_EXHAUSTED:case Uh.INTERNAL:case Uh.UNAVAILABLE:case Uh.UNAUTHENTICATED:return!1;case Uh.INVALID_ARGUMENT:case Uh.NOT_FOUND:case Uh.ALREADY_EXISTS:case Uh.PERMISSION_DENIED:case Uh.FAILED_PRECONDITION:case Uh.ABORTED:case Uh.OUT_OF_RANGE:case Uh.UNIMPLEMENTED:case Uh.DATA_LOSS:return!0}}function av(e){if(void 0===e)return Ph("GRPC error has no .code"),Uh.UNKNOWN;switch(e){case Xp.OK:return Uh.OK;case Xp.CANCELLED:return Uh.CANCELLED;case Xp.UNKNOWN:return Uh.UNKNOWN;case Xp.DEADLINE_EXCEEDED:return Uh.DEADLINE_EXCEEDED;case Xp.RESOURCE_EXHAUSTED:return Uh.RESOURCE_EXHAUSTED;case Xp.INTERNAL:return Uh.INTERNAL;case Xp.UNAVAILABLE:return Uh.UNAVAILABLE;case Xp.UNAUTHENTICATED:return Uh.UNAUTHENTICATED;case Xp.INVALID_ARGUMENT:return Uh.INVALID_ARGUMENT;case Xp.NOT_FOUND:return Uh.NOT_FOUND;case Xp.ALREADY_EXISTS:return Uh.ALREADY_EXISTS;case Xp.PERMISSION_DENIED:return Uh.PERMISSION_DENIED;case Xp.FAILED_PRECONDITION:return Uh.FAILED_PRECONDITION;case Xp.ABORTED:return Uh.ABORTED;case Xp.OUT_OF_RANGE:return Uh.OUT_OF_RANGE;case Xp.UNIMPLEMENTED:return Uh.UNIMPLEMENTED;case Xp.DATA_LOSS:return Uh.DATA_LOSS;default:return Lh()}}(ev=Xp||(Xp={}))[ev.OK=0]="OK",ev[ev.CANCELLED=1]="CANCELLED",ev[ev.UNKNOWN=2]="UNKNOWN",ev[ev.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ev[ev.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ev[ev.NOT_FOUND=5]="NOT_FOUND",ev[ev.ALREADY_EXISTS=6]="ALREADY_EXISTS",ev[ev.PERMISSION_DENIED=7]="PERMISSION_DENIED",ev[ev.UNAUTHENTICATED=16]="UNAUTHENTICATED",ev[ev.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ev[ev.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ev[ev.ABORTED=10]="ABORTED",ev[ev.OUT_OF_RANGE=11]="OUT_OF_RANGE",ev[ev.UNIMPLEMENTED=12]="UNIMPLEMENTED",ev[ev.INTERNAL=13]="INTERNAL",ev[ev.UNAVAILABLE=14]="UNAVAILABLE",ev[ev.DATA_LOSS=15]="DATA_LOSS";var ov=function(){function e(t,n){o(this,e),this.comparator=t,this.root=n||sv.EMPTY}return s(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new uv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new uv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new uv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new uv(this.root,e,this.comparator,!0)}}]),e}(),uv=function(){function e(t,n,r,i){o(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return s(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),sv=function(){function e(t,n,r,i,a){o(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return s(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lh();if(this.right.isRed())throw Lh();var e=this.left.check();if(e!==this.right.check())throw Lh();return e+(this.isRed()?0:1)}}]),e}();sv.EMPTY=null,sv.RED=!0,sv.BLACK=!1,sv.EMPTY=new(function(){function e(){o(this,e),this.size=0}return s(e,[{key:"key",get:function(){throw Lh()}},{key:"value",get:function(){throw Lh()}},{key:"color",get:function(){throw Lh()}},{key:"left",get:function(){throw Lh()}},{key:"right",get:function(){throw Lh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new sv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cv=function(){function e(t){o(this,e),this.comparator=t,this.data=new ov(this.comparator)}return s(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new lv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new lv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),lv=function(){function e(t){o(this,e),this.iter=t}return s(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),fv=new ov(xd.comparator);function hv(){return fv}var dv=new ov(xd.comparator);function pv(){return dv}var vv=new ov(xd.comparator);function yv(){return vv}var mv=new cv(xd.comparator);function gv(){for(var e=mv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kv=new cv(Jh);function bv(){return kv}var wv=function(){function e(t,n,r,i,a){o(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return s(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,xv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nd.min(),r,bv(),hv(),gv())}}]),e}(),xv=function(){function e(t,n,r,i,a){o(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return s(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fd.EMPTY_BYTE_STRING,n,gv(),gv(),gv())}}]),e}(),_v=s((function e(t,n,r,i){o(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ev=s((function e(t,n){o(this,e),this.targetId=t,this.O=n})),Iv=s((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sv=function(){function e(){o(this,e),this.M=0,this.L=Cv(),this.B=fd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return s(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=gv(),t=gv(),n=gv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lh()}})),new xv(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Cv()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Tv=function(){function e(t){o(this,e),this.et=t,this.nt=new Map,this.st=hv(),this.it=Av(),this.rt=new cv(Jh)}return s(e,[{key:"ot",value:function(e){var t,n=l(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=l(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Lh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Wd(i))if(0===n){var a=new xd(i.path);this.ct(t,a,jd.newNoDocument(a,nd.min()))}else Mh(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Wd(a.target)){var o=new xd(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,jd.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=gv();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new wv(e,n,this.rt,this.st,r);return this.st=hv(),this.it=Av(),this.rt=new cv(Jh),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Sv,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new cv(Jh),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Oh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Sv),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Av(){return new ov(xd.comparator)}function Cv(){return new ov(xd.comparator)}var Nv={asc:"ASCENDING",desc:"DESCENDING"},Ov={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pv=s((function e(t,n){o(this,e),this.databaseId=t,this.C=n}));function Rv(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dv(e,t){return e.C?t.toBase64():t.toUint8Array()}function Lv(e,t){return Rv(e,t.toTimestamp())}function Mv(e){return Mh(!!e),nd.fromTimestamp(function(e){var t=dd(e);return new td(t.seconds,t.nanos)}(e))}function Fv(e,t){return function(e){return new ud(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uv(e){var t=ud.fromString(e);return Mh(cy(t)),t}function jv(e,t){return Fv(e.databaseId,t.path)}function Vv(e,t){var n=Uv(t);if(n.get(1)!==e.databaseId.projectId)throw new jh(Uh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jh(Uh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xd(Wv(n))}function zv(e,t){return Fv(e.databaseId,t)}function qv(e){var t=Uv(e);return 4===t.length?ud.emptyPath():Wv(t)}function Bv(e){return new ud(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wv(e){return Mh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kv(e,t,n){return{name:jv(e,t),fields:n.value.mapValue.fields}}function Hv(e,t,n){var r=Vv(e,t.name),i=Mv(t.updateTime),a=new Fd({mapValue:{fields:t.fields}}),o=jd.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Gv(e,t){return"found"in t?function(e,t){Mh(!!t.found),t.found.name,t.found.updateTime;var n=Vv(e,t.found.name),r=Mv(t.found.updateTime),i=new Fd({mapValue:{fields:t.found.fields}});return jd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mh(!!t.missing),Mh(!!t.readTime);var n=Vv(e,t.missing),r=Mv(t.readTime);return jd.newNoDocument(n,r)}(e,t):Lh()}function Zv(e,t){var n;if(t instanceof Zp)n={update:Kv(e,t.key,t.value)};else if(t instanceof tv)n={delete:jv(e,t.key)};else if(t instanceof Qp)n={update:Kv(e,t.key,t.data),updateMask:sy(t.fieldMask)};else{if(!(t instanceof nv))return Lh();n={verify:jv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Np)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Op)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lp)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Lh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lh()}(e,t.precondition)),n}function Qv(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vp.updateTime(Mv(e.updateTime)):void 0!==e.exists?Vp.exists(e.exists):Vp.none()}(t.currentDocument):Vp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mh("REQUEST_TIME"===t.setToServerValue),n=new Np;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Op(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Rp(i)}else"increment"in t?n=new Lp(e,t.increment):Lh();var a=cd.fromServerFormat(t.fieldPath);return new Up(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vv(e,t.update.name),a=new Fd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ld(t.map((function(e){return cd.fromServerFormat(e)})))}(t.updateMask);return new Qp(i,a,o,n,r)}return new Zp(i,a,n,r)}if(t.delete){var u=Vv(e,t.delete);return new tv(u,n)}if(t.verify){var s=Vv(e,t.verify);return new nv(s,n)}return Lh()}function $v(e,t){return{documents:[zv(e,t.path)]}}function Yv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Dd(e.value))return{unaryFilter:{field:iy(e.field),op:"IS_NAN"}};if(Rd(e.value))return{unaryFilter:{field:iy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dd(e.value))return{unaryFilter:{field:iy(e.field),op:"IS_NOT_NAN"}};if(Rd(e.value))return{unaryFilter:{field:iy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iy(e.field),op:ry(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:iy(e.field),direction:ny(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||kd(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ey(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ey(t.endAt)),n}function Jv(e){var t=qv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Xv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new np(ay(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return kd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=ty(n.startAt));var l=null;return n.endAt&&(l=ty(n.endAt)),up(t,i,u,o,s,"F",c,l)}function Xv(e){return e?void 0!==e.unaryFilter?[uy(e)]:void 0!==e.fieldFilter?[oy(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Xv(e)})).reduce((function(e,t){return e.concat(t)})):Lh():[]}function ey(e){return{before:e.before,values:e.position}}function ty(e){var t=!!e.before,n=e.values||[];return new ep(n,t)}function ny(e){return Nv[e]}function ry(e){return Ov[e]}function iy(e){return{fieldPath:e.canonicalString()}}function ay(e){return cd.fromServerFormat(e.fieldPath)}function oy(e){return Kd.create(ay(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lh()}}(e.fieldFilter.op),e.fieldFilter.value)}function uy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ay(e.unaryFilter.field);return Kd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ay(e.unaryFilter.field);return Kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ay(e.unaryFilter.field);return Kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ay(e.unaryFilter.field);return Kd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lh()}}function sy(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ly(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hy(t)),t=fy(e.get(n),t);return hy(t)}function fy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hy(e){return e+"\x01\x01"}function dy(e){var t=e.length;if(Mh(t>=2),2===t)return Mh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ud.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Lh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Lh()}a=o+2}return new ud(r)}var py=s((function e(t,n){o(this,e),this.seconds=t,this.nanoseconds=n})),vy=s((function e(t,n,r){o(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));vy.store="owner",vy.key="owner";var yy=s((function e(t,n,r){o(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));yy.store="mutationQueues",yy.keyPath="userId";var my=s((function e(t,n,r,i,a){o(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));my.store="mutations",my.keyPath="batchId",my.userMutationsIndex="userMutationsIndex",my.userMutationsKeyPath=["userId","batchId"];var gy=function(){function e(){o(this,e)}return s(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ly(t)]}},{key:"key",value:function(e,t,n){return[e,ly(t),n]}}]),e}();gy.store="documentMutations",gy.PLACEHOLDER=new gy;var ky=s((function e(t,n){o(this,e),this.path=t,this.readTime=n})),by=s((function e(t,n){o(this,e),this.path=t,this.version=n})),wy=s((function e(t,n,r,i,a,u){o(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=u}));wy.store="remoteDocuments",wy.readTimeIndex="readTimeIndex",wy.readTimeIndexPath="readTime",wy.collectionReadTimeIndex="collectionReadTimeIndex",wy.collectionReadTimeIndexPath=["parentPath","readTime"];var xy=s((function e(t){o(this,e),this.byteSize=t}));xy.store="remoteDocumentGlobal",xy.key="remoteDocumentGlobalKey";var _y=s((function e(t,n,r,i,a,u,s){o(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=u,this.query=s}));_y.store="targets",_y.keyPath="targetId",_y.queryTargetsIndexName="queryTargetsIndex",_y.queryTargetsKeyPath=["canonicalId","targetId"];var Ey=s((function e(t,n,r){o(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Ey.store="targetDocuments",Ey.keyPath=["targetId","path"],Ey.documentTargetsIndex="documentTargetsIndex",Ey.documentTargetsKeyPath=["path","targetId"];var Iy=s((function e(t,n,r,i){o(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Iy.key="targetGlobalKey",Iy.store="targetGlobal";var Sy=s((function e(t,n){o(this,e),this.collectionId=t,this.parent=n}));Sy.store="collectionParents",Sy.keyPath=["collectionId","parent"];var Ty=s((function e(t,n,r,i){o(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ty.store="clientMetadata",Ty.keyPath="clientId";var Ay=s((function e(t,n,r){o(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Ay.store="bundles",Ay.keyPath="bundleId";var Cy=s((function e(t,n,r){o(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Cy.store="namedQueries",Cy.keyPath="name";var Ny=[yy.store,my.store,gy.store,wy.store,_y.store,vy.store,Iy.store,Ey.store].concat([Ty.store]).concat([xy.store]).concat([Sy.store]).concat([Ay.store,Cy.store]),Oy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Py=function(){function e(){o(this,e),this.onCommittedListeners=[]}return s(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ry=function(){function e(t){var n=this;o(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return s(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=l(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Dy=function(){function e(t,n){var r=this;o(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Vh,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Fy(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=qy(e.target.error);r.It.reject(new Fy(t,n))}}return s(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Oh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fy(n,t)}}}]),e}(),Ly=function(){function e(t,n,r){o(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(A())&&Ph("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s(e,[{key:"Ct",value:function(){var e=Y(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Oh("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new jh(Uh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new jh(Uh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fy(t,n))},i.onupgradeneeded=function(e){Oh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Oh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Y(X().mark((function e(t,n,r,i){var a,o,u,s,c=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(X().mark((function e(){var n,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Dy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Ry.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Oh("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Oh("SimpleDb","Removing database:",e),Vy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!D())return!1;if(e.vt())return!0;var t=A(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),My=function(){function e(t){o(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return s(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Vy(this.$t.delete())}}]),e}(),Fy=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,Uh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return s(n)}(jh);function Uy(e){return"IndexedDbTransactionError"===e.name}var jy=function(){function e(t){o(this,e),this.store=t}return s(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Oh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Oh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vy(n)}},{key:"add",value:function(e){return Oh("SimpleDb","ADD",this.store.name,e,e),Vy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Vy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Oh("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Oh("SimpleDb","DELETE",this.store.name,e),Vy(this.store.delete(e))}},{key:"count",value:function(){return Oh("SimpleDb","COUNT",this.store.name),Vy(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Oh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Ry((function(n,r){t.onerror=function(e){var t=qy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Ry((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new My(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ry){var u=o.catch((function(e){return a.done(),Ry.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return Ry.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Vy(e){return new Ry((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qy(e.target.error);n(t)}}))}var zy=!1;function qy(e){var t=Ly.Pt(A());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zy||(zy=!0,setTimeout((function(){throw r}),0)),r}}return e}var By=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return s(n)}(Py);function Wy(e,t){var n=Fh(e);return Ly.Dt(n.Wt,t)}var Ky=function(){function e(t,n,r,i){o(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return s(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=l(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Wp(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=l(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Wp(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(nd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Xh(this.mutations,e.mutations,(function(e,t){return Hp(e,t)}))&&Xh(this.baseMutations,e.baseMutations,(function(e,t){return Hp(e,t)}))}}]),e}(),Hy=function(){function e(t,n,r,i){o(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return s(e,null,[{key:"from",value:function(t,n,r){Mh(t.mutations.length===r.length);for(var i=yv(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nd.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fd.EMPTY_BYTE_STRING;o(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return s(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Zy=s((function e(t){o(this,e),this.Gt=t}));function Qy(e,t){if(t.document)return Hv(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=xd.fromSegments(t.noDocument.path),r=em(t.noDocument.readTime),i=jd.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=xd.fromSegments(t.unknownDocument.path),o=em(t.unknownDocument.version);return jd.newUnknownDocument(a,o)}return Lh()}function $y(e,t,n){var r=Yy(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:jv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rv(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new wy(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Xy(t.version),c=t.hasCommittedMutations;return new wy(null,new ky(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Xy(t.version);return new wy(new by(l,f),null,null,!0,r,i)}return Lh()}function Yy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Jy(e){var t=new td(e[0],e[1]);return nd.fromTimestamp(t)}function Xy(e){var t=e.toTimestamp();return new py(t.seconds,t.nanoseconds)}function em(e){var t=new td(e.seconds,e.nanoseconds);return nd.fromTimestamp(t)}function tm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qv(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Qv(e.Gt,t)})),u=td.fromMillis(t.localWriteTimeMs);return new Ky(t.batchId,u,n,o)}function nm(e){var t,n,r=em(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?em(e.lastLimboFreeSnapshotVersion):nd.min();return void 0!==e.query.documents?(Mh(1===(n=e.query).documents.length),t=vp(sp(qv(n.documents[0])))):t=function(e){return vp(Jv(e))}(e.query),new Gy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fd.fromBase64String(e.resumeToken))}function rm(e,t){var n,r=Xy(t.snapshotVersion),i=Xy(t.lastLimboFreeSnapshotVersion);n=Wd(t.target)?$v(e.Gt,t.target):Yv(e.Gt,t.target);var a=t.resumeToken.toBase64();return new _y(t.targetId,qd(t.target),r,a,t.sequenceNumber,i,n)}function im(e){var t=Jv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yp(t,t.limit,"L"):t}var am=function(){function e(){o(this,e)}return s(e,[{key:"getBundleMetadata",value:function(e,t){return om(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:em(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return om(e).put({bundleId:(n=t).id,createTime:Xy(Mv(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return um(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:im(t.bundledQuery),readTime:em(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return um(e).put(function(e){return{name:e.name,readTime:Xy(Mv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function om(e){return Wy(e,Ay.store)}function um(e){return Wy(e,Cy.store)}var sm=function(){function e(){o(this,e),this.zt=new cm}return s(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ry.resolve(this.zt.getEntries(t))}}]),e}(),cm=function(){function e(){o(this,e),this.index={}}return s(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cv(ud.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cv(ud.comparator)).toArray()}}]),e}(),lm=function(){function e(){o(this,e),this.Ht=new cm}return s(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:ly(i)};return fm(e).put(a)}return Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ed(t),""],!1,!0);return fm(e).Bt(r).next((function(e){var r,i=l(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function fm(e){return Wy(e,Sy.store)}var hm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dm=function(){function e(t,n,r){o(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return s(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function pm(e,t,n){var r=e.store(my.store),i=e.store(gy.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Mh(1===u)})));var c,f=[],h=l(n.mutations);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=gy.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Ry.waitFor(a).next((function(){return f}))}function vm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lh();t=e.noDocument}return JSON.stringify(t).length}dm.DEFAULT_COLLECTION_PERCENTILE=10,dm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dm.DEFAULT=new dm(41943040,dm.DEFAULT_COLLECTION_PERCENTILE,dm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dm.DISABLED=new dm(-1,0,0);var ym=function(){function e(t,n,r,i){o(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return s(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gm(e).jt({index:my.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=km(e),o=gm(e);return o.add({}).next((function(u){Mh("number"==typeof u);var s,c=new Ky(u,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Zv(e.Gt,t)})),i=n.mutations.map((function(t){return Zv(e.Gt,t)}));return new my(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),h=[],d=new cv((function(e,t){return Jh(e.canonicalString(),t.canonicalString())})),p=l(r);try{for(p.s();!(s=p.n()).done;){var v=s.value,y=gy.key(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(y,gy.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return d.forEach((function(t){h.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),Ry.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return gm(e).get(t).next((function(e){return e?(Mh(e.userId===n.userId),tm(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Ry.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return gm(e).jt({index:my.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Mh(t.batchId>=r),a=tm(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gm(e).jt({index:my.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gm(e).Bt(my.userMutationsIndex,n).next((function(e){return e.map((function(e){return tm(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gy.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return km(e).jt({range:a},(function(r,a,u){var s=(0,i.Z)(r,3),c=s[0],l=s[1],f=s[2],h=dy(l);if(c===n.userId&&t.path.isEqual(h))return gm(e).get(f).next((function(e){if(!e)throw Lh();Mh(e.userId===n.userId),o.push(tm(n.k,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cv(Jh),a=[];return t.forEach((function(t){var o=gy.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=km(e).jt({range:u},(function(e,a,o){var u=(0,i.Z)(e,3),s=u[0],c=u[1],l=u[2],f=dy(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(s)})),Ry.waitFor(a).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=gy.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new cv(Jh);return km(e).jt({range:u},(function(e,t,o){var u=(0,i.Z)(e,3),c=u[0],l=u[1],f=u[2],h=dy(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gm(e).get(t).next((function(e){if(null===e)throw Lh();Mh(e.userId===n.userId),r.push(tm(n.k,e))})))})),Ry.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return pm(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Ry.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ry.resolve();var r=IDBKeyRange.lowerBound(gy.prefixForUser(t.userId)),i=[];return km(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dy(e[1]);i.push(a)}else r.done()})).next((function(){Mh(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return mm(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return bm(e).get(this.userId).next((function(e){return e||new yy(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Mh(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function mm(e,t,n){var r=gy.prefixForPath(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return km(e).jt({range:o,Kt:!0},(function(e,n,r){var o=(0,i.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function gm(e){return Wy(e,my.store)}function km(e){return Wy(e,gy.store)}function bm(e){return Wy(e,yy.store)}var wm=function(){function e(t){o(this,e),this.se=t}return s(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),xm=function(){function e(t,n){o(this,e),this.referenceDelegate=t,this.k=n}return s(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new wm(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return nd.fromTimestamp(new td(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return _m(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Mh(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return _m(e).jt((function(o,u){var s=nm(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ry.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return _m(e).jt((function(e,n){var r=nm(n);t(r)}))}},{key:"oe",value:function(e){return Em(e).get(Iy.key).next((function(e){return Mh(null!==e),e}))}},{key:"ae",value:function(e,t){return Em(e).put(Iy.key,t)}},{key:"ce",value:function(e,t){return _m(e).put(rm(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _m(e).jt({range:r,index:_y.queryTargetsIndexName},(function(e,n,r){var a=nm(n);Bd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Im(e);return t.forEach((function(t){var o=ly(t.path);i.push(a.put(new Ey(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Im(e);return Ry.forEach(t,(function(t){var a=ly(t.path);return Ry.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Im(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Im(e),i=gv();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=dy(e[1]),a=new xd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ly(t.path),r=IDBKeyRange.bound([n],[ed(n)],!1,!0),a=0;return Im(e).jt({index:Ey.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Et",value:function(e,t){return _m(e).get(t).next((function(e){return e?nm(e):null}))}}]),e}();function _m(e){return Wy(e,_y.store)}function Em(e){return Wy(e,Iy.store)}function Im(e){return Wy(e,Ey.store)}function Sm(e){return Tm.apply(this,arguments)}function Tm(){return Tm=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Uh.FAILED_PRECONDITION&&t.message===Oy){e.next=2;break}throw t;case 2:Oh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Am(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),u=o[0],s=o[1],c=Jh(r,u);return 0===c?Jh(a,s):c}var Cm=function(){function e(t){o(this,e),this.he=t,this.buffer=new cv(Am),this.le=0}return s(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Am(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Nm=function(){function e(t,n){o(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return s(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Oh("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Uy(n.t0)){n.next=12;break}Oh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Sm(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Om=function(){function e(t,n){o(this,e),this.ge=t,this.params=n}return s(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ry.resolve(Qh.I);var r=new Cm(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector","Garbage collection skipped; disabled"),Ry.resolve(hm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),hm):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Oh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Nh()<=ie.DEBUG&&Oh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ry.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Pm=function(){function e(t,n){o(this,e),this.db=t,this.garbageCollector=function(e,t){return new Om(e,t)}(this,n)}return s(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Rm(e,n)}},{key:"removeReference",value:function(e,t,n){return Rm(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Rm(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return bm(e).Qt((function(r){return mm(e,r,t).next((function(e){return e&&(n=!0),Ry.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Im(e).delete([0,ly(o.path)])}))}));i.push(s)}})).next((function(){return Ry.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Rm(e,t)}},{key:"Ie",value:function(e,t){var n,r=Im(e),a=Qh.I;return r.jt({index:Ey.documentTargetsIndex},(function(e,r){var o=(0,i.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==Qh.I&&t(new xd(dy(n)),a),a=c,n=s):a=Qh.I})).next((function(){a!==Qh.I&&t(new xd(dy(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Rm(e,t){return Im(e).put(function(e,t){return new Ey(0,ly(e.path),t)}(t,e.currentSequenceNumber))}var Dm=function(){function e(t,n){o(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return s(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=l(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){id(this.inner,(function(t,n){var r,a=l(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return ad(this.inner)}}]),e}(),Lm=function(){function e(){o(this,e),this.changes=new Dm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return s(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:nd.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:jd.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ry.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mm=function(){function e(t,n){o(this,e),this.k=t,this.Jt=n}return s(e,[{key:"addEntry",value:function(e,t,n){return jm(e).put(Vm(t),n)}},{key:"removeEntry",value:function(e,t){var n=jm(e),r=Vm(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return jm(e).get(Vm(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return jm(e).get(Vm(t)).next((function(e){return{document:n.Pe(t,e),size:vm(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=hv();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=hv(),i=new ov(xd.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,vm(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Ry.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return jm(e).jt({range:r},(function(e,t,r){for(var o=xd.fromSegments(e);a&&xd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=hv(),a=t.path.length+1,o={};if(n.isEqual(nd.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Yy(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=wy.collectionReadTimeIndex}return jm(e).jt(o,(function(e,n,o){if(e.length===a){var u=Qy(r.k,n);t.path.isPrefixOf(u.key.path)?bp(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Fm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Um(e).get(xy.key).next((function(e){return Mh(!!e),e}))}},{key:"Re",value:function(e,t){return Um(e).put(xy.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Qy(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(nd.min()))return n}return jd.newInvalidDocument(e)}}]),e}(),Fm=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Dm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return s(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cv((function(e,t){return Jh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=$y(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=vm(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=$y(t.De.k,jd.newNoDocument(a,nd.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Lm);function Um(e){return Wy(e,xy.store)}function jm(e){return Wy(e,wy.store)}function Vm(e){return e.path.toArray()}var zm=function(){function e(t){o(this,e),this.k=t}return s(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Mh(n<r&&n>=0&&r<=11);var a=new Dy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(vy.store)}(e),function(e){e.createObjectStore(yy.store,{keyPath:yy.keyPath}),e.createObjectStore(my.store,{keyPath:my.keyPath,autoIncrement:!0}).createIndex(my.userMutationsIndex,my.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gy.store)}(e),qm(e),function(e){e.createObjectStore(wy.store)}(e));var o=Ry.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ey.store),e.deleteObjectStore(_y.store),e.deleteObjectStore(Iy.store)}(e),qm(e)),o=o.next((function(){return function(e){var t=e.store(Iy.store),n=new Iy(0,0,nd.min().toTimestamp(),0);return t.put(Iy.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(my.store).Bt().next((function(n){e.deleteObjectStore(my.store),e.createObjectStore(my.store,{keyPath:my.keyPath,autoIncrement:!0}).createIndex(my.userMutationsIndex,my.userMutationsKeyPath,{unique:!0});var r=t.store(my.store),i=n.map((function(e){return r.put(e)}));return Ry.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Ty.store,{keyPath:Ty.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(xy.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(wy.store);t.createIndex(wy.readTimeIndex,wy.readTimeIndexPath,{unique:!1}),t.createIndex(wy.collectionReadTimeIndex,wy.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Ay.store,{keyPath:Ay.keyPath})}(e),function(e){e.createObjectStore(Cy.store,{keyPath:Cy.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(wy.store).jt((function(e,n){t+=vm(n)})).next((function(){var n=new xy(t);return e.store(xy.store).put(xy.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(yy.store),r=e.store(my.store);return n.Bt().next((function(n){return Ry.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(my.userMutationsIndex,i).next((function(r){return Ry.forEach(r,(function(r){Mh(r.userId===n.userId);var i=tm(t.k,r);return pm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Ey.store),n=e.store(wy.store);return e.store(Iy.store).get(Iy.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new ud(n),o=function(e){return[0,ly(e)]}(a);r.push(t.get(o).next((function(n){return n?Ry.resolve():function(n){return t.put(new Ey(0,ly(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Ry.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Sy.store,{keyPath:Sy.keyPath});var n=t.store(Sy.store),r=new cm,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ly(i)})}};return t.store(wy.store).jt({Kt:!0},(function(e,t){var n=new ud(e);return a(n.popLast())})).next((function(){return t.store(gy.store).jt({Kt:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],dy(r));return a(o.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(_y.store);return n.jt((function(e,r){var i=nm(r),a=rm(t.k,i);return n.put(a)}))}}]),e}();function qm(e){e.createObjectStore(Ey.store,{keyPath:Ey.keyPath}).createIndex(Ey.documentTargetsIndex,Ey.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(_y.store,{keyPath:_y.keyPath}).createIndex(_y.queryTargetsIndexName,_y.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Iy.store)}var Bm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wm=function(){function e(t,n,r,i,a,u,s,c,l,f){if(o(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=u,this.document=s,this.Me=l,this.Le=f,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new jh(Uh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pm(this,i),this.Ge=n+"main",this.k=new Zy(c),this.ze=new Ly(this.Ge,11,new zm(this.k)),this.He=new xm(this.referenceDelegate,this.k),this.Jt=new lm,this.Je=function(e,t){return new Mm(e,t)}(this.k,this.Jt),this.Ye=new am,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===f&&Ph("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jh(Uh.FAILED_PRECONDITION,Bm);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Qh(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Y(X().mark((function n(r){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Y(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hm(t).put(new Ty(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Uy(t))return Oh("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Oh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Km(e).get(vy.key).next((function(e){return Ry.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Hm(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Y(X().mark((function e(){var t,n,r,i,a=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wy(e,Ty.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ry.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=l(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Ry.resolve(!0):Km(e).get(vy.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new jh(Uh.FAILED_PRECONDITION,Bm);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hm(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Oh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Y(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[vy.store,Ty.store],(function(e){var n=new By(e,Qh.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hm(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return ym.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Oh("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Ny,(function(a){return i=new By(a,r.Be?r.Be.next():Qh.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Ph("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new jh(Uh.FAILED_PRECONDITION,Oy);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Km(e).get(vy.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jh(Uh.FAILED_PRECONDITION,Bm)}))}},{key:"cn",value:function(e){var t=new vy(this.clientId,this.allowTabSynchronization,Date.now());return Km(e).put(vy.key,t)}},{key:"an",value:function(e){var t=this,n=Km(e);return n.get(vy.key).next((function(e){return t.un(e)?(Oh("IndexedDbPersistence","Releasing primary lease."),n.delete(vy.key)):Ry.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ph("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Oh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ph("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Ts){Ph("Failed to set zombie client id.",Ts)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Ts){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Ly.bt()}}]),e}();function Km(e){return Wy(e,vy.store)}function Hm(e){return Wy(e,Ty.store)}function Gm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zm=s((function e(t,n){o(this,e),this.progress=t,this.In=n})),Qm=function(){function e(t,n,r){o(this,e),this.Je=t,this.An=n,this.Jt=r}return s(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=l(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=l(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return xd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):dp(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new xd(t)).next((function(e){var t=pv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=pv();return this.Jt.getCollectionParents(e,i).next((function(o){return Ry.forEach(o,(function(o){var u=function(e,t){return new op(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=l(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=l(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,f=r.get(c);null==f&&(f=jd.newInvalidDocument(c),r=r.insert(c,f)),Wp(s,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(c))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){bp(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=gv(),a=l(t);try{for(a.s();!(r=a.n()).done;){var o,u=l(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Qp&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){a.e(f)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),$m=function(){function e(t,n,r,i){o(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return s(e,null,[{key:"$n",value:function(t,n){var r,i=gv(),a=gv(),o=l(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ym=function(){function e(){o(this,e)}return s(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(nd.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(cp(t)||lp(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Nh()<=ie.DEBUG&&Oh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kp(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new cv(wp(e));return t.forEach((function(t,r){bp(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Nh()<=ie.DEBUG&&Oh("QueryEngine","Using full collection scan to execute query:",kp(t)),this.On.getDocumentsMatchingQuery(e,t,nd.min())}}]),e}(),Jm=function(){function e(t,n,r,i){o(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new ov(Jh),this.Kn=new Dm((function(e){return qd(e)}),Bd),this.jn=nd.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Qm(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return s(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Xm(e,t,n,r){return new Jm(e,t,n,r)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Qm(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=gv(),s=l(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var f,h=l(c.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){s.e(b)}finally{s.f()}var p,v=l(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var m,g=l(y.mutations);try{for(g.s();!(m=g.n()).done;){var k=m.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){var n=Fh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ry.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function rg(e){var t=Fh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function ig(e,t){var n=Fh(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Mh(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=hv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ag(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(nd.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Ry.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function ag(e,t,n,r,i){var a=gv();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=hv();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(nd.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Oh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function og(e,t){var n=Fh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function ug(e,t){var n=Fh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Ry.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Gy(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function sg(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fh(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uy(e.t1)){e.next=12;break}throw e.t1;case 12:Oh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cg.apply(this,arguments)}function lg(e,t,n){var r=Fh(e),i=nd.min(),a=gv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fh(e),i=r.Kn.get(n);return void 0!==i?Ry.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,vp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:nd.min(),n?a:gv())})).next((function(e){return{documents:e,zn:a}}))}))}function fg(e,t){var n=Fh(e),r=Fh(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function hg(e){var t=Fh(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Fh(e),i=hv(),a=Yy(n),o=jm(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:wy.readTimeIndex,range:u},(function(e,t){var n=Qy(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Jy(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function dg(e){return pg.apply(this,arguments)}function pg(){return pg=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=jm(e),n=nd.min();return t.jt({index:wy.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Jy(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e,t,n,r){return yg.apply(this,arguments)}function yg(){return yg=Y(X().mark((function e(t,n,r,i){var a,o,u,s,c,f,h,d,p,v;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fh(t),o=gv(),u=hv(),s=yv(),c=l(r);try{for(c.s();!(f=c.n()).done;)h=f.value,d=n.Hn(h.metadata.name),h.document&&(o=o.add(d)),u=u.insert(d,n.Jn(h)),s=s.insert(d,n.Yn(h.metadata.readTime))}catch(y){c.e(y)}finally{c.f()}return p=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,ug(a,function(e){return vp(sp(ud.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ag(e,p,u,nd.min(),s).next((function(t){return p.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.He.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function mg(e,t){return gg.apply(this,arguments)}function gg(){return gg=Y(X().mark((function e(t,n){var r,i,a,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:gv(),e.next=3,ug(t,vp(im(n.bundledQuery)));case 3:return i=e.sent,a=Fh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(fd.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}var kg=function(){function e(t){o(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return s(e,[{key:"getBundleMetadata",value:function(e,t){return Ry.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mv(n.createTime)}),Ry.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ry.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:im(e.bundledQuery),readTime:Mv(e.readTime)}}(t)),Ry.resolve()}}]),e}(),bg=function(){function e(){o(this,e),this.ts=new cv(wg.es),this.ns=new cv(wg.ss)}return s(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new wg(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new wg(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new xd(new ud([])),r=new wg(n,e),i=new wg(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new xd(new ud([])),n=new wg(t,e),r=new wg(t,e+1),i=gv();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new wg(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),wg=function(){function e(t,n){o(this,e),this.key=t,this.fs=n}return s(e,null,[{key:"es",value:function(e,t){return xd.comparator(e.key,t.key)||Jh(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Jh(e.fs,t.fs)||xd.comparator(e.key,t.key)}}]),e}(),xg=function(){function e(t,n){o(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new cv(wg.es)}return s(e,[{key:"checkEmpty",value:function(e){return Ry.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Ky(i,t,n,r);this.An.push(a);var o,u=l(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new wg(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ry.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ry.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Ry.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ry.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Ry.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new wg(t,0),i=new wg(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Ry.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cv(Jh);return t.forEach((function(e){var t=new wg(e,0),i=new wg(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Ry.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;xd.isDocumentKey(i)||(i=i.child(""));var a=new wg(new xd(i),0),o=new cv(Jh);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Ry.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mh(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Ry.forEach(t.mutations,(function(i){var a=new wg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new wg(t,0),r=this.ws.firstAfterOrEqual(n);return Ry.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Ry.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),_g=function(){function e(t,n){o(this,e),this.Jt=t,this.Ts=n,this.docs=new ov(xd.comparator),this.size=0}return s(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ry.resolve(n?n.document.clone():jd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():jd.newInvalidDocument(e))})),Ry.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=hv(),i=new xd(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||bp(t,c)&&(r=r.insert(c.key,c.clone()))}return Ry.resolve(r)}},{key:"Es",value:function(e,t){return Ry.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Eg(this)}},{key:"getSize",value:function(e){return Ry.resolve(this.size)}}]),e}(),Eg=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).De=e,r}return s(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Lm),Ig=function(){function e(t){o(this,e),this.persistence=t,this.Is=new Dm((function(e){return qd(e)}),Bd),this.lastRemoteSnapshotVersion=nd.min(),this.highestTargetId=0,this.As=0,this.Rs=new bg,this.targetCount=0,this.Ps=wm.ie()}return s(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Ry.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ry.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ry.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Ry.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Ry.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new wm(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Ry.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Ry.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ry.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ry.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ry.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Ry.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Ry.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Ry.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Ry.resolve(n)}},{key:"containsKey",value:function(e,t){return Ry.resolve(this.Rs.containsKey(t))}}]),e}(),Sg=function(){function e(t,n){var r=this;o(this,e),this.bs={},this.Be=new Qh(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ig(this),this.Jt=new sm,this.Je=function(e,t){return new _g(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Zy(n),this.Ye=new kg(this.k)}return s(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new xg(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Oh("MemoryPersistence","Starting transaction:",e);var i=new Tg(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Ry.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tg=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return s(n)}(Py),Ag=function(){function e(t){o(this,e),this.persistence=t,this.Cs=new bg,this.Ns=null}return s(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Lh()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Ry.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Ry.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Ry.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ry.forEach(this.xs,(function(r){var i=xd.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Ry.or([function(){return Ry.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Cg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ng(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Og(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Pg=function(){function e(t,n,r,i){o(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return s(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new jh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ph("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Rg=function(){function e(t,n,r){o(this,e),this.targetId=t,this.state=n,this.error=r}return s(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ph("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Dg=function(){function e(t,n){o(this,e),this.clientId=t,this.activeTargetIds=n}return s(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bv(),o=0;i&&o<r.activeTargetIds.length;++o)i=wd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ph("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Lg=function(){function e(t,n){o(this,e),this.clientId=t,this.onlineState=n}return s(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ph("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Mg=function(){function e(){o(this,e),this.activeTargetIds=bv()}return s(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fg=function(){function e(t,n,r,i,a){o(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ov(Jh),this.started=!1,this.js=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Cg(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Mg),this.Gs=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return s(e,[{key:"start",value:function(){var e=Y(X().mark((function e(){var t,n,r,i,a,o,u,s,c,f,h,d=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=l(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Cg(this.persistenceKey,i)))&&(o=Dg.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=l(this.js);try{for(c.s();!(f=c.n()).done;)h=f.value,this.qs(h)}catch(p){c.e(p)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Og(this.persistenceKey,e));if(n){var r=Rg.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Og(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Oh("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Oh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Oh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Oh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ph("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Y(X().mark((function e(){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Qh.I;if(null!=e)try{var n=JSON.parse(e);Mh("number"==typeof n),t=n}catch(e){Ph("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Qh.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Pg(this.currentUser,e,t,n),i=Ng(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Ng(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Og(this.persistenceKey,e),i=new Rg(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Dg.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Pg.Fs(new Th(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Rg.Fs(r,t)}},{key:"Zs",value:function(e){return Lg.Fs(e)}},{key:"fi",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Oh("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=bv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ug=function(){function e(){o(this,e),this.pi=new Mg,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return s(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Mg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),jg=function(){function e(){o(this,e)}return s(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vg=function(){function e(){var t=this;o(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return s(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Oh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=l(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Oh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=l(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qg=function(){function e(t){o(this,e),this.Vi=t.Vi,this.Si=t.Si}return s(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Bg=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return s(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ih;o.listenOnce(bh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case kh.NO_ERROR:var t=o.getResponseJson();Oh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case kh.TIMEOUT:Oh("Connection",'RPC "'+e+'" timed out'),a(new jh(Uh.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:var n=o.getStatus();if(Oh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uh).indexOf(t)>=0?t:Uh.UNKNOWN}(r.status);a(new jh(u,r.message))}else a(new jh(Uh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new jh(Uh.UNAVAILABLE,"Connection failed."));break;default:Lh()}}finally{Oh("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=mh(),a=gh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _h({})),this.qi(o.initMessageHeaders,t,n),C()||P()||A().indexOf("Electron/")>=0||R()||A().indexOf("MSAppHost/")>=0||O()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Oh("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new qg({Vi:function(e){l?Oh("Connection","Not sending because WebChannel is closed:",e):(c||(Oh("Connection","Opening WebChannel transport."),s.open(),c=!0),Oh("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Eh.EventType.OPEN,(function(){l||Oh("Connection","WebChannel transport opened.")})),h(s,Eh.EventType.CLOSE,(function(){l||(l=!0,Oh("Connection","WebChannel transport closed"),f.Fi())})),h(s,Eh.EventType.ERROR,(function(e){l||(l=!0,Rh("Connection","WebChannel transport errored:",e),f.Fi(new jh(Uh.UNAVAILABLE,"The operation could not be completed")))})),h(s,Eh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Mh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Oh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Xp[e];if(void 0!==t)return av(t)}(a),u=i.message;void 0===o&&(o=Uh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new jh(o,u)),s.close()}else Oh("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,wh.STAT_EVENT,(function(e){e.stat===xh.PROXY?Oh("Connection","Detected buffering proxy"):e.stat===xh.NOPROXY&&Oh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){o(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return s(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Oh("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Oh("RestConnection","Received: ",e),e}),(function(t){throw Rh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ah,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=zg[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Wg(){return"undefined"!=typeof window?window:null}function Kg(){return"undefined"!=typeof document?document:null}function Hg(e){return new Pv(e,!0)}var Gg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;o(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return s(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Oh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Zg=function(){function e(t,n,r,i,a,u,s,c){o(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Gg(t,n)}return s(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Uh.RESOURCE_EXHAUSTED?(Ph(n.toString()),Ph("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Uh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.rr===n&&e.Ir(a,o)}),(function(n){t((function(){var t=new jh(Uh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Oh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Oh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Qg=function(e){d(n,e);var t=g(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=u,c}return s(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Mh(void 0===t||"string"==typeof t),fd.fromBase64String(t||"")):(Mh(void 0===t||t instanceof Uint8Array),fd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Uh.UNKNOWN:av(e.code);return new jh(t,e.message||"")}(o);n=new Iv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Vv(e,s.document.name),l=Mv(s.document.updateTime),f=new Fd({mapValue:{fields:s.document.fields}}),h=jd.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new _v(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Vv(e,v.document),m=v.readTime?Mv(v.readTime):nd.min(),g=jd.newNoDocument(y,m),k=v.removedTargetIds||[];n=new _v([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Vv(e,b.document),x=b.removedTargetIds||[];n=new _v([],x,w,null)}else{if(!("filter"in t))return Lh();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new rv(E),S=_.targetId;n=new Ev(S,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return nd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nd.min():t.readTime?Mv(t.readTime):nd.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Bv(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Wd(r)?{documents:$v(e,r)}:{query:Yv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Dv(e,t.resumeToken):t.snapshotVersion.compareTo(nd.min())>0&&(n.readTime=Rv(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Bv(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Zg),$g=function(e){d(n,e);var t=g(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=u,c.Vr=!1,c}return s(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Xe(p(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Mh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Mh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mv(e.updateTime):Mv(t);return n.isEqual(nd.min())&&(n=Mv(t)),new jp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mv(e.commitTime);return this.listener.Cr(n,t)}return Mh(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Bv(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zv(t.k,e)}))};this.gr(n)}}]),n}(Zg),Yg=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var u;return o(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=r,u.ir=i,u.k=a,u.$r=!1,u}return s(n,[{key:"Fr",value:function(){if(this.$r)throw new jh(Uh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.ir.Bi(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jh(Uh.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.ir.ji(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new jh(Uh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return s((function e(){o(this,e)}))}()),Jg=function(){function e(t,n){o(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return s(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Ph(t),this.Lr=!1):Oh("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Xg=s((function e(t,n,r,i,a){var u=this;o(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=lk(u),!e.t0){e.next=5;break}return Oh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fh(t)).Gr.add(4),e.next=4,nk(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,ek(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Jg(r,i)}));function ek(e){return tk.apply(this,arguments)}function tk(){return tk=Y(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lk(t)){e.next=18;break}n=l(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),tk.apply(this,arguments)}function nk(e){return rk.apply(this,arguments)}function rk(){return rk=Y(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),rk.apply(this,arguments)}function ik(e,t){var n=Fh(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),ck(n)?sk(n):Fk(n).lr()&&ok(n,t))}function ak(e,t){var n=Fh(e),r=Fk(n);n.Wr.delete(t),r.lr()&&uk(n,t),0===n.Wr.size&&(r.lr()?r._r():lk(n)&&n.Jr.set("Unknown"))}function ok(e,t){e.Yr.X(t.targetId),Fk(e).br(t)}function uk(e,t){e.Yr.X(t),Fk(e).vr(t)}function sk(e){e.Yr=new Tv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Fk(e).start(),e.Jr.Br()}function ck(e){return lk(e)&&!Fk(e).hr()&&e.Wr.size>0}function lk(e){return 0===Fh(e).Gr.size}function fk(e){e.Yr=void 0}function hk(e){return dk.apply(this,arguments)}function dk(){return dk=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){ok(t,e)}));case 1:case"end":return e.stop()}}),e)}))),dk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fk(t),ck(t)?(t.Jr.Kr(n),sk(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function yk(e,t,n){return mk.apply(this,arguments)}function mk(){return mk=Y(X().mark((function e(t,n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Iv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=l(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Oh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _v?t.Yr.ot(n):n instanceof Ev?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(nd.min())){e.next=29;break}return e.prev=14,e.next=17,rg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(fd.EMPTY_BYTE_STRING,n.snapshotVersion)),uk(e,t);var r=new Gy(n.target,t,1,n.sequenceNumber);ok(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Oh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mk.apply(this,arguments)}function gk(e,t,n){return kk.apply(this,arguments)}function kk(){return kk=Y(X().mark((function e(t,n,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uy(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,nk(t);case 5:t.Jr.set("Offline"),r||(r=function(){return rg(t.localStore)}),t.asyncQueue.enqueueRetryable(Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,ek(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function bk(e,t){return t().catch((function(n){return gk(e,n,t)}))}function wk(e){return xk.apply(this,arguments)}function xk(){return xk=Y(X().mark((function e(t){var n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fh(t),r=Uk(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!_k(n)){e.next=19;break}return e.prev=3,e.next=6,og(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Ek(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gk(n,e.t0);case 17:e.next=2;break;case 19:Ik(n)&&Sk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),xk.apply(this,arguments)}function _k(e){return lk(e)&&e.Qr.length<10}function Ek(e,t){e.Qr.push(t);var n=Uk(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Ik(e){return lk(e)&&!Uk(e).hr()&&e.Qr.length>0}function Sk(e){Uk(e).start()}function Tk(e){return Ak.apply(this,arguments)}function Ak(){return Ak=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uk(t).kr();case 1:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}function Ck(e){return Nk.apply(this,arguments)}function Nk(){return Nk=Y(X().mark((function e(t){var n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uk(t),r=l(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ok(e,t,n){return Pk.apply(this,arguments)}function Pk(){return Pk=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Hy.from(i,n,r),e.next=3,bk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,wk(t);case 5:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Rk(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=Y(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Uk(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iv(i=n.code)||i===Uh.ABORTED){e.next=7;break}return r=t.Qr.shift(),Uk(t).wr(),e.next=5,bk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,wk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ik(t)&&Sk(t);case 5:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Lk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=Y(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,ek(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,nk(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Fk(e){return e.Xr||(e.Xr=function(e,t,n){var r=Fh(e);return r.Fr(),new Qg(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:hk.bind(null,e),Ni:pk.bind(null,e),Pr:yk.bind(null,e)}),e.zr.push(function(){var t=Y(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),ck(e)?sk(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:fk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Uk(e){return e.Zr||(e.Zr=function(e,t,n){var r=Fh(e);return r.Fr(),new $g(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Tk.bind(null,e),Ni:Rk.bind(null,e),Nr:Ck.bind(null,e),Cr:Ok.bind(null,e)}),e.zr.push(function(){var t=Y(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,wk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Oh("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var jk=function(){function e(t,n,r,i,a){o(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return s(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jh(Uh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vk(e,t){if(Ph("AsyncQueue","".concat(t,": ").concat(e)),Uy(e))return new jh(Uh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zk=function(){function e(t){o(this,e),this.comparator=t?function(e,n){return t(e,n)||xd.comparator(e.key,n.key)}:function(e,t){return xd.comparator(e.key,t.key)},this.keyedMap=pv(),this.sortedSet=new ov(this.comparator)}return s(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qk=function(){function e(){o(this,e),this.eo=new ov(xd.comparator)}return s(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Lh():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Bk=function(){function e(t,n,r,i,a,u,s,c){o(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=c}return s(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,zk.emptySet(n),a,r,i,!0,!1)}}]),e}(),Wk=s((function e(){o(this,e),this.so=void 0,this.listeners=[]})),Kk=s((function e(){o(this,e),this.queries=new Dm((function(e){return gp(e)}),mp),this.onlineState="Unknown",this.io=new Set}));function Hk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=Y(X().mark((function e(t,n){var r,i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Wk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Vk(e.t0,"Initialization of query '".concat(kp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Jk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Gk.apply(this,arguments)}function Zk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=Y(X().mark((function e(t,n){var r,i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function $k(e,t){var n,r=Fh(e),i=!1,a=l(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,f=l(s.listeners);try{for(f.s();!(c=f.n()).done;){c.value.oo(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}s.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&Jk(r)}function Yk(e,t,n){var r=Fh(e),i=r.queries.get(t);if(i){var a,o=l(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Jk(e){e.io.forEach((function(e){e.next()}))}var Xk=function(){function e(t,n,r){o(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return s(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=l(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Bk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Bk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),eb=function(){function e(t,n){o(this,e),this.payload=t,this.byteLength=n}return s(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),tb=function(){function e(t){o(this,e),this.k=t}return s(e,[{key:"Hn",value:function(e){return Vv(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Hv(this.k,e.document,!1):jd.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Mv(e)}}]),e}(),nb=function(){function e(t,n,r){o(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=rb(t)}return s(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new tb(this.k),i=l(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=l(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,f=(n.get(c)||gv()).add(u);n.set(c,f)}}catch(h){s.e(h)}finally{s.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Y(X().mark((function e(){var t,n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vg(this.localStore,new tb(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=l(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,mg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Zm(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function rb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ib=s((function e(t){o(this,e),this.key=t})),ab=s((function e(t){o(this,e),this.key=t})),ob=function(){function e(t,n){o(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=gv(),this.mutatedKeys=gv(),this.Ao=wp(t),this.Ro=new zk(this.Ao)}return s(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new qk,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=cp(this.query)&&i.size===this.query.limit?i.last():null,c=lp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),cp(this.query)||lp(this.query))for(;o.size>this.query.limit;){var l=cp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lh()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Bk(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new qk,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=gv(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new ab(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new ib(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=gv();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Bk.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),ub=s((function e(t,n,r){o(this,e),this.query=t,this.targetId=n,this.view=r})),sb=s((function e(t){o(this,e),this.key=t,this.$o=!1})),cb=function(){function e(t,n,r,i,a,u){o(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Fo={},this.Oo=new Dm((function(e){return gp(e)}),mp),this.Mo=new Map,this.Lo=new Set,this.Bo=new ov(xd.comparator),this.Uo=new Map,this.qo=new bg,this.Ko={},this.jo=new Map,this.Qo=wm.re(),this.onlineState="Unknown",this.Wo=void 0}return s(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=Y(X().mark((function e(t,n){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rw(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,ug(r.localStore,vp(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,hb(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&ik(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t,n,r){return db.apply(this,arguments)}function db(){return db=Y(X().mark((function e(t,n,r,i){var a,o,u,s,c,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Y(X().mark((function e(t,n,r,i){var a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,lg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Rb(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lg(t.localStore,n,!0);case 3:return a=e.sent,o=new ob(n,a.zn),u=o.bo(a.documents),s=xv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Rb(t,r,c.Co),l=new ub(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fh(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!mp(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ak(r.remoteStore,i.targetId),Ob(r,i.targetId)})).catch(Sm);case 9:e.next=14;break;case 11:return Ob(r,i.targetId),e.next=14,sg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function yb(e,t,n){return mb.apply(this,arguments)}function mb(){return mb=Y(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iw(t),e.prev=1,e.next=4,function(e,t){var n,r=Fh(e),i=td.now(),a=t.reduce((function(e,t){return e.add(t.key)}),gv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=l(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,f=Kp(c,n.get(c.key));null!=f&&u.push(new Qp(c.key,f,Ud(f.value.mapValue),Vp.exists(!0)))}}catch(h){s.e(h)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new ov(Jh)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Mb(i,a.changes);case 9:return e.next=11,wk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),mb.apply(this,arguments)}function gb(e,t){return kb.apply(this,arguments)}function kb(){return kb=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.prev=1,e.next=4,ig(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Mh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Mh(n.$o):e.removedDocuments.size>0&&(Mh(n.$o),n.$o=!1))})),e.next=8,Mb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Sm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),kb.apply(this,arguments)}function bb(e,t,n){var r=Fh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=l(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Jk(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wb(e,t,n){return xb.apply(this,arguments)}function xb(){return xb=Y(X().mark((function e(t,n,r){var i,a,o,u,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ov(xd.comparator)).insert(o,jd.newNoDocument(o,nd.min())),s=gv().add(o),c=new wv(nd.min(),new Map,new cv(Jh),u,s),e.next=9,gb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Lb(i),e.next=16;break;case 14:return e.next=16,sg(i.localStore,n,!1).then((function(){return Ob(i,n,r)})).catch(Sm);case 16:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function _b(e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=n.batch.batchId,e.prev=1,e.next=4,ng(r.localStore,n);case 4:return a=e.sent,Nb(r,i,null),Cb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Mb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Eb.apply(this,arguments)}function Ib(e,t,n){return Sb.apply(this,arguments)}function Sb(){return Sb=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fh(t),e.prev=1,e.next=4,function(e,t){var n=Fh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Mh(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Nb(i,n,r),Cb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Mb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sb.apply(this,arguments)}function Tb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=Y(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lk((r=Fh(t)).remoteStore)||Oh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ab.apply(this,arguments)}function Cb(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Nb(e,t,n){var r=Fh(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Ob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=l(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Pb(e,t)}))}function Pb(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(ak(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Lb(e))}function Rb(e,t,n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ib?(e.qo.addReference(a.key,t),Db(e,a)):a instanceof ab?(Oh("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Pb(e,a.key)):Lh()}}catch(o){i.e(o)}finally{i.f()}}function Db(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Oh("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Lb(e))}function Lb(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new xd(ud.fromString(t)),r=e.Qo.next();e.Uo.set(r,new sb(n)),e.Bo=e.Bo.insert(n,r),ik(e.remoteStore,new Gy(vp(sp(n.path)),r,2,Qh.I))}}function Mb(e,t,n){return Fb.apply(this,arguments)}function Fb(){return Fb=Y(X().mark((function e(t,n,r){var i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fh(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=$m.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Y(X().mark((function e(t,n){var r,i,a,o,u,s,c,f;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ry.forEach(n,(function(t){return Ry.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ry.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uy(e.t0)){e.next=10;break}throw e.t0;case 10:Oh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=l(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,f=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return jb=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fh(t)).currentUser.isEqual(n)){e.next=11;break}return Oh("SyncEngine","User change. New user:",n.toKey()),e.next=5,eg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new jh(Uh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Mb(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Vb(e,t){var n=Fh(e),r=n.Uo.get(t);if(r&&r.$o)return gv().add(r.key);var i=gv(),a=n.Mo.get(t);if(!a)return i;var o,u=l(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(f){u.e(f)}finally{u.f()}return i}function zb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),e.next=3,lg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Rb(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Bb(e){return Wb.apply(this,arguments)}function Wb(){return Wb=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),e.abrupt("return",hg(n.localStore).then((function(e){return Mb(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Kb(e,t,n,r){return Hb.apply(this,arguments)}function Hb(){return Hb=Y(X().mark((function e(t,n,r,i){var a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fh(t),e.next=3,function(e,t){var n=Fh(e),r=Fh(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Ry.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,wk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Nb(a,n,i||null),Cb(a,n),function(e,t){Fh(Fh(e).An).ee(t)}(a.localStore,n)):Lh();case 11:return e.next=13,Mb(a,o);case 13:e.next=16;break;case 15:Oh("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Gb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=Y(X().mark((function e(t,n){var r,i,a,o,u,s,c,f;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rw(r=Fh(t)),iw(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Qb(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Lk(r.remoteStore,!0);case 9:o=l(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ik(r.remoteStore,s)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],f=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):f=f.then((function(){return Ob(r,t),sg(r.localStore,t,!0)})),ak(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Qb(r,c);case 21:return function(e){var t=Fh(e);t.Uo.forEach((function(e,n){ak(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new ov(xd.comparator)}(r),r.Wo=!1,e.next=25,Lk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Qb(e,t,n){return $b.apply(this,arguments)}function $b(){return $b=Y(X().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p,v,y,m,g;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fh(t),a=[],o=[],u=l(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,f=void 0,!(h=i.Mo.get(c))||0===h.length){e.next=34;break}return e.next=11,ug(i.localStore,vp(h[0]));case 11:f=e.sent,d=l(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,y=i.Oo.get(v),e.next=20,zb(i,y);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fg(i.localStore,c);case 36:return g=e.sent,e.next=39,ug(i.localStore,g);case 39:return f=e.sent,e.next=42,hb(i,Yb(g),c,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),$b.apply(this,arguments)}function Yb(e){return up(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Jb(e){var t=Fh(e);return Fh(Fh(t.localStore).persistence).Tn()}function Xb(e,t,n,r){return ew.apply(this,arguments)}function ew(){return ew=Y(X().mark((function e(t,n,r,i){var a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fh(t)).Wo){e.next=5;break}Oh("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,hg(a.localStore);case 11:return o=e.sent,u=wv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Mb(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,sg(a.localStore,n,!0);case 18:return Ob(a,n,i),e.abrupt("break",21);case 20:Lh();case 21:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t,n){return nw.apply(this,arguments)}function nw(){return nw=Y(X().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=rw(t)).Wo){e.next=45;break}a=l(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return Oh("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fg(i.localStore,u);case 12:return s=e.sent,e.next=15,ug(i.localStore,s);case 15:return c=e.sent,e.next=18,hb(i,Yb(s),c.targetId,!1);case 18:ik(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=l(r),e.prev=30,d=X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,sg(i.localStore,t,!1).then((function(){ak(i.remoteStore,t),Ob(i,t)})).catch(Sm);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),nw.apply(this,arguments)}function rw(e){var t=Fh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wb.bind(null,t),t.Fo.Pr=$k.bind(null,t.eventManager),t.Fo.zo=Yk.bind(null,t.eventManager),t}function iw(e){var t=Fh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_b.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ib.bind(null,t),t}function aw(e,t,n){var r=Fh(e);(function(){var e=Y(X().mark((function e(t,n,r){var i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fh(e),r=Mv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(rb(i)),a=new nb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Mb(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Fh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Rh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ow=function(){function e(){o(this,e),this.synchronizeTabs=!1}return s(e,[{key:"initialize",value:function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Hg(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Xm(this.persistence,new Ym,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Sg(Ag.ks,this.k)}},{key:"Jo",value:function(e){return new Ug}},{key:"terminate",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uw=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return s(n,[{key:"initialize",value:function(){var e=Y(X().mark((function e(t){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(p(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,dg(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,iw(this.ta.syncEngine);case 8:return e.next=10,wk(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Xm(this.persistence,new Ym,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Nm(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dm.withCacheSize(this.cacheSizeBytes):dm.DEFAULT;return new Wm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Wg(),Kg(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Ug}}]),n}(ow),sw=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return s(n,[{key:"initialize",value:function(){var e=Y(X().mark((function e(t){var r,i=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(p(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Fg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Kb.bind(null,r),gi:Xb.bind(null,r),yi:tw.bind(null,r),Tn:Jb.bind(null,r),_i:Bb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gb(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Wg();if(!Fg.bt(t))throw new jh(Uh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uw),cw=function(){function e(){o(this,e)}return s(e,[{key:"initialize",value:function(){var e=Y(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ub.bind(null,this.syncEngine),e.next=12,Lk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Kk}},{key:"createDatastore",value:function(e){var t,n=Hg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bg(t));return function(e,t,n,r){return new Yg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bb(o.syncEngine,e,0)},a=Vg.bt()?new Vg:new jg,new Xg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new cb(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fh(t),Oh("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,nk(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function lw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Y(X().mark((function r(){var i;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fw=function(){function e(t){o(this,e),this.observer=t,this.muted=!1}return s(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),hw=function(){function e(t,n){var r=this;o(this,e),this.sa=t,this.k=n,this.metadata=new Vh,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return s(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Y(X().mark((function e(){var t,n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new eb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Y(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Y(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dw=function(){function e(t){o(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return s(e,[{key:"lookup",value:function(){var e=Y(X().mark((function e(t){var n,r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new jh(Uh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Y(X().mark((function e(t,n){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=Bv(r.k)+"/documents",a={documents:n.map((function(e){return jv(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Gv(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mh(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Y(X().mark((function e(){var t,n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=xd.fromPath(t);n.mutations.push(new nv(r,n.precondition(r)))})),e.next=7,function(){var e=Y(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fh(t),i=Bv(r.k)+"/documents",a={writes:n.map((function(e){return Zv(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lh();t=nd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jh(Uh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vp.updateTime(t):Vp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nd.min()))throw new jh(Uh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vp.updateTime(t)}return Vp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),pw=function(){function e(t,n,r,i){o(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Gg(this.asyncQueue,"transaction_retry")}return s(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Y(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dw(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!kd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!iv(t)}return!1}}]),e}(),vw=function(){function e(t,n,r,i){var a=this;o(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Th.UNAUTHENTICATED,this.clientId=Yh.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return s(e,[{key:"getConfiguration",value:function(){var e=Y(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new jh(Uh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Y(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yw(e,t){return mw.apply(this,arguments)}function mw(){return mw=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Oh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function gw(e,t){return kw.apply(this,arguments)}function kw(){return kw=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bw(t);case 3:return r=e.sent,Oh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Y(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fh(t)).asyncQueue.verifyOperationInProgress(),Oh("RemoteStore","RemoteStore received new credentials"),i=lk(r),r.Gr.add(3),e.next=6,nk(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,ek(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function bw(e){return ww.apply(this,arguments)}function ww(){return ww=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Oh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yw(t,new ow);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function xw(e){return _w.apply(this,arguments)}function _w(){return _w=Y(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Oh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gw(t,new cw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function Ew(e){return bw(e).then((function(e){return e.persistence}))}function Iw(e){return bw(e).then((function(e){return e.localStore}))}function Sw(e){return xw(e).then((function(e){return e.remoteStore}))}function Tw(e){return xw(e).then((function(e){return e.syncEngine}))}function Aw(e){return Cw.apply(this,arguments)}function Cw(){return Cw=Y(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lb.bind(null,n.syncEngine),r.onUnlisten=pb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fw({next:function(a){t.enqueueAndForget((function(){return Zk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new jh(Uh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new jh(Uh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Xk(sp(n.path),a,{includeMetadataChanges:!0,wo:!0});return Hk(e,o)},i.next=3,Aw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ow(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fw({next:function(n){t.enqueueAndForget((function(){return Zk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new jh(Uh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Xk(n,a,{includeMetadataChanges:!0,wo:!0});return Hk(e,o)},i.next=3,Aw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Pw=s((function e(t,n,r,i,a,u,s,c){o(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Rw=function(){function e(t,n){o(this,e),this.projectId=t,this.database=n||"(default)"}return s(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Dw=new Map;function Lw(e,t,n){if(!n)throw new jh(Uh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Mw(e,t,n,r){if(!0===t&&!0===r)throw new jh(Uh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Fw(e){if(!xd.isDocumentKey(e))throw new jh(Uh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uw(e){if(xd.isDocumentKey(e))throw new jh(Uh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lh()}function Vw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jh(Uh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jw(e);throw new jh(Uh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function zw(e,t){if(t<=0)throw new jh(Uh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var qw=function(){function e(t){var n;if(o(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jh(Uh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jh(Uh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return s(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Bw=function(){function e(t,n,r){o(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,t instanceof Rw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jh(Uh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rw(e.options.projectId)}(t))}return s(e,[{key:"app",get:function(){if(!this._app)throw new jh(Uh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jh(Uh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qh;switch(e.type){case"gapi":var t=e.client;return Mh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Hh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jh(Uh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Dw.get(e);t&&(Oh("ComponentProvider","Removing Datastore"),Dw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ww(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Vw(e,Bw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Th.MOCK_USER;else{o=T(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new jh(Uh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Th(s)}e._authCredentials=new Bh(new zh(o,u))}}var Kw=function(){function e(t,n,r){o(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return s(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Gw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Hw=function(){function e(t,n,r){o(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return s(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gw=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,sp(i)))._path=i,a.type="collection",a}return s(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Kw(this.firestore,null,new xd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Hw);function Zw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Z(e),Lw("collection","path",t),e instanceof Bw){var a=ud.fromString.apply(ud,[t].concat(r));return Uw(a),new Gw(e,null,a)}if(!(e instanceof Kw||e instanceof Gw))throw new jh(Uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ud.fromString.apply(ud,[t].concat(r)));return Uw(o),new Gw(e.firestore,null,o)}function Qw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Z(e),1===arguments.length&&(t=Yh.A()),Lw("doc","path",t),e instanceof Bw){var a=ud.fromString.apply(ud,[t].concat(r));return Fw(a),new Kw(e,null,new xd(a))}if(!(e instanceof Kw||e instanceof Gw))throw new jh(Uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ud.fromString.apply(ud,[t].concat(r)));return Fw(o),new Kw(e.firestore,e instanceof Gw?e.converter:null,new xd(o))}function $w(e,t){return e=Z(e),t=Z(t),(e instanceof Kw||e instanceof Gw)&&(t instanceof Kw||t instanceof Gw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yw(e,t){return e=Z(e),t=Z(t),e instanceof Hw&&t instanceof Hw&&e.firestore===t.firestore&&mp(e._query,t._query)&&e.converter===t.converter}var Jw=function(){function e(){var t=this;o(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Gg(this,"async_queue_retry"),this.Ra=function(){var e=Kg();e&&Oh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Kg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return s(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Kg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Vh;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Y(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uy(e.t0)){e.next=12;break}throw e.t0;case 12:Oh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ph("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=jk.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Lh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Y(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=l(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=l(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Xw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=l(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ex=function(){function e(){o(this,e),this._progressObserver={},this._taskCompletionResolver=new Vh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return s(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tx=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Jw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return s(n,[{key:"_terminate",value:function(){return this._firestoreClient||rx(this),this._firestoreClient.terminate()}}]),n}(Bw);function nx(e){return e._firestoreClient||rx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Pw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ix(e,t,n){var r=new Vh;return e.asyncQueue.enqueue(Y(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yw(e,n);case 3:return i.next=5,gw(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Uh.FAILED_PRECONDITION||e.code===Uh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ax(e){return function(e){return e.asyncQueue.enqueue(Y(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ew(e);case 2:return n=t.sent,t.next=5,Sw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fh(e);return t.Gr.delete(0),ek(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nx(e=Vw(e,tx)))}function ox(e){return function(e){return e.asyncQueue.enqueue(Y(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ew(e);case 2:return n=t.sent,t.next=5,Sw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fh(t)).Gr.add(0),e.next=4,nk(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nx(e=Vw(e,tx)))}function ux(e,t){var n=nx(e=Vw(e,tx)),r=new ex;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new hw(e,t)}(function(e,t){if(e instanceof Uint8Array)return lw(e,t);if(e instanceof ArrayBuffer)return lw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hg(t));e.asyncQueue.enqueueAndForget(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aw,t.next=3,Tw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sx(e,t){return function(e,t){return e.asyncQueue.enqueue(Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Iw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nx(e=Vw(e,tx)),t).then((function(t){return t?new Hw(e,null,t.query):null}))}function cx(e){if(e._initialized||e._terminated)throw new jh(Uh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lx=function(){function e(){o(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new jh(Uh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cd(n)}return s(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fx=function(){function e(t){o(this,e),this._byteString=t}return s(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fd.fromBase64String(t))}catch(t){throw new jh(Uh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fd.fromUint8Array(t))}}]),e}(),hx=s((function e(t){o(this,e),this._methodName=t})),dx=function(){function e(t,n){if(o(this,e),!isFinite(t)||t<-90||t>90)throw new jh(Uh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new jh(Uh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return s(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Jh(this._lat,e._lat)||Jh(this._long,e._long)}}]),e}(),px=/^__.*__$/,vx=function(){function e(t,n,r){o(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return s(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zp(e,this.data,t,this.fieldTransforms)}}]),e}(),yx=function(){function e(t,n,r){o(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return s(e,[{key:"toMutation",value:function(e,t){return new Qp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lh()}}var gx=function(){function e(t,n,r,i,a,u){o(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return s(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Ux(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(mx(this.xa)&&px.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),kx=function(){function e(t,n,r){o(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Hg(t)}return s(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gx({xa:e,methodName:t,Ka:n,path:cd.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function bx(e){var t=e._freezeSettings(),n=Hg(e._databaseId);return new kx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);Dx("Data must be an object, but it was:",o,r);var u,s,c=Px(r,o);if(a.merge)u=new ld(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=l(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Lx(t,p,n);if(!o.contains(v))throw new jh(Uh.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));jx(h,v)||h.push(v)}}catch(y){d.e(y)}finally{d.f()}u=new ld(h),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new vx(new Fd(c),u,s)}var xx=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hx);function _x(e,t,n){return new gx({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Ex=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"_toFieldTransform",value:function(e){return new Up(e.path,new Np)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hx),Ix=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Qa=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=_x(this,e,!0),n=this.Qa.map((function(e){return Ox(e,t)})),r=new Op(n);return new Up(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hx),Sx=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Qa=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=_x(this,e,!0),n=this.Qa.map((function(e){return Ox(e,t)})),r=new Rp(n);return new Up(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hx),Tx=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).Wa=r,i}return s(n,[{key:"_toFieldTransform",value:function(e){var t=new Lp(e.k,Ip(e.k,this.Wa));return new Up(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hx);function Ax(e,t,n,r){var i=e.ja(1,t,n);Dx("Data must be an object, but it was:",i,r);var a=[],o=Fd.empty();id(r,(function(e,r){var u=Fx(t,e,n);r=Z(r);var s=i.La(u);if(r instanceof xx)a.push(u);else{var c=Ox(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ld(a);return new yx(o,u,i.fieldTransforms)}function Cx(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[Lx(t,r,n)],s=[i];if(a.length%2!=0)throw new jh(Uh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Lx(t,a[c])),s.push(a[c+1]);for(var l=[],f=Fd.empty(),h=u.length-1;h>=0;--h)if(!jx(l,u[h])){var d=u[h],p=s[h];p=Z(p);var v=o.La(d);if(p instanceof xx)l.push(d);else{var y=Ox(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new ld(l);return new yx(f,m,o.fieldTransforms)}function Nx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ox(n,e.ja(r?4:3,t))}function Ox(e,t){if(Rx(e=Z(e)))return Dx("Unsupported field value:",t,e),Px(e,t);if(e instanceof hx)return function(e,t){if(!mx(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=l(e);try{for(a.s();!(n=a.n()).done;){var o=Ox(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Z(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ip(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=td.fromDate(e);return{timestampValue:Rv(t.k,n)}}if(e instanceof td){var r=new td(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rv(t.k,r)}}if(e instanceof dx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fx)return{bytesValue:Dv(t.k,e._byteString)};if(e instanceof Kw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(jw(e)))}(e,t)}function Px(e,t){var n={};return ad(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):id(e,(function(e,r){var i=Ox(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof td||e instanceof dx||e instanceof fx||e instanceof Kw||e instanceof hx)}function Dx(e,t,n){if(!Rx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jw(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Lx(e,t,n){if((t=Z(t))instanceof lx)return t._internalPath;if("string"==typeof t)return Fx(e,t);throw Ux("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Mx=new RegExp("[~\\*/\\[\\]]");function Fx(e,t,n){if(t.search(Mx)>=0)throw Ux("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return k(lx,(0,Q.Z)(t.split(".")))._internalPath}catch(CE){throw Ux("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ux(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new jh(Uh.INVALID_ARGUMENT,u+e+s)}function jx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vx=function(){function e(t,n,r,i,a){o(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return s(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Kw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zx=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(){return Xe(p(n.prototype),"data",this).call(this)}}]),n}(Vx);function qx(e,t){return"string"==typeof t?Fx(e,t):t instanceof lx?t._internalPath:t._delegate._internalPath}var Bx=function(){function e(t,n){o(this,e),this.hasPendingWrites=t,this.fromCache=n}return s(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wx=function(e){d(n,e);var t=g(n);function n(e,r,i,a,u,s){var c;return o(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=u,c}return s(n,[{key:"exists",value:function(){return Xe(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Kx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Vx),Kx=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xe(p(n.prototype),"data",this).call(this,e)}}]),n}(Wx),Hx=function(){function e(t,n,r,i){o(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bx(i.hasPendingWrites,i.fromCache),this.query=r}return s(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Kx(n._firestore,n._userDataWriter,r.key,r,new Bx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jh(Uh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Kx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gx(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Gx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lh()}}function Zx(e,t){return e instanceof Wx&&t instanceof Wx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hx&&t instanceof Hx&&e._firestore===t._firestore&&Yw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Qx(e){if(lp(e)&&0===e.explicitOrderBy.length)throw new jh(Uh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $x=s((function e(){o(this,e)}));function Yx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Jx=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return s(n,[{key:"_apply",value:function(e){var t=bx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new jh(Uh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){c_(o,a);var s,c=[],f=l(o);try{for(f.s();!(s=f.n()).done;){var h=s.value;c.push(s_(r,e,h))}}catch(p){f.e(p)}finally{f.f()}u={arrayValue:{values:c}}}else u=s_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||c_(o,a),u=Nx(n,"where",o,"in"===a||"not-in"===a);var d=Kd.create(i,a,u);return function(e,t){if(t.V()){var n=hp(e);if(null!==n&&!n.isEqual(t.field))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=fp(e);null!==r&&l_(e,t.field,r)}var i=function(e,t){var n,r=l(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new jh(Uh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new jh(Uh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Hw(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new op(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}($x);var Xx=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return s(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new np(t,n);return function(e,t){if(null===fp(e)){var n=hp(e);null!==n&&l_(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Hw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new op(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}($x);var e_=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return s(n,[{key:"_apply",value:function(e){return new Hw(e.firestore,e.converter,yp(e._query,this.Ya,this.Xa))}}]),n}($x);var t_=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return s(n,[{key:"_apply",value:function(e){var t=u_(e,this.type,this.Za,this.tc);return new Hw(e.firestore,e.converter,function(e,t){return new op(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}($x);function n_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new t_("startAt",t,!0)}function r_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new t_("startAfter",t,!1)}var i_=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return o(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return s(n,[{key:"_apply",value:function(e){var t=u_(e,this.type,this.Za,this.tc);return new Hw(e.firestore,e.converter,function(e,t){return new op(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}($x);function a_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i_("endBefore",t,!0)}function o_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i_("endAt",t,!1)}function u_(e,t,n,r){if(n[0]=Z(n[0]),n[0]instanceof Vx)return function(e,t,n,r,i){if(!r)throw new jh(Uh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=l(pp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Nd(t,r.key));else{var c=r.data.field(s.field);if(yd(c))throw new jh(Uh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=s.field.canonicalString();throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){u.e(h)}finally{u.f()}return new ep(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new jh(Uh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dp(e)&&-1!==c.indexOf("/"))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ud.fromString(c));if(!xd.isDocumentKey(l))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new xd(l);u.push(Nd(t,f))}else{var h=Nx(n,r,c);u.push(h)}}return new ep(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function s_(e,t,n){if("string"==typeof(n=Z(n))){if(""===n)throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dp(t)&&-1!==n.indexOf("/"))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ud.fromString(n));if(!xd.isDocumentKey(r))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nd(e,new xd(r))}if(n instanceof Kw)return Nd(e,n._key);throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jw(n),"."))}function c_(e,t){if(!Array.isArray(e)||0===e.length)throw new jh(Uh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new jh(Uh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function l_(e,t,n){if(!n.isEqual(t))throw new jh(Uh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var f_=function(){function e(){o(this,e)}return s(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return id(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new dx(pd(e.latitude),pd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=md(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=dd(e);return new td(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ud.fromString(e);Mh(cy(n));var r=new Rw(n.get(1),n.get(3)),i=new xd(n.popFirst(5));return r.isEqual(t)||Ph("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function h_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var d_=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new fx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kw(this.firestore,null,t)}}]),n}(f_),p_=function(){function e(t,n){o(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bx(t)}return s(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=v_(e,this._firestore),i=h_(r.converter,t,n),a=wx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Vp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=v_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Z(t))||t instanceof lx?Cx(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ax(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Vp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=v_(e,this._firestore);return this._mutations=this._mutations.concat(new tv(t._key,Vp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new jh(Uh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function v_(e,t){if((e=Z(e)).firestore!==t)throw new jh(Uh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var y_=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new fx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kw(this.firestore,null,t)}}]),n}(f_);function m_(e){e=Vw(e,Kw);var t=Vw(e.firestore,tx),n=nx(t),r=new y_(t);return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Y(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new jh(Uh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Iw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Wx(t,r,e._key,n,new Bx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function g_(e){e=Vw(e,Hw);var t=Vw(e.firestore,tx),n=nx(t),r=new y_(t);return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Y(X().mark((function e(t,n,r){var i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lg(t,n,!0);case 3:i=e.sent,a=new ob(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Vk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Iw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Hx(t,r,e,n)}))}function k_(e,t,n){e=Vw(e,Kw);var r=Vw(e.firestore,tx),i=h_(e.converter,t,n);return __(r,[wx(bx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vp.none())])}function b_(e,t,n){e=Vw(e,Kw);for(var r=Vw(e.firestore,tx),i=bx(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return __(r,[("string"==typeof(t=Z(t))||t instanceof lx?Cx(i,"updateDoc",e._key,t,n,o):Ax(i,"updateDoc",e._key,t)).toMutation(e._key,Vp.exists(!0))])}function w_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Z(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Xw(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Xw(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Kw)l=Vw(e.firestore,tx),f=sp(e._key.path),c={next:function(t){n[s]&&n[s](E_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Vw(e,Hw);l=Vw(p.firestore,tx),f=p._query;var v=new y_(l);c={next:function(e){n[s]&&n[s](new Hx(l,v,p,e))},error:n[s+1],complete:n[s+2]},Qx(e._query)}return function(e,t,n,r){var i=new fw(r),a=new Xk(t,i,n);return e.asyncQueue.enqueueAndForget(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Hk,t.next=3,Aw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zk,t.next=3,Aw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nx(l),f,h,c)}function x_(e,t){return function(e,t){var n=new fw(t);return e.asyncQueue.enqueueAndForget(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fh(e).io.add(t),t.next()},t.next=3,Aw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Y(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fh(e).io.delete(t)},t.next=3,Aw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nx(e=Vw(e,tx)),Xw(t)?t:{next:t})}function __(e,t){return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=yb,r.next=3,Tw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nx(e),t)}function E_(e,t,n){var r=n.docs.get(t._key),i=new y_(e);return new Wx(e,i,t._key,r,new Bx(n.hasPendingWrites,n.fromCache),t.converter)}var I_=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r))._firestore=e,i}return s(n,[{key:"get",value:function(e){var t=this,r=v_(e,this._firestore),i=new y_(this._firestore);return Xe(p(n.prototype),"get",this).call(this,e).then((function(e){return new Wx(t._firestore,i,r._key,e._document,new Bx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){o(this,e),this._firestore=t,this._transaction=n,this._dataReader=bx(t)}return s(e,[{key:"get",value:function(e){var t=this,n=v_(e,this._firestore),r=new d_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Lh();var i=e[0];if(i.isFoundDocument())return new Vx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Vx(t._firestore,r,n._key,null,n.converter);throw Lh()}))}},{key:"set",value:function(e,t,n){var r=v_(e,this._firestore),i=h_(r.converter,t,n),a=wx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=v_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Z(t))||t instanceof lx?Cx(this._dataReader,"Transaction.update",i._key,t,n,o):Ax(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=v_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function S_(e,t){return function(e,t){var n=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function r(){var i;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return xw(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new pw(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(nx(e=Vw(e,tx)),(function(n){return t(new I_(e,n))}))}function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ix("arrayUnion",t)}function A_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ah=e}(Re),Ee(new ee("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new tx(i,new Wh(e.getProvider("auth-internal")),new Zh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),je(Sh,"3.4.1",e),je(Sh,"3.4.1","esm2017")}();function C_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function N_(){if("undefined"===typeof Uint8Array)throw new jh("unimplemented","Uint8Arrays are not available in this environment.")}function O_(){if("undefined"==typeof atob)throw new jh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var P_=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"toBase64",value:function(){return O_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return N_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return O_(),new e(fx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return N_(),new e(fx.fromUint8Array(t))}}]),e}();function R_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=l(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var D_=function(){function e(){o(this,e)}return s(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){cx(e=Vw(e,tx));var n=nx(e),r=e._freezeSettings(),i=new cw;return ix(n,i,new uw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){cx(e=Vw(e,tx));var t=nx(e),n=e._freezeSettings(),r=new cw;return ix(t,r,new sw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new jh(Uh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vh;return e._queue.enqueueAndForgetEvenWhileRestricted(Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Y(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ly.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ly.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Gm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),L_=function(){function e(t,n,r){var i=this;o(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Rw||(this._appCompat=t)}return s(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ww(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ax(this._delegate)}},{key:"disableNetwork",value:function(){return ox(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Mw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vh;return e.asyncQueue.enqueueAndForget(Y(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Tb,n.next=3,Tw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nx(e=Vw(e,tx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return x_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new jh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Q_(this,Zw(this._delegate,e))}catch(t){throw z_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new V_(this,Qw(this._delegate,e))}catch(t){throw z_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new H_(this,function(e,t){if(e=Vw(e,Bw),Lw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jh(Uh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Hw(e,null,function(e){return new op(ud.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw z_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return S_(this._delegate,(function(n){return e(new F_(t,n))}))}},{key:"batch",value:function(){var e=this;return nx(this._delegate),new U_(new p_(this._delegate,(function(t){return __(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ux(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sx(this._delegate,e).then((function(e){return e?new H_(t,e):null}))}}]),e}(),M_=function(e){d(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this)).firestore=e,r}return s(n,[{key:"convertBytes",value:function(e){return new P_(new fx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return V_.forKey(t,this.firestore,null)}}]),n}(f_);var F_=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new M_(t)}return s(e,[{key:"get",value:function(e){var t=this,n=$_(e);return this._delegate.get(n).then((function(e){return new W_(t._firestore,new Wx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$_(e);return n?(C_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$_(e);return this._delegate.delete(t),this}}]),e}(),U_=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"set",value:function(e,t,n){var r=$_(e);return n?(C_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),j_=function(){function e(t,n,r){o(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return s(e,[{key:"fromFirestore",value:function(e,t){var n=new Kx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new K_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new M_(t),n),i.set(n,a)),a}}]),e}();j_.INSTANCES=new WeakMap;var V_=function(){function e(t,n){o(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new M_(t)}return s(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Q_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Q_(this.firestore,Zw(this._delegate,e))}catch(t){throw z_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Z(e))instanceof Kw&&$w(this._delegate,e)}},{key:"set",value:function(e,t){t=C_("DocumentReference.set",t);try{return t?k_(this._delegate,e,t):k_(this._delegate,e)}catch(n){throw z_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?b_(this._delegate,e):b_.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw z_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return __(Vw(e.firestore,tx),[new tv(e._key,Vp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=q_(n),a=B_(n,(function(t){return new W_(e.firestore,new Wx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return w_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?m_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vw(e,Kw);var t=Vw(e.firestore,tx);return Nw(nx(t),e._key,{source:"server"}).then((function(n){return E_(t,e,n)}))}(this._delegate):function(e){e=Vw(e,Kw);var t=Vw(e.firestore,tx);return Nw(nx(t),e._key).then((function(n){return E_(t,e,n)}))}(this._delegate),t.then((function(e){return new W_(n.firestore,new Wx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(j_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new jh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Kw(n._delegate,r,new xd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Kw(n._delegate,r,t))}}]),e}();function z_(e,t,n){return e.message=e.message.replace(t,n),e}function q_(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!R_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function B_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=R_(e[0])?e[0]:R_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var W_=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"ref",get:function(){return new V_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Zx(this._delegate,e._delegate)}}]),e}(),K_=function(e){d(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Lh()}(void 0!==t),t}}]),n}(W_),H_=function(){function e(t,n){o(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new M_(t)}return s(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Yx(this._delegate,function(e,t,n){var r=t,i=qx("where",e);return new Jx(i,r,n)}(t,n,r)))}catch(i){throw z_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Yx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qx("orderBy",e);return new Xx(n,t)}(t,n)))}catch(r){throw z_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Yx(this._delegate,function(e){return zw("limit",e),new e_("limit",e,"F")}(t)))}catch(n){throw z_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Yx(this._delegate,function(e){return zw("limitToLast",e),new e_("limitToLast",e,"L")}(t)))}catch(n){throw z_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Yx(this._delegate,n_.apply(void 0,arguments)))}catch(t){throw z_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Yx(this._delegate,r_.apply(void 0,arguments)))}catch(t){throw z_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Yx(this._delegate,a_.apply(void 0,arguments)))}catch(t){throw z_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Yx(this._delegate,o_.apply(void 0,arguments)))}catch(t){throw z_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Yw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?g_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vw(e,Hw);var t=Vw(e.firestore,tx),n=nx(t),r=new y_(t);return Ow(n,e._query,{source:"server"}).then((function(n){return new Hx(t,r,e,n)}))}(this._delegate):function(e){e=Vw(e,Hw);var t=Vw(e.firestore,tx),n=nx(t),r=new y_(t);return Qx(e._query),Ow(n,e._query).then((function(n){return new Hx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Z_(n.firestore,new Hx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=q_(n),a=B_(n,(function(t){return new Z_(e.firestore,new Hx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return w_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(j_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),G_=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new K_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Z_=function(){function e(t,n){o(this,e),this._firestore=t,this._delegate=n}return s(e,[{key:"query",get:function(){return new H_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new K_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new G_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new K_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Zx(this._delegate,e._delegate)}}]),e}(),Q_=function(e){d(n,e);var t=g(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return s(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new V_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new V_(this.firestore,void 0===e?Qw(this._delegate):Qw(this._delegate,e))}catch(t){throw z_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Vw(e.firestore,tx),r=Qw(e),i=h_(e.converter,t);return __(n,[wx(bx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new V_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return $w(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(j_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(H_);function $_(e){return Vw(e,Kw)}var Y_=function(){function e(){o(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=k(lx,n)}return s(e,[{key:"isEqual",value:function(e){return(e=Z(e))instanceof lx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cd.keyField().canonicalString())}}]),e}(),J_=function(){function e(t){o(this,e),this._delegate=t}return s(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ex("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new xx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=T_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=A_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Tx("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),X_={Firestore:L_,GeoPoint:dx,Timestamp:td,Blob:P_,Transaction:F_,WriteBatch:U_,DocumentReference:V_,DocumentSnapshot:W_,Query:H_,QueryDocumentSnapshot:K_,QuerySnapshot:Z_,CollectionReference:Q_,FieldPath:Y_,FieldValue:J_,setLogLevel:function(e){!function(e){Ch.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ee("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},X_)))}(e,(function(e,t){return new L_(e,t,new D_)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Ze);var eE=Ze.initializeApp({apiKey:"AIzaSyCNDLIrcrFoRt3dzvwzziT_RauNH3j1twk",authDomain:"react-assignment-eb65d.firebaseapp.com",projectId:"react-assignment-eb65d",storageBucket:"react-assignment-eb65d.appspot.com",messagingSenderId:"604033202924",appId:"1:604033202924:web:900eb951e57a415fde83c9",measurementId:"G-PBZ3C1KB9M"}).firestore(),tE=Ze.auth(),nE=new Ze.auth.GoogleAuthProvider,rE=eE,iE=t.createContext(null);var aE=function(e){e()},oE=function(){return aE};var uE={notify:function(){},get:function(){return[]}};function sE(e,t){var n,r=uE;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=oE(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=uE)},getListeners:function(){return r}};return o}var cE="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var lE=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=sE(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);cE((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||iE;return t.createElement(u.Provider,{value:a},i)};n(110),n(900);n(462);function fE(){return(0,t.useContext)(iE)}function hE(e){void 0===e&&(e=iE);var n=e===iE?fE:function(){return(0,t.useContext)(e)};return function(){return n().store}}var dE=hE();function pE(e){void 0===e&&(e=iE);var t=e===iE?dE:hE(e);return function(){return t().dispatch}}var vE=pE(),yE=function(e,t){return e===t};function mE(e){void 0===e&&(e=iE);var n=e===iE?fE:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=yE);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0),u=o[1],s=(0,t.useMemo)((function(){return sE(r,i)}),[r,i]),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=(0,t.useRef)(),d=r.getState();try{if(e!==l.current||d!==f.current||c.current){var p=e(d);a=void 0!==h.current&&n(p,h.current)?h.current:p}else a=h.current}catch(v){throw c.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),v}return cE((function(){l.current=e,f.current=d,h.current=a,c.current=void 0})),cE((function(){function e(){try{var e=r.getState();if(e===f.current)return;var t=l.current(e);if(n(t,h.current))return;h.current=t,f.current=e}catch(v){c.current=v}u()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var gE,kE=mE();function bE(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wE(e){return!!e&&!!e[lI]}function xE(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===fI}(e)||Array.isArray(e)||!!e[cI]||!!e.constructor[cI]||CE(e)||NE(e))}function _E(e,t,n){void 0===n&&(n=!1),0===EE(e)?(n?Object.keys:hI)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function EE(e){var t=e[lI];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:CE(e)?2:NE(e)?3:0}function IE(e,t){return 2===EE(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SE(e,t){return 2===EE(e)?e.get(t):e[t]}function TE(e,t,n){var r=EE(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function AE(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function CE(e){return aI&&e instanceof Map}function NE(e){return oI&&e instanceof Set}function OE(e){return e.o||e.t}function PE(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dI(e);delete t[lI];for(var n=hI(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function RE(e,t){return void 0===t&&(t=!1),LE(e)||wE(e)||!xE(e)||(EE(e)>1&&(e.set=e.add=e.clear=e.delete=DE),Object.freeze(e),t&&_E(e,(function(e,t){return RE(t,!0)}),!0)),e}function DE(){bE(2)}function LE(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ME(e){var t=pI[e];return t||bE(18,e),t}function FE(e,t){pI[e]||(pI[e]=t)}function UE(){return rI}function jE(e,t){t&&(ME("Patches"),e.u=[],e.s=[],e.v=t)}function VE(e){zE(e),e.p.forEach(BE),e.p=null}function zE(e){e===rI&&(rI=e.l)}function qE(e){return rI={p:[],l:rI,h:e,m:!0,_:0}}function BE(e){var t=e[lI];0===t.i||1===t.i?t.j():t.O=!0}function WE(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ME("ES5").S(t,e,r),r?(n[lI].P&&(VE(t),bE(4)),xE(e)&&(e=KE(t,e),t.l||GE(t,e)),t.u&&ME("Patches").M(n[lI],e,t.u,t.s)):e=KE(t,n,[]),VE(t),t.u&&t.v(t.u,t.s),e!==sI?e:void 0}function KE(e,t,n){if(LE(t))return t;var r=t[lI];if(!r)return _E(t,(function(i,a){return HE(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return GE(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=PE(r.k):r.o;_E(3===r.i?new Set(i):i,(function(t,a){return HE(e,r,i,t,a,n)})),GE(e,i,!1),n&&e.u&&ME("Patches").R(r,n,e.u,e.s)}return r.o}function HE(e,t,n,r,i,a){if(wE(i)){var o=KE(e,i,a&&t&&3!==t.i&&!IE(t.D,r)?a.concat(r):void 0);if(TE(n,r,o),!wE(o))return;e.m=!1}if(xE(i)&&!LE(i)){if(!e.h.F&&e._<1)return;KE(e,i),t&&t.A.l||GE(e,i)}}function GE(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&RE(t,n)}function ZE(e,t){var n=e[lI];return(n?OE(n):e)[t]}function QE(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function $E(e){e.P||(e.P=!0,e.l&&$E(e.l))}function YE(e){e.o||(e.o=PE(e.t))}function JE(e,t,n){var r=CE(t)?ME("MapSet").N(t,n):NE(t)?ME("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:UE(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=vI;n&&(i=[r],a=yI);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):ME("ES5").J(t,n);return(n?n.A:UE()).p.push(r),r}function XE(e){return wE(e)||bE(22,e),function e(t){if(!xE(t))return t;var n,r=t[lI],i=EE(t);if(r){if(!r.P&&(r.i<4||!ME("ES5").K(r)))return r.t;r.I=!0,n=eI(t,i),r.I=!1}else n=eI(t,i);return _E(n,(function(t,i){r&&SE(r.t,t)===i||TE(n,t,e(i))})),3===i?new Set(n):n}(e)}function eI(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return PE(e)}function tI(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[lI];return vI.get(t,e)},set:function(t){var n=this[lI];vI.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][lI];if(!i.P)switch(i.i){case 5:r(i)&&$E(i);break;case 4:n(i)&&$E(i)}}}function n(e){for(var t=e.t,n=e.k,r=hI(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==lI){var o=t[a];if(void 0===o&&!IE(t,a))return!0;var u=n[a],s=u&&u[lI];if(s?s.t!==o:!AE(u,o))return!0}}var c=!!t[lI];return r.length!==hI(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};FE("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=dI(n);delete a[lI];for(var o=hI(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:UE(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,lI,{value:a,writable:!0}),i},S:function(e,n,i){i?wE(n)&&n[lI].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[lI];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)_E(a,(function(t){t!==lI&&(void 0!==i[t]||IE(i,t)?o[t]||e(a[t]):(o[t]=!0,$E(n)))})),_E(i,(function(e){void 0!==a[e]||IE(a,e)||(o[e]=!1,$E(n))}));else if(5===u){if(r(n)&&($E(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}gE=r.unstable_batchedUpdates,aE=gE;var nI,rI,iI="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),aI="undefined"!=typeof Map,oI="undefined"!=typeof Set,uI="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,sI=iI?Symbol.for("immer-nothing"):((nI={})["immer-nothing"]=!0,nI),cI=iI?Symbol.for("immer-draftable"):"__$immer_draftable",lI=iI?Symbol.for("immer-state"):"__$immer_state",fI=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),hI="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dI=Object.getOwnPropertyDescriptors||function(e){var t={};return hI(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},pI={},vI={get:function(e,t){if(t===lI)return e;var n=OE(e);if(!IE(n,t))return function(e,t,n){var r,i=QE(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!xE(r)?r:r===ZE(e.t,t)?(YE(e),e.o[t]=JE(e.A.h,r,e)):r},has:function(e,t){return t in OE(e)},ownKeys:function(e){return Reflect.ownKeys(OE(e))},set:function(e,t,n){var r=QE(OE(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ZE(OE(e),t),a=null==i?void 0:i[lI];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(AE(n,i)&&(void 0!==n||IE(e.t,t)))return!0;YE(e),$E(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ZE(e.t,t)||t in e.t?(e.D[t]=!1,YE(e),$E(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=OE(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){bE(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){bE(12)}},yI={};_E(vI,(function(e,t){yI[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yI.deleteProperty=function(e,t){return vI.deleteProperty.call(this,e[0],t)},yI.set=function(e,t,n){return vI.set.call(this,e[0],t,n,e[0])};var mI=function(){function e(e){var t=this;this.g=uI,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&bE(6),void 0!==r&&"function"!=typeof r&&bE(7),xE(e)){var u=qE(t),s=JE(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?VE(u):zE(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return jE(u,r),WE(e,u)}),(function(e){throw VE(u),e})):(jE(u,r),WE(o,u))}if(!e||"object"!=typeof e){if((o=n(e))===sI)return;return void 0===o&&(o=e),t.F&&RE(o,!0),o}bE(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){xE(e)||bE(8),wE(e)&&(e=XE(e));var t=qE(this),n=JE(this,e,void 0);return n[lI].C=!0,zE(t),n},t.finishDraft=function(e,t){var n=(e&&e[lI]).A;return jE(n,t),WE(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!uI&&bE(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ME("Patches").$;return wE(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),gI=new mI,kI=gI.produce,bI=(gI.produceWithPatches.bind(gI),gI.setAutoFreeze.bind(gI),gI.setUseProxies.bind(gI),gI.applyPatches.bind(gI),gI.createDraft.bind(gI),gI.finishDraft.bind(gI),kI);function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wI(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _I(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var EI="function"===typeof Symbol&&Symbol.observable||"@@observable",II=function(){return Math.random().toString(36).substring(7).split("").join(".")},SI={INIT:"@@redux/INIT"+II(),REPLACE:"@@redux/REPLACE"+II(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+II()}};function TI(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function AI(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(_I(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(_I(1));return n(AI)(e,t)}if("function"!==typeof e)throw new Error(_I(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(_I(3));return a}function f(e){if("function"!==typeof e)throw new Error(_I(4));if(s)throw new Error(_I(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(_I(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!TI(e))throw new Error(_I(7));if("undefined"===typeof e.type)throw new Error(_I(8));if(s)throw new Error(_I(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(_I(10));i=e,h({type:SI.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(_I(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[EI]=function(){return this},e}return h({type:SI.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[EI]=p,r}function CI(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:SI.INIT}))throw new Error(_I(12));if("undefined"===typeof n(void 0,{type:SI.PROBE_UNKNOWN_ACTION()}))throw new Error(_I(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(_I(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function NI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function OI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(_I(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=NI.apply(void 0,a)(n.dispatch),xI(xI({},n),{},{dispatch:r})}}}function PI(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var RI=PI();RI.withExtraArgument=PI;var DI=RI,LI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MI=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},FI=Object.defineProperty,UI=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),jI=Object.prototype.hasOwnProperty,VI=Object.prototype.propertyIsEnumerable,zI=function(e,t,n){return t in e?FI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},qI=function(e,t){for(var n in t||(t={}))jI.call(t,n)&&zI(e,n,t[n]);if(UI)for(var r=0,i=UI(t);r<i.length;r++){n=i[r];VI.call(t,n)&&zI(e,n,t[n])}return e},BI="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?NI:NI.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function WI(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var KI=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return LI(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,MI([void 0],e[0].concat(this)))):new(t.bind.apply(t,MI([void 0],e.concat(this))))},t}(Array);function HI(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new KI);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(DI.withExtraArgument(n.extraArgument)):r.push(DI));0;return r}(e)}}function GI(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return qI(qI({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ZI(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}tI();var QI=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:bI(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ZI(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=qI(qI({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ZI(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return bI(e(),(function(){}))};else{var c=bI(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=MI([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(wE(e))return"undefined"===typeof(r=n(e,t))?e:r;if(xE(e))return bI(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?GI(c,r):GI(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),$I=QI.actions,YI=$I.login,JI=$I.logout,XI=function(e){return e.user.user},eS=QI.reducer,tS=n(184);var nS=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),r=(n[0],n[1]),a=kE(XI);return(0,t.useEffect)((function(){rE.collection("users").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),(0,tS.jsxs)("div",{className:"header",children:[(0,tS.jsxs)("h3",{className:"welcome",children:["Welcome!",(0,tS.jsx)("span",{className:"welcome__name",children:" Your name"})]}),(0,tS.jsx)("button",{onClick:function(){tE.signInWithPopup(nE).catch((function(e){return alert(e.message)})),rE.collection("users").add({uid:a.uid,photo:a.photo,email:a.email,displayName:a.displayName})},className:"btn purple",children:"Login"})]})};var rS=function(e){var t=e.name;return(0,tS.jsx)("div",{className:"sidebarItems",children:(0,tS.jsx)("h4",{className:"sidebar__name",children:t})})};var iS=function(){return(0,tS.jsxs)("div",{className:"sidebar",children:[(0,tS.jsxs)("div",{className:"sidebar__title",children:[(0,tS.jsx)("h2",{className:"dashboard",children:"DASHBOARD"}),(0,tS.jsx)("hr",{})]}),(0,tS.jsxs)("div",{className:"sidebar__items",children:[(0,tS.jsx)(rS,{name:"My information"}),(0,tS.jsx)(rS,{name:"Project Listed"}),(0,tS.jsx)(rS,{name:"Project Invested"}),(0,tS.jsx)(rS,{name:"Save for later"}),(0,tS.jsx)(rS,{name:"My Earnings"}),(0,tS.jsx)(rS,{name:"Bank Items"})]})]})};var aS=function(){return(0,tS.jsxs)("div",{className:"title1",children:[(0,tS.jsxs)("h4",{className:"title1__text",children:["Your whitelist status: ",(0,tS.jsx)("span",{className:"subtext",children:"Eligible"})]}),(0,tS.jsxs)("div",{className:"title__right",children:[(0,tS.jsx)("h4",{className:"title1__text2",children:"Not whitelisted yet?  "}),(0,tS.jsx)("button",{className:"btn2 btn2__style",children:" Whitelist now"})]})]})};var oS=function(){return(0,tS.jsx)("div",{className:"title2",children:(0,tS.jsx)("h4",{className:"title2__text",children:"Project Listed"})})};var uS=function(){return(0,tS.jsxs)("div",{className:"title",children:[(0,tS.jsx)(aS,{}),(0,tS.jsx)(oS,{})]})};var sS=function(e){var t=e.selected,n=e.Icon,r=e.name;return(0,tS.jsxs)("div",{className:"card__buttons ".concat(t&&"selected"),children:[(0,tS.jsx)("div",{className:"button__icon",children:(0,tS.jsx)(n,{})}),(0,tS.jsx)("div",{className:"button__name",children:(0,tS.jsx)("span",{children:r})})]})};var cS=function(e){var t=e.tokenname,n=e.equityshares,r=e.amount1,i=e.amount2;return(0,tS.jsx)("div",{className:"card__containers",children:(0,tS.jsxs)("h3",{className:"card__containerText",children:[t,n,(0,tS.jsxs)("p",{className:"card__containerAmount",children:[r,i]})]})})},lS=n(903),fS=n(91);var hS=function(){return(0,tS.jsxs)("div",{className:"card",children:[(0,tS.jsxs)("div",{className:"card__container1",children:[(0,tS.jsx)("p",{className:"card__text",children:"Fundraiser name"}),(0,tS.jsx)("img",{className:"card__img",src:"https://s-i.huffpost.com/gen/1880660/images/o-SOCIAL-INVESTMENT-facebook.jpg"})]}),(0,tS.jsxs)("div",{className:"card__container2",children:[(0,tS.jsx)(cS,{tokenname:"No. of Tokens",amount1:100}),(0,tS.jsx)(cS,{equityshares:"Equity Shares offered(%)",amount1:"25%"})]}),(0,tS.jsx)("div",{className:"card__container3",children:(0,tS.jsx)("input",{className:"card__input",placeholder:"Category"})}),(0,tS.jsx)("div",{className:"button__class",children:(0,tS.jsx)("button",{className:"card__button",children:"Amount"})}),(0,tS.jsxs)("div",{className:"card__container4",children:[(0,tS.jsx)("h4",{className:"container4__text1",children:"Time Remaining "}),(0,tS.jsx)("h4",{className:"container4__text2",children:" 00:00:00 HRS"})]}),(0,tS.jsxs)("div",{className:"card__container5",children:[(0,tS.jsx)(sS,{selected:!0,Icon:lS.Z,name:"View Project"}),(0,tS.jsx)(sS,{Icon:fS.Z,name:"Save for Later"})]})]})};var dS=function(){return(0,tS.jsxs)("div",{className:"cards",children:[(0,tS.jsx)(hS,{}),(0,tS.jsx)(hS,{})]})};var pS=function(){kE(XI);var e=vE();return(0,t.useEffect)((function(){tE.onAuthStateChanged((function(t){e(t?YI({uid:t.uid,photo:t.photoURL,email:t.email,displayName:t.displayName}):JI())}))}),[]),(0,tS.jsxs)("div",{className:"app",children:[(0,tS.jsx)(nS,{}),(0,tS.jsxs)("div",{className:"main__body",children:[(0,tS.jsx)(iS,{}),(0,tS.jsxs)("div",{className:"content",children:[(0,tS.jsx)(uS,{}),(0,tS.jsx)(dS,{})]})]})]})},vS=function(e){var t,n=HI(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!WI(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=CI(a)}var p=u;"function"===typeof p&&(p=p(n));var v=OI.apply(void 0,p),y=NI;c&&(y=BI(qI({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=MI([v],d):"function"===typeof d&&(m=d(m)),AI(t,f,y.apply(void 0,m))}({reducer:{user:eS}});r.render((0,tS.jsx)(t.StrictMode,{children:(0,tS.jsx)(lE,{store:vS,children:(0,tS.jsx)(pS,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.fe87bec5.js.map